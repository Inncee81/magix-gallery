define("mx-pagination/index",["magix","$","mx-dropdown/index"],(e,a,t)=>{e("mx-dropdown/index");var i=e("magix"),s=e("$"),n=[10,20,30,40,50,100];i.applyStyle("_C","._ek{color:#999}._el{font-size:0}._em,._en{font-size:14px}._en{margin:0 3px;text-decoration:none;border-radius:4px;text-align:center;min-width:35px;height:28px;line-height:28px;display:block}._eo{font-size:12px;top:-1px}._ep ._en{color:#fff;background-color:#f96447}._eq ._en,._eq ._en:hover{color:#999;background:transparent;cursor:not-allowed}._er{-webkit-transform:scaleX(-1);transform:scaleX(-1)}"),t.exports=i.View.extend({tmpl:function(e,a){var t="",i={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},s=/[&<>"'`]/g,n=function(e){return null==e?"":""+e},l=function(e){return"&"+i[e]+";"},r=function(e){return n(e).replace(s,l)},p=function(t,i,s){for(s=a[e];--s;)if(a[i=e+s]===t)return i;return a[i=e+a[e]++]=t,i};if(t+='<div class="_ai _ek">',!a.simplify&&!a.mini){t+="<span>当前第<b>";for(var _=a.startSpace;_--;)t+="&nbsp;&nbsp;";t+=r(a.offsetStart)+" - "+r(a.offsetEnd);for(var c=a.endSpace;c--;)t+="&nbsp;&nbsp;";t+="</b>条，共<b>"+r(a.total)+'</b>条，每页展现</span><div style="width:70px" class="_t _h" mx-change="__eb()" mx-view="mx-dropdown/index?list=',t+=p(a.sizes),t+="&selected=",t+=p(a.size),t+='"></div><span>条</span>'}if(t+='<ul class="_ai _ac _el"><li class="_ac',1==a.page&&(t+=" _eq"),t+='"><a class="_en __ _eo" href="#" mx-click="',a.page>1?t+="__ea({page:"+r(a.page-1)+"})":t+="__F()",t+='" title="&lt;">&#xe61e;</a></li>',a.mini){t+='<li class="_ac _em">';for(var o=a.pageSpace;o--;)t+="&nbsp;&nbsp;";t+=r(a.page)+" / "+r(a.pages)+"</li>"}else{a.start>1&&(t+='<li class="_ac"><a class="_en" href="#" mx-click="__ea({page:1})" title="1">1</a></li>'),a.start>2&&(t+='<li class="_eq _ac"><a class="_en" href="#" mx-click="__F()" title="...">...</a></li>');for(var g=a.start;g<=a.end;g++)t+='<li class="_ac',g==a.page&&(t+=" _ep"),t+='"><a class="_en" href="#" mx-click="__ea({page:'+r(g)+'})" title="'+r(g)+'">'+r(g)+"</a></li>";a.end+2<=a.pages&&(t+='<li class="_ac _eq"><a class="_en" href="#" mx-click="__F()" title="...">...</a></li>'),a.end<a.pages&&(t+='<li class="_ac"><a class="_en" href="#" mx-click="__ea({page:'+r(a.pages)+'})" title="'+r(a.pages)+'">'+r(a.pages)+"</a></li>")}return t+='<li class="_ac',a.page==a.pages&&(t+=" _eq"),t+='"><a class="_en __ _eo _er" href="#" mx-click="',a.page<a.pages?t+="__ea({page:"+r(a.page+1)+"})":t+="__F()",t+='" title="&gt;">&#xe61e;</a></li></ul></div>'},init:function(e){this.updater.set({sizes:n}),this.assign(e)},assign:function(e){var a=0|e.total||0,t=e.size||20,i=e.page||1;return this.updater.set({step:e.step||7,simplify:e.simplify+""=="true",mini:e.mini+""=="true",page:i,total:a,size:t}),!0},render:function(){var e=this.__e_();this.updater.digest(e)},__e_:function(){var e=this.updater.get(),a=0|e.page,t=Math.ceil((e.total||1)/e.size);a>t&&(a=t);var i,s=0|e.step,n=s/2|0,l=Math.max(1,a-n),r=Math.min(t,l+s-1);(l=Math.max(1,r-s+1))<=2&&r+(i=3-l)<t&&(r+=i),r+2>t&&l-(i=2-(t-r))>1&&(l-=i),3==l&&(l-=1),r+2==t&&(r+=1);var p=(a-1)*e.size+1,_=Math.min(e.total,a*e.size);return{pages:t,offsetStart:p,offsetEnd:_,startSpace:(e.total+"").length-(p+"").length,endSpace:(e.total+"").length-(_+"").length,pageSpace:(t+"").length-(a+"").length,page:a,start:l,end:r}},__w:function(){var e=s("#"+this.id),a=this.updater.get();e.trigger({type:"change",page:a.page,size:a.size})},"__ea<click>":function(e){e.preventDefault();this.updater.set(e.params),this.render(),this.__w()},"__eb<change>":function(e){e.stopPropagation();this.updater.set({page:1,size:e.item}),this.render(),this.__w()},"__F<click>":function(e){e.preventDefault()}})});