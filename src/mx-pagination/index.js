define("mx-pagination/index",["magix","$","mx-dropdown/index"],(e,a,t)=>{e("mx-dropdown/index");var i=e("magix"),s=e("$"),l=[10,20,30,40,50,100];i.applyStyle("_C","._el{color:#999}._em{font-size:0}._en,._eo{font-size:14px}._eo{margin:0 3px;text-decoration:none;border-radius:4px;text-align:center;min-width:35px;height:28px;line-height:28px;display:block}._ep{font-size:12px;top:-1px}._eq ._eo{color:#fff;background-color:#f96447}._er ._eo,._er ._eo:hover{color:#999;background:transparent;cursor:not-allowed}._es{-webkit-transform:scaleX(-1);transform:scaleX(-1)}"),t.exports=i.View.extend({tmpl:{html:'<div class="_ai _el"><%if(!$$.simplify&&!$$.mini){%><span>当前第<b><%for(var _=$$.startSpace;_--;){%>&nbsp;&nbsp;<%}%><%=$$.offsetStart%> - <%=$$.offsetEnd%><%for(var a=$$.endSpace;a--;){%>&nbsp;&nbsp;<%}%></b>条，共<b><%=$$.total%></b>条，每页展现</span><div style="width:70px" class="_t _h" mx-change="__ea()" mx-view="mx-dropdown/index?list=<%@$$.sizes%>&selected=<%@$$.size%>"></div><span>条</span><%}%><ul class="_ai _ac _em"><li class="_ac<%if($$.page==1){%> _er<%}%>"><a class="_eo __ _ep" href="#" mx-click="<%if($$.page>1){%>__e_({page:<%=$$.page-1%>})<%}else{%>__E()<%}%>" title="&lt;">&#xe61e;</a></li><%if($$.mini){%><li class="_ac _en"><%for(var b=$$.pageSpace;b--;){%>&nbsp;&nbsp;<%}%><%=$$.page%> / <%=$$.pages%></li><%}else{if($$.start>1){%><li class="_ac"><a class="_eo" href="#" mx-click="__e_({page:1})" title="1">1</a></li><%}if($$.start>2){%><li class="_er _ac"><a class="_eo" href="#" mx-click="__E()" title="...">...</a></li><%}for(var c=$$.start;c<=$$.end;c++){%><li class="_ac<%if(c==$$.page){%> _eq<%}%>"><a class="_eo" href="#" mx-click="__e_({page:<%=c%>})" title="<%=c%>"><%=c%></a></li><%}if($$.end+2<=$$.pages){%><li class="_ac _er"><a class="_eo" href="#" mx-click="__E()" title="...">...</a></li><%}if($$.end<$$.pages){%><li class="_ac"><a class="_eo" href="#" mx-click="__e_({page:<%=$$.pages%>})" title="<%=$$.pages%>"><%=$$.pages%></a></li><%}}%><li class="_ac<%if($$.page==$$.pages){%> _er<%}%>"><a class="_eo __ _ep _es" href="#" mx-click="<%if($$.page<$$.pages){%>__e_({page:<%=$$.page+1%>})<%}else{%>__E()<%}%>" title="&gt;">&#xe61e;</a></li></ul></div>'},init:function(e){this.updater.set({sizes:l}),this.assign(e)},assign:function(e){var a=0|e.total||0,t=e.size||20,i=e.page||1;return this.updater.set({step:e.step||7,simplify:e.simplify+""=="true",mini:e.mini+""=="true",page:i,total:a,size:t}),!0},render:function(){var e=this.__dZ();this.updater.digest(e)},__dZ:function(){var e=this.updater.get(),a=0|e.page,t=Math.ceil((e.total||1)/e.size);a>t&&(a=t);var i,s=0|e.step,l=s/2|0,_=Math.max(1,a-l),n=Math.min(t,_+s-1);(_=Math.max(1,n-s+1))<=2&&n+(i=3-_)<t&&(n+=i),n+2>t&&_-(i=2-(t-n))>1&&(_-=i),3==_&&(_-=1),n+2==t&&(n+=1);var p=(a-1)*e.size+1,r=Math.min(e.total,a*e.size);return{pages:t,offsetStart:p,offsetEnd:r,startSpace:(e.total+"").length-(p+"").length,endSpace:(e.total+"").length-(r+"").length,pageSpace:(t+"").length-(a+"").length,page:a,start:_,end:n}},__v:function(){var e=s("#"+this.id),a=this.updater.get();e.trigger({type:"change",page:a.page,size:a.size})},"__e_<click>":function(e){e.preventDefault();this.updater.set(e.params),this.render(),this.__v()},"__ea<change>":function(e){e.stopPropagation();this.updater.set({page:1,size:e.item}),this.render(),this.__v()},"__E<click>":function(e){e.preventDefault()}})});