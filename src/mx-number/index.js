define("mx-number/index",["magix","$"],(_,t,i)=>{var e=_("magix"),a=_("$");e.applyStyle("_g",'._aS{padding:0;position:relative}._aT{width:100%;border:none;height:100%;background-color:transparent;color:#333;display:block}._aU,._aV{width:25px;height:50%;position:absolute;right:1px;border:2px solid #fff;border-radius:4px;cursor:pointer}._aU:hover,._aV:hover{background-color:#f0f0f0}._aV{top:1px}._aU{bottom:1px}._aW:after{width:0;height:0;position:absolute;top:0;right:0;bottom:0;left:0;border-left:5px solid transparent;border-right:5px solid transparent;content:"";display:block;margin:auto}._aU:after{border-top:5px solid #ccc}._aV:after{border-bottom:5px solid #ccc}._aX{background-color:#fbfbfb}._aX:hover{border-color:#e6e6e6}._aX ._aU,._aX ._aV{cursor:not-allowed;border-color:transparent}._aX ._aU:hover,._aX ._aV:hover{background-color:transparent}._aX ._aV:hover:after{border-bottom-color:#ccc}._aX ._aU:hover:after{border-top-color:#ccc}'),i.exports=e.View.extend({tmpl:{html:'<input class="_aT" mx-focusin="__ao()" mx-focusout="__dT()" value="<%=$$.value%>" mx-change="__dR()" mx-keydown="__dY()" <%if($$.disabled){%> disabled<%}%> autocomplete="off"><span class="_aV _aW _aj" mx-click="__dO({i:true})" mx-mousedown="__dX({i:true})" mx-contextmenu="__E()"></span><span class="_aU _aW _aj" mx-click="__dO()" mx-mousedown="__dX()" mx-contextmenu="__E()"></span>'},init:function(_){this.assign(_);var t=a("#"+this.id);this.__i=t},assign:function(_){var t=+_.value;t||0===t||(t=""),this.__cJ=t,this.__dK=+_.step||1,this.__cv=_.disabled+""=="true",this.__G=e.has(_,"max")?+_.max:Number.MAX_VALUE,this.__F=e.has(_,"min")?+_.min:-Number.MAX_VALUE,this.__dL=+_.ratio||10;var i=this.__dK+"",a=i.indexOf(".");return a=a>=0?i.slice(a+1).length:0,this.__dM=a,!0},render:function(){this.__i[this.__cv?"addClass":"removeClass"]("_aX"),this.updater.digest({value:this.__cJ,disabled:this.__cv}),this.__dN=this.__i.find("input")},val:function(_){if((_=+_)||0===_){var t=this.__G,i=this.__F,e=this.__dK;_>t?_=t:_<i&&(_=i),_!==this.__cJ&&(_=(_=Math.round(_/e)*e).toFixed(this.__dM),this.__dN.val(_),_=+_,this.__i.prop("value",this.__cJ=_).trigger({type:"input",value:_}))}return this.__cJ},__dO:function(_,t){var i=this.__cJ;""===i&&(i=0);var e=this.__dK,a=i;t&&(e*=this.__dL),_?a+=e:a-=e,this.val(a)},__dP:function(){var _=this.__dN[0];_&&(_.focus(),_.selectionStart=_.selectionEnd=_.value.length)},__dQ:function(){this.__i.addClass("_ar"),e.has(this,"__cA")||(this.__cA=this.__cJ)},"__dR<change>":function(_){_.stopPropagation();var t=_.eventTarget,i=t.value;if(""===i)return t.value=this.__cJ="",void this.__i.prop("value","");var e=Number(i);(e||0===e)&&this.val(e),e=(e=this.__cJ)||0===e?e.toFixed(this.__dM):"",t.value=e},"__ao<focusin>":function(){this.__dQ()},"__dT<focusout>":function(){this.__dS||(this.__i.removeClass("_ar"),this.__cA!=this.__cJ&&this.__i.trigger({type:"change",value:this.__cJ}),delete this.__cA)},"__dO<click>":function(_){this.__cv||this.__dU||(this.__dO(_.params.i,_.shiftKey),this.__dP())},"__dX<mousedown>":function(_){var t=this;t.__cv||(t.__dS=!0,t.__dQ(),t.__dV=setTimeout(t.wrapAsync(function(){t.__dW=setInterval(t.wrapAsync(function(){t.__dU=!0,t.__dO(_.params.i),t.__dP()}),50)}),300))},"__dY<keydown>":function(_){if(38==_.keyCode||40==_.keyCode){_.preventDefault();if(!this.__cv){var t=_.eventTarget.value;if(""===t)this.__cJ="";else{var i=Number(t);(i||0===i)&&i!=this.__cJ&&(this.__cJ=i)}this.__dO(38==_.keyCode,_.shiftKey)}}},"__E<contextmenu>":function(_){_.preventDefault()},"$doc<mouseup>":function(){var _=this;clearTimeout(_.__dV),clearInterval(_.__dW),delete _.__dS,setTimeout(_.wrapAsync(function(){delete _.__dU}),0)}})});