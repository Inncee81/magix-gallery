define("mx-number/index",["magix","$"],(_,t,e)=>{var i=_("magix"),o=_("$");i.applyStyle("_B",'._ef{width:100%;border:none;height:100%;background-color:transparent;color:#333;display:block}._eg,._eh{width:25px;height:50%;position:absolute;right:1px;border:2px solid #fff;border-radius:4px;cursor:pointer}._eg:hover,._eh:hover{background-color:#f0f0f0}._eh{top:1px}._eg{bottom:1px}._ei:after{width:0;height:0;position:absolute;top:0;right:0;bottom:0;left:0;border-left:5px solid transparent;border-right:5px solid transparent;content:"";display:block;margin:auto}._eg:after{border-top:5px solid #ccc}._eh:after{border-bottom:5px solid #ccc}._ej{background-color:#fbfbfb}._ej:hover{border-color:#e6e6e6}._ej ._eg,._ej ._eh{cursor:not-allowed;border-color:transparent}._ej ._eg:hover,._ej ._eh:hover{background-color:transparent}._ej ._eh:hover:after{border-bottom-color:#ccc}._ej ._eg:hover:after{border-top-color:#ccc}'),e.exports=i.View.extend({tmpl:function(_,t){var e="",i={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},o=/[&<>"'`]/g,s=function(_){return null==_?"":""+_},r=function(_){return"&"+i[_]+";"};e+='<input class="_ef" mx-focusin="'+(t=t||"")+'__aq()" mx-focusout="'+t+'__dV()" value="'+(n=_.value,s(n).replace(o,r))+'" mx-change="'+t+'__dT()" mx-keydown="'+t+'__e_()" ';var n;return _.disabled&&(e+=" disabled"),e+=' autocomplete="off"/><span mxs="_):_" class="_eh _ei _aj" mx-click="'+t+'__dQ({i:true})" mx-mousedown="'+t+'__dZ({i:true})" mx-contextmenu="'+t+'__G()"></span><span mxs="_):a" class="_eg _ei _aj" mx-click="'+t+'__dQ()" mx-mousedown="'+t+'__dZ()" mx-contextmenu="'+t+'__G()"></span>'},init:function(_){this.assign(_);var t=o("#"+this.id);this.__k=t},assign:function(_){var t=+_.value;t||0===t||(t=""),this.__cL=t,this.__dM=+_.step||1,this.__cx=_.disabled+""=="true",this.__I=i.has(_,"max")?+_.max:Number.MAX_VALUE,this.__H=i.has(_,"min")?+_.min:-Number.MAX_VALUE,this.__dN=+_.ratio||10;var e=this.__dM+"",o=e.indexOf(".");return o=o>=0?e.slice(o+1).length:0,this.__dO=o,!0},render:function(){this.__k[this.__cx?"addClass":"removeClass"]("_ej"),this.updater.digest({value:this.__cL,disabled:this.__cx}),this.__dP=this.__k.find("input")},val:function(_){if((_=+_)||0===_){var t=this.__I,e=this.__H,i=this.__dM;_>t?_=t:_<e&&(_=e),_!==this.__cL&&(_=(_=i<1?Math.round(_/i)*i:_).toFixed(this.__dO),this.__dP.val(_),_=+_,this.__k.prop("value",this.__cL=_).trigger({type:"input",value:_}))}return this.__cL},__dQ:function(_,t){var e=this.__cL;""===e&&(e=0);var i=this.__dM,o=e;t&&(i*=this.__dN),_?o+=i:o-=i,this.val(o)},__dR:function(){var _=this.__dP[0];_&&(_.focus(),_.selectionStart=_.selectionEnd=_.value.length)},__dS:function(){this.__k.addClass("_ar"),i.has(this,"__cC")||(this.__cC=this.__cL)},"__dT<change>":function(_){_.stopPropagation();var t=_.eventTarget,e=t.value;if(""===e)return t.value=this.__cL="",void this.__k.prop("value","");var i=Number(e);(i||0===i)&&this.val(i),i=(i=this.__cL)||0===i?i.toFixed(this.__dO):"",t.value=i},"__aq<focusin>":function(){this.__dS()},"__dV<focusout>":function(){this.__dU||(this.__k.removeClass("_ar"),this.__cC!=this.__cL&&this.__k.trigger({type:"change",value:this.__cL}),delete this.__cC)},"__dQ<click>":function(_){this.__cx||this.__dW||(this.__dQ(_.params.i,_.shiftKey),this.__dR())},"__dZ<mousedown>":function(_){var t=this;t.__cx||(t.__dU=!0,t.__dS(),t.__dX=setTimeout(t.wrapAsync(function(){t.__dY=setInterval(t.wrapAsync(function(){t.__dW=!0,t.__dQ(_.params.i),t.__dR()}),50)}),300))},"__e_<keydown>":function(_){if(38==_.keyCode||40==_.keyCode){_.preventDefault();if(!this.__cx){var t=_.eventTarget.value;if(""===t)this.__cL="";else{var e=Number(t);(e||0===e)&&e!=this.__cL&&(this.__cL=e)}this.__dQ(38==_.keyCode,_.shiftKey)}}},"__G<contextmenu>":function(_){_.preventDefault()},"$doc<mouseup>":function(){var _=this;clearTimeout(_.__dX),clearInterval(_.__dY),delete _.__dU,setTimeout(_.wrapAsync(function(){delete _.__dW}),0)}})});