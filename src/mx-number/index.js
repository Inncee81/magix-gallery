define("mx-number/index",["magix","$"],(_,e,t)=>{var i=_("magix"),s=_("$");i.applyStyle("_B",'._ef{padding:0;position:relative}._eg{width:100%;border:none;height:100%;padding:6px 9px;background-color:transparent;color:#333;display:block}._eh,._ei{width:25px;height:50%;position:absolute;right:1px;border:2px solid #fff;border-radius:4px;cursor:pointer}._eh:hover,._ei:hover{background-color:#f0f0f0}._ei{top:1px}._eh{bottom:1px}._ej:after{width:0;height:0;position:absolute;top:0;right:0;bottom:0;left:0;border-left:5px solid transparent;border-right:5px solid transparent;content:"";display:block;margin:auto}._eh:after{border-top:5px solid #ccc}._ei:after{border-bottom:5px solid #ccc}._ek{background-color:#fbfbfb}._ek:hover{border-color:#e6e6e6}._ek ._eh,._ek ._ei{cursor:not-allowed;border-color:transparent}._ek ._eh:hover,._ek ._ei:hover{background-color:transparent}._ek ._ei:hover:after{border-bottom-color:#ccc}._ek ._eh:hover:after{border-top-color:#ccc}'),t.exports=i.View.extend({tmpl:{html:'<input mx-guid="g0" class="_eg" mx-focusin="__ai()" mx-focusout="__dN()" value="<%=$$.value%>" mx-change="__dL()" mx-keydown="__dS()" <%if($$.disabled){%> disabled<%}%> autocomplete="off"><span class="_ei _ej _aj" mx-click="__dI({i:true})" mx-mousedown="__dR({i:true})" mx-contextmenu="__D()"></span><span class="_eh _ej _aj" mx-click="__dI()" mx-mousedown="__dR()" mx-contextmenu="__D()"></span>',subs:[{keys:["value","disabled"],path:'input[mx-guid="g0"]',attr:'value="<%=$$.value%>" mx-change="__dL()" mx-keydown="__dS()" <%if($$.disabled){%> disabled<%}%>',attrs:[{n:"value",q:1,p:1},{n:"mx-change"},{n:"mx-keydown"},{n:"disabled",b:1,p:1}]}]},init:function(_){this.assign(_);var e=s("#"+this.id);e.addClass("_ap _ef"),this.__h=e},assign:function(_){this.__cB=+_.value||"",this.__dE=+_.step||1,this.__cn=_.disabled+""=="true",this.__F=i.has(_,"max")?+_.max:Number.MAX_VALUE,this.__E=i.has(_,"min")?+_.min:-Number.MAX_VALUE,this.__dF=+_.ratio||10;var e=this.__dE+"",t=e.indexOf(".");return t=t>=0?e.slice(t+1).length:0,this.__dG=t,!0},render:function(){this.__h[this.__cn?"addClass":"removeClass"]("_ek"),this.updater.digest({value:this.__cB,disabled:this.__cn}),this.__dH=this.__h.find("input")},val:function(_){if((_=+_)||0===_){var e=this.__F,t=this.__E,i=this.__dE;_>e?_=e:_<t&&(_=t),_!==this.__cB&&(_=(_=Math.round(_/i)*i).toFixed(this.__dG),this.__dH.val(_),_=+_,this.__h.prop("value",this.__cB=_).trigger({type:"input",value:_}))}return this.__cB},__dI:function(_,e){var t=this.__cB;""===t&&(t=0);var i=this.__dE,s=t;e&&(i*=this.__dF),_?s+=i:s-=i,this.val(s)},__dJ:function(){var _=this.__dH[0];_&&(_.focus(),_.selectionStart=_.selectionEnd=_.value.length)},__dK:function(){this.__h.addClass("_ar"),i.has(this,"__cs")||(this.__cs=this.__cB)},"__dL<change>":function(_){_.stopPropagation();var e=_.eventTarget,t=e.value;if(""===t)return e.value=this.__cB="",void this.__h.prop("value","");var i=Number(t);(i||0===i)&&this.val(i),i=(i=this.__cB)||0===i?i.toFixed(this.__dG):"",e.value=i},"__ai<focusin>":function(){this.__dK()},"__dN<focusout>":function(){this.__dM||(this.__h.removeClass("_ar"),this.__cs!=this.__cB&&this.__h.trigger({type:"change",value:this.__cB}),delete this.__cs)},"__dI<click>":function(_){this.__cn||this.__dO||(this.__dI(_.params.i,_.shiftKey),this.__dJ())},"__dR<mousedown>":function(_){var e=this;e.__cn||(e.__dM=!0,e.__dK(),e.__dP=setTimeout(e.wrapAsync(function(){e.__dQ=setInterval(e.wrapAsync(function(){e.__dO=!0,e.__dI(_.params.i),e.__dJ()}),50)}),300))},"__dS<keydown>":function(_){if(38==_.keyCode||40==_.keyCode){_.preventDefault();if(!this.__cn){var e=_.eventTarget.value;if(""===e)this.__cB="";else{var t=Number(e);(t||0===t)&&t!=this.__cB&&(this.__cB=t)}this.__dI(38==_.keyCode,_.shiftKey)}}},"__D<contextmenu>":function(_){_.preventDefault()},"$doc<mouseup>":function(){var _=this;clearTimeout(_.__dP),clearInterval(_.__dQ),delete _.__dM,setTimeout(_.wrapAsync(function(){delete _.__dO}),0)}})});