define("mx-slider/range",["magix","$","../mx-dragdrop/index","./style"],(e,t,i)=>{var _=e("magix"),s=e("$"),a=e("../mx-dragdrop/index");e("./style"),i.exports=_.View.extend({tmpl:{html:'<div mx-guid="g0" class="_ex<%if($$.vertical){%> _ez<%}else{%> _ey<%}%>" mx-contextmenu="__D()" style="<%if($$.vertical){%>height:<%=$$.height%><%}else{%>width:<%=$$.width%><%}%>px"><div mx-guid="g1" class="_eA<%if($$.vertical){%> _eC<%}else{%> _eB<%}%>"></div><div mx-guid="g2" tabindex="0" mx-keydown="__ep({start:true})" class="_eD<%if($$.vertical){%> _eF<%}else{%> _eE<%}%>" mx-mousedown="__el({start:true})" id="left_<%=$$.viewId%>"></div><div mx-guid="g3" class="_eG<%if($$.vertical){%> _eM<%}else{%> _eL<%}%>" id="leftl_<%=$$.viewId%>"></div><div mx-guid="g4" tabindex="0" mx-keydown="__ep()" class="_eD<%if($$.vertical){%> _eF<%}else{%> _eE<%}%>" mx-mousedown="__el({end:true})" id="right_<%=$$.viewId%>"></div><div mx-guid="g5" class="_eG<%if($$.vertical){%> _eM<%}else{%> _eL<%}%>" id="rightl_<%=$$.viewId%>"></div><div mx-guid="g6" class="<%if($$.vertical){%>_eJ<%}else{%>_eH<%}%>">7</div><div mx-guid="g7" class="<%if($$.vertical){%>_eK<%}else{%>_eI<%}%>">8</div></div>',subs:[{keys:["vertical","height","width"],path:'div[mx-guid="g0"]',attr:'class="_ex<%if($$.vertical){%> _ez<%}else{%> _ey<%}%>" mx-contextmenu="__D()" style="<%if($$.vertical){%>height:<%=$$.height%><%}else{%>width:<%=$$.width%><%}%>px"',attrs:[{n:"class",p:1,f:"className"},{n:"mx-contextmenu"},{n:"style"}]},{keys:["vertical"],path:'div[mx-guid="g1"]',attr:'class="_eA<%if($$.vertical){%> _eC<%}else{%> _eB<%}%>"',attrs:[{n:"class",p:1,f:"className"}]},{keys:["vertical","viewId"],path:'div[mx-guid="g2"]',attr:'class="_eD<%if($$.vertical){%> _eF<%}else{%> _eE<%}%>" mx-mousedown="__el({start:true})" id="left_<%=$$.viewId%>"',attrs:[{n:"class",p:1,f:"className"},{n:"mx-mousedown"},{n:"id",p:1}]},{keys:["vertical","viewId"],path:'div[mx-guid="g3"]',attr:'class="_eG<%if($$.vertical){%> _eM<%}else{%> _eL<%}%>" id="leftl_<%=$$.viewId%>"',attrs:[{n:"class",p:1,f:"className"},{n:"id",p:1}]},{keys:["vertical","viewId"],path:'div[mx-guid="g4"]',attr:'class="_eD<%if($$.vertical){%> _eF<%}else{%> _eE<%}%>" mx-mousedown="__el({end:true})" id="right_<%=$$.viewId%>"',attrs:[{n:"class",p:1,f:"className"},{n:"mx-mousedown"},{n:"id",p:1}]},{keys:["vertical","viewId"],path:'div[mx-guid="g5"]',attr:'class="_eG<%if($$.vertical){%> _eM<%}else{%> _eL<%}%>" id="rightl_<%=$$.viewId%>"',attrs:[{n:"class",p:1,f:"className"},{n:"id",p:1}]},{keys:["vertical","min"],path:'div[mx-guid="g6"]',tmpl:"<%=$$.min%>",s:"7",attr:'class="<%if($$.vertical){%>_eJ<%}else{%>_eH<%}%>"',attrs:[{n:"class",p:1,f:"className"}],mask:"21"},{keys:["vertical","max"],path:'div[mx-guid="g7"]',tmpl:"<%=$$.max%>",s:"8",attr:'class="<%if($$.vertical){%>_eK<%}else{%>_eI<%}%>"',attrs:[{n:"class",p:1,f:"className"}],mask:"21"}]},init:function(e){var t=this,i=s("#"+t.id);i.addClass("_ew"),t.assign(e);var a=function(e){if(!t.__ef&&!t.__bZ){var s=i.offset(),a=t.__eg(),h=((t.__eh?a.rMax-e.pageY+s.top:e.pageX-s.left)-a.half)/a.max,r=t.__ei(h),d=+t.__aP,l=+t.__aG;Math.abs(d-r)<Math.abs(l-r)?(t.__em(r),t.__aP=r,t.__u(),_.node("left_"+t.id).focus()):(t.__en(r),t.__aG=r,t.__u(),_.node("right_"+t.id).focus())}};i.on("click",a),t.on("destroy",function(){i.off("click",a)}),t.__h=i},assign:function(e){this.__cY=+e.width||340,this.__ek=+e.height||340,this.__E=+e.min||0,this.__F=+e.max||100,this.__do=+e.step||1,this.__bZ=e.disabled+""=="true",this.__eh=e.vertical+""=="true";var t=this.__do+"",i=t.indexOf(".");i=i>=0?t.slice(i+1).length:0,this.__dq=i;var _=e.value;return _?(_=(_+"").split(","),this.__aP=+_[0]||0,this.__aG=+_[1]||0):(this.__aP=0,this.__aG=0),!0},render:function(){this.updater.digest({min:this.__E.toFixed(this.__dq),max:this.__F.toFixed(this.__dq),viewId:this.id,height:this.__ek,width:this.__cY,vertical:this.__eh}),this.__h[this.__bZ?"addClass":"removeClass"]("_eN"),this.val([this.__aP,this.__aG])},__eg:function(){var e=this.__h.find("._ex"),t=this.__h.find("._eA"),i=s("#left_"+this.id),_=s("#right_"+this.id),a=this.__eh?e.height():e.width(),h=i.outerWidth()/2,r=a-2*h;return{rail:e,iLeftL:s("#leftl_"+this.id),iRightL:s("#rightl_"+this.id),tracker:t,iLeft:i,iRight:_,left:parseInt(i.css(this.__eh?"bottom":"left"),10),right:parseInt(_.css(this.__eh?"bottom":"left"),10),rMax:a,max:r,half:h}},__em:function(e){e=+e;var t=this.__F,i=this.__E;e>t?e=t:e<i&&(e=i);var _=(e-i)/(t-i),s=this.__eg(),a=_*s.max;this.__eh?s.iLeft.css({bottom:a}):s.iLeft.css({left:a}),e=this.__ei(_);var h=s.iLeftL;h.html(e);var r=a+s.half;if(this.__eh){r-=d=h.height()/2,h.css({bottom:r}),s.tracker.css({bottom:a+s.half}).height(s.right-a)}else{var d;r<(d=h.width()/2)?r=0:r+d>s.rMax?r=s.rMax-2*d:r-=d,h.css({left:r}),s.tracker.css({left:a+s.half}).width(s.right-a)}return e},__en:function(e){e=+e;var t=this.__F,i=this.__E;e>t?e=t:e<i&&(e=i);var _=(e-i)/(t-i),s=this.__eg(),a=_*s.max;this.__eh?s.iRight.css({bottom:a}):s.iRight.css({left:a}),e=this.__ei(_);var h=s.iRightL;h.html(e);var r=a+s.half;if(this.__eh){r-=d=h.height()/2,h.css({bottom:r}),s.tracker.height(a-s.left)}else{var d;r<(d=h.width()/2)?r=0:r+d>s.rMax?r=s.rMax-2*d:r-=d,h.css({left:r}),s.tracker.width(a-s.left)}return e},val:function(e){if(e){var t=(e+"").split(","),i=+t[0]||0,_=+t[1]||0;i>_&&(i=(s=[_,i])[0],_=s[1]),this.__h.prop("value",[i,_]),i=this.__em(i),_=this.__en(_),this.__aP==i&&this.__aG==_||(this.__aP=i,this.__aG=_,this.__u())}return[+this.__aP,+this.__aG];var s},__ei:function(e){var t,i=this.__F,_=this.__E,s=this.__do;return 0===e?t=_:1===e?t=i:(t=_+(i-_)*e,t=Math.round(t/s)*s),t=t.toFixed(this.__dq)},__u:function(){var e=[+this.__aP,+this.__aG];this.__h.prop("value",e).trigger({type:"change",value:e,start:+this.__aP,end:+this.__aG})},__eo:function(e,t){e==this.__aP&&t==this.__aG||(this.__aP=e,this.__aG=t,this.__u())},"__el<mousedown>":function(e){var t=this;if(!t.__bZ){var i=s(e.eventTarget),h=i.outerWidth(),r=-1;r=t.__eh?i.parent().height()-h:i.parent().width()-h;var d=parseInt(i.css(t.__eh?"bottom":"left"),10),l=t.__aP,n=t.__aG;t.__ej=1,a.begin(e.eventTarget,function(i){a.clear();var s=-1;(s=t.__eh?d+e.pageY-i.pageY:d+i.pageX-e.pageX)<0?s=0:s>r&&(s=r);var h=s/r,c=t.__ei(h),v=+c;if(e.params.end){var f=+t.__aP;v>=f?(t.__aP!=l&&(l=t.__em(f)),n=t.__en(c),_.node("right_"+t.id).focus()):(t.__aP!=n&&(n=t.__en(f)),l=t.__em(c),_.node("left_"+t.id).focus())}else{var o=+t.__aG;v<=o?(t.__aG!=n&&(n=t.__en(o)),l=t.__em(c),_.node("left_"+t.id).focus()):(t.__aG!=l&&(l=t.__em(o)),n=t.__en(c),_.node("right_"+t.id).focus())}},function(){t.__eo(l,n),t.__ef=!0,setTimeout(t.wrapAsync(function(){delete t.__ef}),20),delete t.__ej})}},"__ep<keydown>":function(e){var t,i=this.__do;if(!this.__ej&&(37==e.keyCode||40==e.keyCode?(e.preventDefault(),i=-i,t=!0):39!=e.keyCode&&38!=e.keyCode||(e.preventDefault(),t=!0),t)){var s=this.__aP,a=+s,h=this.__aG,r=+h,d=e.params.start;d?a+=i:r+=i,a>r?(d?_.node("right_"+this.id).focus():_.node("left_"+this.id).focus(),r!=+s&&(s=this.__em(r)),a!=+h&&(h=this.__en(a))):d?s=this.__em(a):h=this.__en(r),this.__eo(s,h)}},"__D<contextmenu>":function(e){e.preventDefault()}})});