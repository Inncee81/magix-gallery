define("mx-slider/range",["magix","$","../mx-dragdrop/index","./style"],(_,e,t)=>{var i=_("magix"),s=_("$"),h=_("../mx-dragdrop/index");_("./style"),t.exports=i.View.extend({tmpl:{html:'<div class="_eF<%if($$.vertical){%> _eH<%}else{%> _eG<%}%>" mx-contextmenu="__E()" style="<%if($$.vertical){%>height:<%=$$.height%><%}else{%>width:<%=$$.width%><%}%>px"><div class="_eI<%if($$.vertical){%> _eK<%}else{%> _eJ<%}%>"></div><div tabindex="0" mx-keydown="__eJ({start:true})" class="_eL<%if($$.vertical){%> _eN<%}else{%> _eM<%}%>" mx-mousedown="__eF({start:true})" id="left_<%=$$.viewId%>"></div><div class="_eO<%if($$.vertical){%> _eU<%}else{%> _eT<%}%>" id="leftl_<%=$$.viewId%>"></div><div tabindex="0" mx-keydown="__eJ()" class="_eL<%if($$.vertical){%> _eN<%}else{%> _eM<%}%>" mx-mousedown="__eF({end:true})" id="right_<%=$$.viewId%>"></div><div class="_eO<%if($$.vertical){%> _eU<%}else{%> _eT<%}%>" id="rightl_<%=$$.viewId%>"></div><div class="<%if($$.vertical){%>_eR<%}else{%>_eP<%}%>"><%=$$.min%></div><div class="<%if($$.vertical){%>_eS<%}else{%>_eQ<%}%>"><%=$$.max%></div></div>'},init:function(_){var e=this,t=s("#"+e.id);t.addClass("_eE"),e.assign(_);var a=function(_){if(!e.__ez&&!e.__cv){var s=t.offset(),h=e.__eA(),a=((e.__eB?h.rMax-_.pageY+s.top:_.pageX-s.left)-h.half)/h.max,r=e.__eC(a),d=+e.__aq,n=+e.__be;Math.abs(d-r)<Math.abs(n-r)?(e.__eG(r),e.__aq=r,e.__v(),i.node("left_"+e.id).focus()):(e.__eH(r),e.__be=r,e.__v(),i.node("right_"+e.id).focus())}};t.on("click",a),e.on("destroy",function(){t.off("click",a),h.end()}),e.__i=t},assign:function(_){this.__dt=+_.width||340,this.__eE=+_.height||340,this.__F=+_.min||0,this.__G=+_.max||100,this.__dK=+_.step||1,this.__cv=_.disabled+""=="true",this.__eB=_.vertical+""=="true";var e=this.__dK+"",t=e.indexOf(".");t=t>=0?e.slice(t+1).length:0,this.__dM=t;var i=_.value;return i?(i=(i+"").split(","),this.__aq=+i[0]||0,this.__be=+i[1]||0):(this.__aq=0,this.__be=0),!0},render:function(){this.updater.digest({min:this.__F.toFixed(this.__dM),max:this.__G.toFixed(this.__dM),viewId:this.id,height:this.__eE,width:this.__dt,vertical:this.__eB}),this.__i[this.__cv?"addClass":"removeClass"]("_eV"),this.val([this.__aq,this.__be])},__eA:function(){var _=this.__i.find("._eF"),e=this.__i.find("._eI"),t=s("#left_"+this.id),i=s("#right_"+this.id),h=this.__eB?_.height():_.width(),a=t.outerWidth()/2,r=h-2*a;return{rail:_,iLeftL:s("#leftl_"+this.id),iRightL:s("#rightl_"+this.id),tracker:e,iLeft:t,iRight:i,left:parseInt(t.css(this.__eB?"bottom":"left"),10),right:parseInt(i.css(this.__eB?"bottom":"left"),10),rMax:h,max:r,half:a}},__eG:function(_){_=+_;var e=this.__G,t=this.__F;_>e?_=e:_<t&&(_=t);var i=(_-t)/(e-t),s=this.__eA(),h=i*s.max;this.__eB?s.iLeft.css({bottom:h}):s.iLeft.css({left:h}),_=this.__eC(i);var a=s.iLeftL;a.html(_);var r=h+s.half;if(this.__eB){r-=d=a.height()/2,a.css({bottom:r}),s.tracker.css({bottom:h+s.half}).height(s.right-h)}else{var d;r<(d=a.width()/2)?r=0:r+d>s.rMax?r=s.rMax-2*d:r-=d,a.css({left:r}),s.tracker.css({left:h+s.half}).width(s.right-h)}return _},__eH:function(_){_=+_;var e=this.__G,t=this.__F;_>e?_=e:_<t&&(_=t);var i=(_-t)/(e-t),s=this.__eA(),h=i*s.max;this.__eB?s.iRight.css({bottom:h}):s.iRight.css({left:h}),_=this.__eC(i);var a=s.iRightL;a.html(_);var r=h+s.half;if(this.__eB){r-=d=a.height()/2,a.css({bottom:r}),s.tracker.height(h-s.left)}else{var d;r<(d=a.width()/2)?r=0:r+d>s.rMax?r=s.rMax-2*d:r-=d,a.css({left:r}),s.tracker.width(h-s.left)}return _},val:function(_){if(_){var e=(_+"").split(","),t=+e[0]||0,i=+e[1]||0;t>i&&(t=(s=[i,t])[0],i=s[1]),this.__i.prop("value",[t,i]),t=this.__eG(t),i=this.__eH(i),this.__aq==t&&this.__be==i||(this.__aq=t,this.__be=i,this.__v())}return[+this.__aq,+this.__be];var s},__eC:function(_){var e,t=this.__G,i=this.__F,s=this.__dK;return 0===_?e=i:1===_?e=t:(e=i+(t-i)*_,e=Math.round(e/s)*s),e=e.toFixed(this.__dM)},__v:function(){var _=[+this.__aq,+this.__be];this.__i.prop("value",_).trigger({type:"change",value:_,start:+this.__aq,end:+this.__be})},__eI:function(_,e){_==this.__aq&&e==this.__be||(this.__aq=_,this.__be=e,this.__v())},"__eF<mousedown>":function(_){var e=this;if(!e.__cv){var t=s(_.eventTarget),a=t.outerWidth(),r=-1;r=e.__eB?t.parent().height()-a:t.parent().width()-a;var d=parseInt(t.css(e.__eB?"bottom":"left"),10),n=e.__aq,l=e.__be;e.__eD=1,h.begin(_.eventTarget,function(t){h.clear();var s=-1;(s=e.__eB?d+_.pageY-t.pageY:d+t.pageX-_.pageX)<0?s=0:s>r&&(s=r);var a=s/r,f=e.__eC(a),o=+f;if(_.params.end){var v=+e.__aq;o>=v?(e.__aq!=n&&(n=e.__eG(v)),l=e.__eH(f),i.node("right_"+e.id).focus()):(e.__aq!=l&&(l=e.__eH(v)),n=e.__eG(f),i.node("left_"+e.id).focus())}else{var c=+e.__be;o<=c?(e.__be!=l&&(l=e.__eH(c)),n=e.__eG(f),i.node("left_"+e.id).focus()):(e.__be!=n&&(n=e.__eG(c)),l=e.__eH(f),i.node("right_"+e.id).focus())}},function(){e.__eI(n,l),e.__ez=!0,setTimeout(e.wrapAsync(function(){delete e.__ez}),20),delete e.__eD})}},"__eJ<keydown>":function(_){var e,t=this.__dK;if(!this.__eD&&(37==_.keyCode||40==_.keyCode?(_.preventDefault(),t=-t,e=!0):39!=_.keyCode&&38!=_.keyCode||(_.preventDefault(),e=!0),e)){var s=this.__aq,h=+s,a=this.__be,r=+a,d=_.params.start;d?h+=t:r+=t,h>r?(d?i.node("right_"+this.id).focus():i.node("left_"+this.id).focus(),r!=+s&&(s=this.__eG(r)),h!=+a&&(a=this.__eH(h))):d?s=this.__eG(h):a=this.__eH(r),this.__eI(s,a)}},"__E<contextmenu>":function(_){_.preventDefault()}})});