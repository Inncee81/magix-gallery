define("mx-slider/range",["magix","$","../mx-dragdrop/index","./style"],(_,t,e)=>{var i=_("magix"),s=_("$"),r=_("../mx-dragdrop/index");_("./style"),e.exports=i.View.extend({tmpl:function(_,t){var e="",i={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},s=/[&<>"'`]/g,r=function(_){return null==_?"":""+_},a=function(_){return"&"+i[_]+";"},h=function(_){return r(_).replace(s,a)};return e+='<div class="_eE',t.vertical?e+=" _eG":e+=" _eF",e+='" mx-contextmenu="__F()" style="',t.vertical?e+="height:"+h(t.height):e+="width:"+h(t.width),e+='px"><div class="_eH',t.vertical?e+=" _eJ":e+=" _eI",e+='"></div><div tabindex="0" mx-keydown="__eK({start:true})" class="_eK',t.vertical?e+=" _eM":e+=" _eL",e+='" mx-mousedown="__eG({start:true})" id="left_'+h(t.viewId)+'"></div><div class="_eN',t.vertical?e+=" _eT":e+=" _eS",e+='" id="leftl_'+h(t.viewId)+'"></div><div tabindex="0" mx-keydown="__eK()" class="_eK',t.vertical?e+=" _eM":e+=" _eL",e+='" mx-mousedown="__eG({end:true})" id="right_'+h(t.viewId)+'"></div><div class="_eN',t.vertical?e+=" _eT":e+=" _eS",e+='" id="rightl_'+h(t.viewId)+'"></div><div class="',t.vertical?e+="_eQ":e+="_eO",e+='">'+h(t.min)+'</div><div class="',t.vertical?e+="_eR":e+="_eP",e+='">'+h(t.max)+"</div></div>"},mixins:[r],init:function(_){var t=this,e=s("#"+t.id);e.addClass("_eD"),t.assign(_);var r=function(_){if(!t.__eA&&!t.__cw){var s=e.offset(),r=t.__eB(),a=((t.__eC?r.rMax-_.pageY+s.top:_.pageX-s.left)-r.half)/r.max,h=t.__eD(a),d=+t.__ar,n=+t.__bf;Math.abs(d-h)<Math.abs(n-h)?(t.__eH(h),t.__ar=h,t.__w(),i.node("left_"+t.id).focus()):(t.__eI(h),t.__bf=h,t.__w(),i.node("right_"+t.id).focus())}};e.on("click",r),t.on("destroy",function(){e.off("click",r)}),t.__j=e},assign:function(_){this.__du=+_.width||340,this.__eF=+_.height||340,this.__G=+_.min||0,this.__H=+_.max||100,this.__dL=+_.step||1,this.__cw=_.disabled+""=="true",this.__eC=_.vertical+""=="true";var t=this.__dL+"",e=t.indexOf(".");e=e>=0?t.slice(e+1).length:0,this.__dN=e;var i=_.value;return i?(i=(i+"").split(","),this.__ar=+i[0]||0,this.__bf=+i[1]||0):(this.__ar=0,this.__bf=0),!0},render:function(){this.updater.digest({min:this.__G.toFixed(this.__dN),max:this.__H.toFixed(this.__dN),viewId:this.id,height:this.__eF,width:this.__du,vertical:this.__eC}),this.__j[this.__cw?"addClass":"removeClass"]("_eU"),this.val([this.__ar,this.__bf])},__eB:function(){var _=this.__j.find("._eE"),t=this.__j.find("._eH"),e=s("#left_"+this.id),i=s("#right_"+this.id),r=this.__eC?_.height():_.width(),a=e.outerWidth()/2,h=r-2*a;return{rail:_,iLeftL:s("#leftl_"+this.id),iRightL:s("#rightl_"+this.id),tracker:t,iLeft:e,iRight:i,left:parseInt(e.css(this.__eC?"bottom":"left"),10),right:parseInt(i.css(this.__eC?"bottom":"left"),10),rMax:r,max:h,half:a}},__eH:function(_){_=+_;var t=this.__H,e=this.__G;_>t?_=t:_<e&&(_=e);var i=(_-e)/(t-e),s=this.__eB(),r=i*s.max;this.__eC?s.iLeft.css({bottom:r}):s.iLeft.css({left:r}),_=this.__eD(i);var a=s.iLeftL;a.html(_);var h=r+s.half;if(this.__eC){h-=d=a.height()/2,a.css({bottom:h}),s.tracker.css({bottom:r+s.half}).height(s.right-r)}else{var d;h<(d=a.width()/2)?h=0:h+d>s.rMax?h=s.rMax-2*d:h-=d,a.css({left:h}),s.tracker.css({left:r+s.half}).width(s.right-r)}return _},__eI:function(_){_=+_;var t=this.__H,e=this.__G;_>t?_=t:_<e&&(_=e);var i=(_-e)/(t-e),s=this.__eB(),r=i*s.max;this.__eC?s.iRight.css({bottom:r}):s.iRight.css({left:r}),_=this.__eD(i);var a=s.iRightL;a.html(_);var h=r+s.half;if(this.__eC){h-=d=a.height()/2,a.css({bottom:h}),s.tracker.height(r-s.left)}else{var d;h<(d=a.width()/2)?h=0:h+d>s.rMax?h=s.rMax-2*d:h-=d,a.css({left:h}),s.tracker.width(r-s.left)}return _},val:function(_){if(_){var t=(_+"").split(","),e=+t[0]||0,i=+t[1]||0;e>i&&(e=(s=[i,e])[0],i=s[1]),this.__j.prop("value",[e,i]),e=this.__eH(e),i=this.__eI(i),this.__ar==e&&this.__bf==i||(this.__ar=e,this.__bf=i,this.__w())}return[+this.__ar,+this.__bf];var s},__eD:function(_){var t,e=this.__H,i=this.__G,s=this.__dL;return 0===_?t=i:1===_?t=e:(t=i+(e-i)*_,t=Math.round(t/s)*s),t=t.toFixed(this.__dN)},__w:function(){var _=[+this.__ar,+this.__bf];this.__j.prop("value",_).trigger({type:"change",value:_,start:+this.__ar,end:+this.__bf})},__eJ:function(_,t){_==this.__ar&&t==this.__bf||(this.__ar=_,this.__bf=t,this.__w())},"__eG<mousedown>":function(_){var t=this;if(!t.__cw){var e=s(_.eventTarget),a=e.outerWidth(),h=-1;h=t.__eC?e.parent().height()-a:e.parent().width()-a;var d=parseInt(e.css(t.__eC?"bottom":"left"),10),n=t.__ar,f=t.__bf;t.__eE=1,t.dragdrop(_.eventTarget,function(e){r.clear();var s=-1;(s=t.__eC?d+_.pageY-e.pageY:d+e.pageX-_.pageX)<0?s=0:s>h&&(s=h);var a=s/h,o=t.__eD(a),l=+o;if(_.params.end){var c=+t.__ar;l>=c?(t.__ar!=n&&(n=t.__eH(c)),f=t.__eI(o),i.node("right_"+t.id).focus()):(t.__ar!=f&&(f=t.__eI(c)),n=t.__eH(o),i.node("left_"+t.id).focus())}else{var v=+t.__bf;l<=v?(t.__bf!=f&&(f=t.__eI(v)),n=t.__eH(o),i.node("left_"+t.id).focus()):(t.__bf!=n&&(n=t.__eH(v)),f=t.__eI(o),i.node("right_"+t.id).focus())}},function(){t.__eJ(n,f),t.__eA=!0,setTimeout(t.wrapAsync(function(){delete t.__eA}),20),delete t.__eE})}},"__eK<keydown>":function(_){var t,e=this.__dL;if(!this.__eE&&(37==_.keyCode||40==_.keyCode?(_.preventDefault(),e=-e,t=!0):39!=_.keyCode&&38!=_.keyCode||(_.preventDefault(),t=!0),t)){var s=this.__ar,r=+s,a=this.__bf,h=+a,d=_.params.start;d?r+=e:h+=e,r>h?(d?i.node("right_"+this.id).focus():i.node("left_"+this.id).focus(),h!=+s&&(s=this.__eH(h)),r!=+a&&(a=this.__eI(r))):d?s=this.__eH(r):a=this.__eI(h),this.__eJ(s,a)}},"__F<contextmenu>":function(_){_.preventDefault()}})});