define("mx-slider/index",["magix","$","../mx-dragdrop/index","./style"],(e,t,i)=>{"use strict";t.__esModule=!0;var _=e("magix"),s=e("$");e("./style");var a=e("../mx-dragdrop/index");i.exports=_.View.extend({tmpl:{html:'<div mx-guid="g0" class="_eG<%if($$.vertical){%> _eI<%}else{%> _eH<%}%>" mx-contextmenu="__D()" style="<%if($$.vertical){%>height:<%=$$.height%><%}else{%>width:<%=$$.width%><%}%>px"><div mx-guid="g1" class="_eJ<%if($$.vertical){%> _eL<%}else{%> _eK<%}%>"></div><div mx-guid="g2" class="_eM<%if($$.vertical){%> _eO<%}else{%> _eN<%}%>" mx-mousedown="__eB()"></div><div mx-guid="g3" class="_eP<%if($$.vertical){%> _eV<%}else{%> _eU<%}%>"></div><div mx-guid="g4" class="<%if($$.vertical){%>_eS<%}else{%>_eQ<%}%>">5</div><div mx-guid="g5" class="<%if($$.vertical){%>_eT<%}else{%>_eR<%}%>">6</div></div>',subs:[{keys:["vertical","height","width"],path:'div[mx-guid="g0"]',attr:'class="_eG<%if($$.vertical){%> _eI<%}else{%> _eH<%}%>" mx-contextmenu="__D()" style="<%if($$.vertical){%>height:<%=$$.height%><%}else{%>width:<%=$$.width%><%}%>px"',attrs:[{n:"class",p:1,f:"className"},{n:"mx-contextmenu"},{n:"style"}]},{keys:["vertical"],path:'div[mx-guid="g1"]',attr:'class="_eJ<%if($$.vertical){%> _eL<%}else{%> _eK<%}%>"',attrs:[{n:"class",p:1,f:"className"}]},{keys:["vertical"],path:'div[mx-guid="g2"]',attr:'class="_eM<%if($$.vertical){%> _eO<%}else{%> _eN<%}%>"',attrs:[{n:"class",p:1,f:"className"}]},{keys:["vertical"],path:'div[mx-guid="g3"]',attr:'class="_eP<%if($$.vertical){%> _eV<%}else{%> _eU<%}%>"',attrs:[{n:"class",p:1,f:"className"}]},{keys:["vertical","min"],path:'div[mx-guid="g4"]',tmpl:"<%=$$.min%>",s:"5",attr:'class="<%if($$.vertical){%>_eS<%}else{%>_eQ<%}%>"',attrs:[{n:"class",p:1,f:"className"}],mask:"21"},{keys:["vertical","max"],path:'div[mx-guid="g5"]',tmpl:"<%=$$.max%>",s:"6",attr:'class="<%if($$.vertical){%>_eT<%}else{%>_eR<%}%>"',attrs:[{n:"class",p:1,f:"className"}],mask:"21"}]},init:function(e){var t=this,i=s("#"+t.id);i.addClass("_eF"),t.assign(e);var _=function(e){if(!t.__ev&&!t.__cn){var _=i.offset(),s=t.__ew(),a=((t.__ex?s.rMax-e.pageY+_.top:e.pageX-_.left)-s.half)/s.max,l=t.__ey(a);t.val(l)}},a=function(e){if(!t.__ez)if(37==e.keyCode||40==e.keyCode){e.preventDefault();var i=+t.__cB;i-=t.__dE,t.val(i)}else if(39==e.keyCode||38==e.keyCode){e.preventDefault();i=+t.__cB;i+=t.__dE,t.val(i)}};i.on("click",_),i.on("keydown",a),t.on("destroy",function(){i.off("click",_),i.off("keydown",a)}),t.__h=i},assign:function(e){this.__dn=+e.width||340,this.__eA=+e.height||340,this.__E=+e.min||0,this.__F=+e.max||100,this.__dE=+e.step||1,this.__cn=e.disabled+""=="true",this.__ex=e.vertical+""=="true";var t=this.__dE+"",i=t.indexOf(".");return i=i>=0?t.slice(i+1).length:0,this.__dG=i,this.__cB=+e.value||0,!0},render:function(){this.updater.digest({min:this.__E.toFixed(this.__dG),max:this.__F.toFixed(this.__dG),width:this.__dn,height:this.__eA,vertical:this.__ex}),this.__h[this.__cn?"addClass":"removeClass"]("_eW").prop("tabindex",this.__cn?-1:0),this.val(this.__cB)},__ew:function(){var e=this.__h.find("._eG"),t=this.__h.find("._eJ"),i=this.__h.find("._eM"),_=this.__h.find("._eP"),s=i.outerWidth()/2,a=this.__ex?e.height():e.width();return{rail:e,pLabel:_,tracker:t,indicator:i,rMax:a,max:a-2*s,half:s}},val:function(e,t){var i=+e;if(i||0===i){this.__h.prop("value",i);var _=this.__F,s=this.__E;i>_?i=_:i<s&&(i=s);var a=(i-s)/(_-s),l=this.__ew(),r=a*l.max;this.__ex?l.indicator.css({bottom:r}):l.indicator.css({left:r}),e=this.__ey(a);var h=l.pLabel;h.html(e);var c=r+l.half;if(this.__ex){c-=d=h.height()/2,h.css({bottom:c})}else{var d;c<(d=h.width()/2)?c=0:c+d>l.rMax?c=l.rMax-2*d:c-=d,h.css({left:c})}this.__ex?l.tracker.height(r+l.half):l.tracker.width(r+l.half),t||(this.__cB!=e&&this.__u(e),this.__cB=e)}return+this.__cB},__ey:function(e){var t,i=this.__F,_=this.__E,s=this.__dE;return 0===e?t=_:1===e?t=i:(t=_+(i-_)*e,t=Math.round(t/s)*s),t=t.toFixed(this.__dG)},__u:function(e){this.__h.prop("value",+e).trigger({type:"change",value:+e})},"__eB<mousedown>":function(e){var t=this;if(!t.__cn){var i=s(e.eventTarget),_=i.outerWidth(),l=-1;l=t.__ex?i.parent().height()-_:i.parent().width()-_;var r=parseInt(i.css(t.__ex?"bottom":"left"),10),h=t.__cB;t.__ez=1,a.begin(e.eventTarget,function(i){a.clear();var _=-1;(_=t.__ex?r+e.pageY-i.pageY:r+i.pageX-e.pageX)<0?_=0:_>l&&(_=l);var s=_/l;t.val(h=t.__ey(s),!0)},function(){t.__cB!=h&&(t.__cB=h,t.__u(h)),t.__ev=!0,setTimeout(t.wrapAsync(function(){delete t.__ev}),20),delete t.__ez})}},"__D<contextmenu>":function(e){e.preventDefault()}})});