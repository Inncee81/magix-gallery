define("mx-slider/index",["magix","$","../mx-dragdrop/index","./style"],(e,t,i)=>{"use strict";t.__esModule=!0;var _=e("magix"),s=e("$");e("./style");var a=e("../mx-dragdrop/index");i.exports=_.View.extend({tmpl:{html:'<div mx-guid="g0" class="_ex<%if($$.vertical){%> _ez<%}else{%> _ey<%}%>" mx-contextmenu="__D()" style="<%if($$.vertical){%>height:<%=$$.height%><%}else{%>width:<%=$$.width%><%}%>px"><div mx-guid="g1" class="_eA<%if($$.vertical){%> _eC<%}else{%> _eB<%}%>"></div><div mx-guid="g2" class="_eD<%if($$.vertical){%> _eF<%}else{%> _eE<%}%>" mx-mousedown="__el()"></div><div mx-guid="g3" class="_eG<%if($$.vertical){%> _eM<%}else{%> _eL<%}%>"></div><div mx-guid="g4" class="<%if($$.vertical){%>_eJ<%}else{%>_eH<%}%>">5</div><div mx-guid="g5" class="<%if($$.vertical){%>_eK<%}else{%>_eI<%}%>">6</div></div>',subs:[{keys:["vertical","height","width"],path:'div[mx-guid="g0"]',attr:'class="_ex<%if($$.vertical){%> _ez<%}else{%> _ey<%}%>" mx-contextmenu="__D()" style="<%if($$.vertical){%>height:<%=$$.height%><%}else{%>width:<%=$$.width%><%}%>px"',attrs:[{n:"class",p:1,f:"className"},{n:"mx-contextmenu"},{n:"style"}]},{keys:["vertical"],path:'div[mx-guid="g1"]',attr:'class="_eA<%if($$.vertical){%> _eC<%}else{%> _eB<%}%>"',attrs:[{n:"class",p:1,f:"className"}]},{keys:["vertical"],path:'div[mx-guid="g2"]',attr:'class="_eD<%if($$.vertical){%> _eF<%}else{%> _eE<%}%>"',attrs:[{n:"class",p:1,f:"className"}]},{keys:["vertical"],path:'div[mx-guid="g3"]',attr:'class="_eG<%if($$.vertical){%> _eM<%}else{%> _eL<%}%>"',attrs:[{n:"class",p:1,f:"className"}]},{keys:["vertical","min"],path:'div[mx-guid="g4"]',tmpl:"<%=$$.min%>",s:"5",attr:'class="<%if($$.vertical){%>_eJ<%}else{%>_eH<%}%>"',attrs:[{n:"class",p:1,f:"className"}],mask:"21"},{keys:["vertical","max"],path:'div[mx-guid="g5"]',tmpl:"<%=$$.max%>",s:"6",attr:'class="<%if($$.vertical){%>_eK<%}else{%>_eI<%}%>"',attrs:[{n:"class",p:1,f:"className"}],mask:"21"}]},init:function(e){var t=this,i=s("#"+t.id);i.addClass("_ew"),t.assign(e);var _=function(e){if(!t.__ef&&!t.__bZ){var _=i.offset(),s=t.__eg(),a=((t.__eh?s.rMax-e.pageY+_.top:e.pageX-_.left)-s.half)/s.max,h=t.__ei(a);t.val(h)}},a=function(e){if(!t.__ej)if(37==e.keyCode||40==e.keyCode){e.preventDefault();var i=+t.__cm;i-=t.__do,t.val(i)}else if(39==e.keyCode||38==e.keyCode){e.preventDefault();i=+t.__cm;i+=t.__do,t.val(i)}};i.on("click",_),i.on("keydown",a),t.on("destroy",function(){i.off("click",_),i.off("keydown",a)}),t.__h=i},assign:function(e){this.__cY=+e.width||340,this.__ek=+e.height||340,this.__E=+e.min||0,this.__F=+e.max||100,this.__do=+e.step||1,this.__bZ=e.disabled+""=="true",this.__eh=e.vertical+""=="true";var t=this.__do+"",i=t.indexOf(".");return i=i>=0?t.slice(i+1).length:0,this.__dq=i,this.__cm=+e.value||0,!0},render:function(){this.updater.digest({min:this.__E.toFixed(this.__dq),max:this.__F.toFixed(this.__dq),width:this.__cY,height:this.__ek,vertical:this.__eh}),this.__h[this.__bZ?"addClass":"removeClass"]("_eN").prop("tabindex",this.__bZ?-1:0),this.val(this.__cm)},__eg:function(){var e=this.__h.find("._ex"),t=this.__h.find("._eA"),i=this.__h.find("._eD"),_=this.__h.find("._eG"),s=i.outerWidth()/2,a=this.__eh?e.height():e.width();return{rail:e,pLabel:_,tracker:t,indicator:i,rMax:a,max:a-2*s,half:s}},val:function(e,t){var i=+e;if(i||0===i){this.__h.prop("value",i);var _=this.__F,s=this.__E;i>_?i=_:i<s&&(i=s);var a=(i-s)/(_-s),h=this.__eg(),l=a*h.max;this.__eh?h.indicator.css({bottom:l}):h.indicator.css({left:l}),e=this.__ei(a);var r=h.pLabel;r.html(e);var c=l+h.half;if(this.__eh){c-=d=r.height()/2,r.css({bottom:c})}else{var d;c<(d=r.width()/2)?c=0:c+d>h.rMax?c=h.rMax-2*d:c-=d,r.css({left:c})}this.__eh?h.tracker.height(l+h.half):h.tracker.width(l+h.half),t||(this.__cm!=e&&this.__u(e),this.__cm=e)}return+this.__cm},__ei:function(e){var t,i=this.__F,_=this.__E,s=this.__do;return 0===e?t=_:1===e?t=i:(t=_+(i-_)*e,t=Math.round(t/s)*s),t=t.toFixed(this.__dq)},__u:function(e){this.__h.prop("value",+e).trigger({type:"change",value:+e})},"__el<mousedown>":function(e){var t=this;if(!t.__bZ){var i=s(e.eventTarget),_=i.outerWidth(),h=-1;h=t.__eh?i.parent().height()-_:i.parent().width()-_;var l=parseInt(i.css(t.__eh?"bottom":"left"),10),r=t.__cm;t.__ej=1,a.begin(e.eventTarget,function(i){a.clear();var _=-1;(_=t.__eh?l+e.pageY-i.pageY:l+i.pageX-e.pageX)<0?_=0:_>h&&(_=h);var s=_/h;t.val(r=t.__ei(s),!0)},function(){t.__cm!=r&&(t.__cm=r,t.__u(r)),t.__ef=!0,setTimeout(t.wrapAsync(function(){delete t.__ef}),20),delete t.__ej})}},"__D<contextmenu>":function(e){e.preventDefault()}})});