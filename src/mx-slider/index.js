define("mx-slider/index",["magix","$","../mx-dragdrop/index","./style"],(e,_,i)=>{"use strict";_.__esModule=!0;var t=e("magix"),s=e("$");e("./style");var a=e("../mx-dragdrop/index");i.exports=t.View.extend({tmpl:{html:'<div class="_eF<%if($$.vertical){%> _eH<%}else{%> _eG<%}%>" mx-contextmenu="__E()" style="<%if($$.vertical){%>height:<%=$$.height%><%}else{%>width:<%=$$.width%><%}%>px"><div class="_eI<%if($$.vertical){%> _eK<%}else{%> _eJ<%}%>"></div><div class="_eL<%if($$.vertical){%> _eN<%}else{%> _eM<%}%>" mx-mousedown="__eF()"></div><div class="_eO<%if($$.vertical){%> _eU<%}else{%> _eT<%}%>"></div><div class="<%if($$.vertical){%>_eR<%}else{%>_eP<%}%>"><%=$$.min%></div><div class="<%if($$.vertical){%>_eS<%}else{%>_eQ<%}%>"><%=$$.max%></div></div>'},init:function(e){var _=this,i=s("#"+_.id);i.addClass("_eE"),_.assign(e);var t=function(e){if(!_.__ez&&!_.__cv){var t=i.offset(),s=_.__eA(),a=((_.__eB?s.rMax-e.pageY+t.top:e.pageX-t.left)-s.half)/s.max,h=_.__eC(a);_.val(h)}},h=function(e){if(!_.__eD)if(37==e.keyCode||40==e.keyCode){e.preventDefault();var i=+_.__cJ;i-=_.__dK,_.val(i)}else if(39==e.keyCode||38==e.keyCode){e.preventDefault();i=+_.__cJ;i+=_.__dK,_.val(i)}};i.on("click",t),i.on("keydown",h),_.on("destroy",function(){i.off("click",t),i.off("keydown",h),a.end()}),_.__i=i},assign:function(e){this.__dt=+e.width||340,this.__eE=+e.height||340,this.__F=+e.min||0,this.__G=+e.max||100,this.__dK=+e.step||1,this.__cv=e.disabled+""=="true",this.__eB=e.vertical+""=="true";var _=this.__dK+"",i=_.indexOf(".");return i=i>=0?_.slice(i+1).length:0,this.__dM=i,this.__cJ=+e.value||0,!0},render:function(){this.updater.digest({min:this.__F.toFixed(this.__dM),max:this.__G.toFixed(this.__dM),width:this.__dt,height:this.__eE,vertical:this.__eB}),this.__i[this.__cv?"addClass":"removeClass"]("_eV").prop("tabindex",this.__cv?-1:0),this.val(this.__cJ)},__eA:function(){var e=this.__i.find("._eF"),_=this.__i.find("._eI"),i=this.__i.find("._eL"),t=this.__i.find("._eO"),s=i.outerWidth()/2,a=this.__eB?e.height():e.width();return{rail:e,pLabel:t,tracker:_,indicator:i,rMax:a,max:a-2*s,half:s}},val:function(e,_){var i=+e;if(i||0===i){this.__i.prop("value",i);var t=this.__G,s=this.__F;i>t?i=t:i<s&&(i=s);var a=(i-s)/(t-s),h=this.__eA(),r=a*h.max;this.__eB?h.indicator.css({bottom:r}):h.indicator.css({left:r}),e=this.__eC(a);var n=h.pLabel;n.html(e);var d=r+h.half;if(this.__eB){d-=l=n.height()/2,n.css({bottom:d})}else{var l;d<(l=n.width()/2)?d=0:d+l>h.rMax?d=h.rMax-2*l:d-=l,n.css({left:d})}this.__eB?h.tracker.height(r+h.half):h.tracker.width(r+h.half),_||(this.__cJ!=e&&this.__v(e),this.__cJ=e)}return+this.__cJ},__eC:function(e){var _,i=this.__G,t=this.__F,s=this.__dK;return 0===e?_=t:1===e?_=i:(_=t+(i-t)*e,_=Math.round(_/s)*s),_=_.toFixed(this.__dM)},__v:function(e){this.__i.prop("value",+e).trigger({type:"change",value:+e})},"__eF<mousedown>":function(e){var _=this;if(!_.__cv){var i=s(e.eventTarget),t=i.outerWidth(),h=-1;h=_.__eB?i.parent().height()-t:i.parent().width()-t;var r=parseInt(i.css(_.__eB?"bottom":"left"),10),n=_.__cJ;_.__eD=1,a.begin(e.eventTarget,function(i){a.clear();var t=-1;(t=_.__eB?r+e.pageY-i.pageY:r+i.pageX-e.pageX)<0?t=0:t>h&&(t=h);var s=t/h;_.val(n=_.__eC(s),!0)},function(){_.__cJ!=n&&(_.__cJ=n,_.__v(n)),_.__ez=!0,setTimeout(_.wrapAsync(function(){delete _.__ez}),20),delete _.__eD})}},"__E<contextmenu>":function(e){e.preventDefault()}})});