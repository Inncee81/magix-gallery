define("mx-slider/index",["magix","$","../mx-dragdrop/index","./style"],(e,_,t)=>{"use strict";_.__esModule=!0;var i=e("magix"),a=e("$");e("./style");var s=e("../mx-dragdrop/index");t.exports=i.View.extend({tmpl:function(e){var _="",t={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},i=/[&<>"'`]/g,a=function(e){return null==e?"":""+e},s=function(e){return"&"+t[e]+";"},r=function(e){return a(e).replace(i,s)};return _+='<div class="_eE',e.vertical?_+=" _eG":_+=" _eF",_+='" mx-contextmenu="__G()" style="',e.vertical?_+="height:"+r(e.height):_+="width:"+r(e.width),_+='px"><div class="_eH',e.vertical?_+=" _eJ":_+=" _eI",_+='"></div><div class="_eK',e.vertical?_+=" _eM":_+=" _eL",_+='" mx-mousedown="__eH()"></div><div class="_eN',e.vertical?_+=" _eT":_+=" _eS",_+='"></div><div class="',e.vertical?_+="_eQ":_+="_eO",_+='">'+r(e.min)+'</div><div class="',e.vertical?_+="_eR":_+="_eP",_+='">'+r(e.max)+"</div></div>"},mixins:[s],init:function(e){var _=this,t=a("#"+_.id);t.addClass("_eD"),_.assign(e);var i=function(e){if(!_.__eB&&!_.__cx){var i=t.offset(),a=_.__eC(),s=((_.__eD?a.rMax-e.pageY+i.top:e.pageX-i.left)-a.half)/a.max,r=_.__eE(s);_.val(r)}},s=function(e){if(!_.__eF)if(37==e.keyCode||40==e.keyCode){e.preventDefault();var t=+_.__cL;t-=_.__dM,_.val(t)}else if(39==e.keyCode||38==e.keyCode){e.preventDefault();t=+_.__cL;t+=_.__dM,_.val(t)}};t.on("click",i),t.on("keydown",s),_.on("destroy",function(){t.off("click",i),t.off("keydown",s)}),_.__k=t},assign:function(e){this.__dv=+e.width||340,this.__eG=+e.height||340,this.__H=+e.min||0,this.__I=+e.max||100,this.__dM=+e.step||1,this.__cx=e.disabled+""=="true",this.__eD=e.vertical+""=="true";var _=this.__dM+"",t=_.indexOf(".");return t=t>=0?_.slice(t+1).length:0,this.__dO=t,this.__cL=+e.value||0,!0},render:function(){this.updater.digest({min:this.__H.toFixed(this.__dO),max:this.__I.toFixed(this.__dO),width:this.__dv,height:this.__eG,vertical:this.__eD}),this.__k[this.__cx?"addClass":"removeClass"]("_eU").prop("tabindex",this.__cx?-1:0),this.val(this.__cL)},__eC:function(){var e=this.__k.find("._eE"),_=this.__k.find("._eH"),t=this.__k.find("._eK"),i=this.__k.find("._eN"),a=t.outerWidth()/2,s=this.__eD?e.height():e.width();return{rail:e,pLabel:i,tracker:_,indicator:t,rMax:s,max:s-2*a,half:a}},val:function(e,_){var t=+e;if(t||0===t){this.__k.prop("value",t);var i=this.__I,a=this.__H;t>i?t=i:t<a&&(t=a);var s=(t-a)/(i-a),r=this.__eC(),n=s*r.max;this.__eD?r.indicator.css({bottom:n}):r.indicator.css({left:n}),e=this.__eE(s);var h=r.pLabel;h.html(e);var d=n+r.half;if(this.__eD){d-=c=h.height()/2,h.css({bottom:d})}else{var c;d<(c=h.width()/2)?d=0:d+c>r.rMax?d=r.rMax-2*c:d-=c,h.css({left:d})}this.__eD?r.tracker.height(n+r.half):r.tracker.width(n+r.half),_||(this.__cL!=e&&this.__x(e),this.__cL=e)}return+this.__cL},__eE:function(e){var _,t=this.__I,i=this.__H,a=this.__dM;return 0===e?_=i:1===e?_=t:(_=i+(t-i)*e,_=Math.round(_/a)*a),_=_.toFixed(this.__dO)},__x:function(e){this.__k.prop("value",+e).trigger({type:"change",value:+e})},"__eH<mousedown>":function(e){var _=this;if(!_.__cx){var t=a(e.eventTarget),i=t.outerWidth(),r=-1;r=_.__eD?t.parent().height()-i:t.parent().width()-i;var n=parseInt(t.css(_.__eD?"bottom":"left"),10),h=_.__cL;_.__eF=1,_.dragdrop(e.eventTarget,function(t){s.clear();var i=-1;(i=_.__eD?n+e.pageY-t.pageY:n+t.pageX-e.pageX)<0?i=0:i>r&&(i=r);var a=i/r;_.val(h=_.__eE(a),!0)},function(){_.__cL!=h&&(_.__cL=h,_.__x(h)),_.__eB=!0,setTimeout(_.wrapAsync(function(){delete _.__eB}),20),delete _.__eF})}},"__G<contextmenu>":function(e){e.preventDefault()}})});