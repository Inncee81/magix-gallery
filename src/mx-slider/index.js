define("mx-slider/index",["magix","$","../mx-dragdrop/index","./style"],(e,_,t)=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0});var i=e("magix"),a=e("$");e("./style");var s=e("../mx-dragdrop/index");t.exports=i.View.extend({tmpl:{html:'<div mx-guid="g0" class="_ex<%if($$.vertical){%> _ez<%}\nelse{%> _ey<%}%>" mx-contextmenu="__D()" style="<%if($$.vertical){%>height:<%=$$.height%><%}\nelse{%>width:<%=$$.width%><%}%>px"><div mx-guid="g1" class="_eA<%if($$.vertical){%> _eC<%}\nelse{%> _eB<%}%>"></div><div mx-guid="g2" class="_eD<%if($$.vertical){%> _eF<%}\nelse{%> _eE<%}%>" mx-mousedown="__el()"></div><div mx-guid="g3" class="_eG<%if($$.vertical){%> _eM<%}\nelse{%> _eL<%}%>"></div><div mx-guid="g4" class="<%if($$.vertical){%>_eJ<%}\nelse{%>_eH<%}%>">5</div><div mx-guid="g5" class="<%if($$.vertical){%>_eK<%}\nelse{%>_eI<%}%>">6</div></div>',subs:[{keys:["vertical","height","width"],path:'div[mx-guid="g0"]',attr:'class="_ex<%if($$.vertical){%> _ez<%}\nelse{%> _ey<%}%>" mx-contextmenu="__D()" style="<%if($$.vertical){%>height:<%=$$.height%><%}\nelse{%>width:<%=$$.width%><%}%>px"',attrs:[{n:"class",p:1,f:"className"},{n:"mx-contextmenu"},{n:"style"}]},{keys:["vertical"],path:'div[mx-guid="g1"]',attr:'class="_eA<%if($$.vertical){%> _eC<%}\nelse{%> _eB<%}%>"',attrs:[{n:"class",p:1,f:"className"}]},{keys:["vertical"],path:'div[mx-guid="g2"]',attr:'class="_eD<%if($$.vertical){%> _eF<%}\nelse{%> _eE<%}%>"',attrs:[{n:"class",p:1,f:"className"}]},{keys:["vertical"],path:'div[mx-guid="g3"]',attr:'class="_eG<%if($$.vertical){%> _eM<%}\nelse{%> _eL<%}%>"',attrs:[{n:"class",p:1,f:"className"}]},{keys:["vertical","min"],path:'div[mx-guid="g4"]',tmpl:"<%=$$.min%>",s:"5",attr:'class="<%if($$.vertical){%>_eJ<%}\nelse{%>_eH<%}%>"',attrs:[{n:"class",p:1,f:"className"}],mask:"21"},{keys:["vertical","max"],path:'div[mx-guid="g5"]',tmpl:"<%=$$.max%>",s:"6",attr:'class="<%if($$.vertical){%>_eK<%}\nelse{%>_eI<%}%>"',attrs:[{n:"class",p:1,f:"className"}],mask:"21"}]},init:function(e){var _=this,t=a("#"+_.id);t.addClass("_ew"),_.assign(e);var i=function(e){if(!_.__ef&&!_.__bZ){var i=t.offset(),a=_.__eg(),s=-1,l=((s=_.__eh?a.rMax-e.pageY+i.top:e.pageX-i.left)-a.half)/a.max,r=_.__ei(l);_.val(r)}},s=function(e){if(!_.__ej)if(37==e.keyCode||40==e.keyCode){e.preventDefault();t=+_.__cm;t-=_.__do,_.val(t)}else if(39==e.keyCode||38==e.keyCode){e.preventDefault();var t=+_.__cm;t+=_.__do,_.val(t)}};t.on("click",i),t.on("keydown",s),_.on("destroy",function(){t.off("click",i),t.off("keydown",s)}),_.__h=t},assign:function(e){var _=this;_.__cY=+e.width||340,_.__ek=+e.height||340,_.__E=+e.min||0,_.__F=+e.max||100,_.__do=+e.step||1,_.__bZ=e.disabled+""=="true",_.__eh=e.vertical+""=="true";var t=_.__do+"",i=t.indexOf(".");return i=i>=0?t.slice(i+1).length:0,_.__dq=i,_.__cm=+e.value||0,!0},render:function(){var e=this;e.updater.digest({min:e.__E.toFixed(e.__dq),max:e.__F.toFixed(e.__dq),width:e.__cY,height:e.__ek,vertical:e.__eh}),e.__h[e.__bZ?"addClass":"removeClass"]("_eN").prop("tabindex",e.__bZ?-1:0),e.val(e.__cm)},__eg:function(){var e=this,_=e.__h.find("._ex"),t=e.__h.find("._eA"),i=e.__h.find("._eD"),a=e.__h.find("._eG"),s=i.outerWidth()/2,l=e.__eh?_.height():_.width();return{rail:_,pLabel:a,tracker:t,indicator:i,rMax:l,max:l-2*s,half:s}},val:function(e,_){var t=this,i=+e;if(i||0===i){t.__h.prop("value",i);var a=t.__F,s=t.__E;i>a?i=a:i<s&&(i=s);var l=(i-s)/(a-s),r=t.__eg(),n=l*r.max;t.__eh?r.indicator.css({bottom:n}):r.indicator.css({left:n}),e=t.__ei(l);var c=r.pLabel;c.html(e);var d=n+r.half;if(t.__eh){d-=h=c.height()/2,c.css({bottom:d})}else{var h=c.width()/2;d<h?d=0:d+h>r.rMax?d=r.rMax-2*h:d-=h,c.css({left:d})}t.__eh?r.tracker.height(n+r.half):r.tracker.width(n+r.half),_||(t.__cm!=e&&t.__u(e),t.__cm=e)}return+t.__cm},__ei:function(e){var _,t=this.__F,i=this.__E,a=this.__do;return 0===e?_=i:1===e?_=t:(_=i+(t-i)*e,_=Math.round(_/a)*a),_=_.toFixed(this.__dq)},__u:function(e){this.__h.prop("value",+e).trigger({type:"change",value:+e})},"__el<mousedown>":function(e){var _=this;if(!_.__bZ){var t=a(e.eventTarget),i=t.outerWidth(),l=-1;l=_.__eh?t.parent().height()-i:t.parent().width()-i;var r=parseInt(t.css(_.__eh?"bottom":"left"),10),n=_.__cm;_.__ej=1,s.begin(e.eventTarget,function(t){s.clear();var i=-1;(i=_.__eh?r+e.pageY-t.pageY:r+t.pageX-e.pageX)<0?i=0:i>l&&(i=l);var a=i/l;_.val(n=_.__ei(a),!0)},function(){_.__cm!=n&&(_.__cm=n,_.__u(n)),_.__ef=!0,setTimeout(_.wrapAsync(function(){delete _.__ef}),20),delete _.__ej})}},"__D<contextmenu>":function(e){e.preventDefault()}})});