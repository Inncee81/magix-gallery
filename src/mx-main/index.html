<div class="main-nav" style="width: {{=leftWidth}}px;">
    {{each stepInfos as step stepIndex}}
    <div class="main-step {{if (step.index == curStepIndex)}} step-current {{/if}} {{if step.locked}} step-locked {{/if}}">
        <a href="javascript:;" class="step parent {{if ((step.index == curStepIndex) && (curSubStepIndex == -1))}} on {{/if}} "
            data-sub="-1"
            {{if !step.locked}} mx-click="nav({stepIndex:{{=step.index}}})" {{/if}}>
            <span class="idx">{{=(stepIndex + 1)}}</span>
            <span class="pbg"></span>
            <span class="text">{{=step.label}}</span>
        </a>
        {{if !step.locked && (step.subs.length > 1)}}
            {{each step.subs as sub}}
            <a href="javascript:;" class="step child {{if ((step.index == curStepIndex) && (curSubStepIndex == sub.index))}} on {{/if}}"
                data-sub="{{=sub.index}}"    
                mx-click="nav({stepIndex:{{=step.index}},subStepIndex:{{=sub.index}}})">
                <span class="pbg"></span>
                <span class="text">{{=sub.label}}</span>
            </a>
            {{/each}}
        {{/if}}
        {{if step.locked}}
        <i class="mc-iconfont locked-icon">&#xe759;</i>
        {{/if}}
    </div>
    {{/each}}
</div>
<div class="main-content clearfix" style="min-height: {{=viewHeight}}px; padding-top: {{=gapWidth}}px; padding-right: {{=(gapWidth + (curStepInfo.sideWrapper ? (rightWidth + gapWidth) : 0))}}px; padding-left: {{=(leftWidth + gapWidth)}}px;">
    {{each curStepInfo.subs as sub}}
    <div class="content-box">
        <div class="box-title clearfix">
            {{if sub.icon}}<span class="title-icon">{{!sub.icon}}</span>{{/if}}
            <span class="title-label">{{=sub.label}}</span>
            {{if sub.tip}}
            <span class="title-tip">{{!sub.tip}}</span>
            {{/if}}
        </div>
        <mx-vframe class="box-bd"
            id="sub_frame_{{=sub.index}}"
            src="{{=sub.view}}?info={{@sub}}&data={{@childInfos}}">
            <mx-loading padding="40px"/>
        </mx-vframe>
    </div>
    {{/each}}
    {{if curStepInfo.sideWrapper}}
        <mx-vframe class="content-side" style="top: {{=gapWidth}}px; right: {{=gapWidth}}px; width: {{=rightWidth}}px;"
            src="{{=curStepInfo.sideWrapper}}?data={{@curStepInfo.sideData}}" >
            <mx-loading padding="40px"/>
        </mx-vframe>
    {{/if}}

    <div class="content-footer">
        <div>
            {{if curStepInfo.prevTip}}
            <a href="javascript:;" class="btn min-width-100 mr20"
                mx-click="prev()">{{=curStepInfo.prevTip}}</a>
            {{/if}}

            {{if curStepInfo.nextTip}}
            <a href="javascript:;" class="btn min-width-100 btn-brand"
                mx-click="next()">{{=curStepInfo.nextTip}}</a>
            {{/if}}
        </div>
        <div id="{{=viewId}}_error" class="footer-error"></div>
    </div>
</div>