define("mx-calendar/datepicker",["magix","$","../mx-monitor/index","./index"],(t,i,e)=>{var _=t("magix"),n=t("$"),o=_.Vframe,a=t("../mx-monitor/index");t("./index"),e.exports=_.View.extend({tmpl:function(t,i){var e,_="",n={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},o=/[&<>"'`]/g,a=function(t){return null==t?"":""+t},r=function(t){return"&"+n[t]+";"};return _+='<div mx-change="'+(i=i||"")+'__q()" mx-cancel="'+i+'__b()" id="dpcnt_'+(e=t.viewId,a(e).replace(o,r))+'"></div>'},init:function(t){var i=this;t.hasBtn=1,i.__f=t,a.__g();var e=n("#"+i.id);i.__h=e,(e=e.prev("input")).prop("vframe",i.owner);var _=function(){i.__e()},o=function(t){t.date||t.stopPropagation()};i.on("destroy",function(){a.__i(i),a.__j(),e.off("click",_).off("change",o)}),e.on("click",_).on("change",o),i.__k=e,e.prop("autocomplete","off")},__l:function(t){return _.inside(t,this.id)||_.inside(t,this.__k[0])},update:function(t){var i=o.get("dpcnt_"+this.id);t.hasBtn=1,i.invoke("update",[t])},render:function(){this.updater.digest({viewId:this.id}),this.__f.selected||(this.__f.selected=this.__k.val())},__e:function(){if(!this.__m){var t=this.__h,i=this.__k;this.__m=!0,t.show(),a.__n(this),this.__o||(this.__o=!0,this.owner.mountVframe("dpcnt_"+this.id,"mx-calendar/index",this.__f));var e=i.offset(),_=void 0,n=void 0;switch(this.__f.placement){case"top":n=e.top-t.outerHeight()-5;break;default:n=e.top+i.outerHeight()+5}switch(this.__f.align){case"right":_=e.left+i.outerWidth()-t.outerWidth();break;default:_=e.left}t.offset({left:_,top:n})}},__b:function(){if(this.__m){var t=n("#dpcnt_"+this.id).prop("vframe");t&&t.invoke("__p"),this.__m=!1,this.__h.hide(),a.__i(this)}},"__q<change>":function(t){t.stopPropagation();var i=t.date;t.time&&(i+=" "+t.time),this.__k.val(i).trigger({type:"change",date:t.date,time:t.time}),this.__b()},"__b<cancel>":function(){this.__b()}})});