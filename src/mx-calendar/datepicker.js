define("mx-calendar/datepicker",["magix","$","../mx-monitor/index","./index"],(t,e,i)=>{var _=t("magix"),n=t("$"),a=_.Vframe,o=t("../mx-monitor/index");t("./index"),i.exports=_.View.extend({init:function(t){var e=this;t.hasBtn=1,e.__c=t,o.__d();var i=n("#"+e.id),_=function(){e.__e()},a=function(t){t.date||t.stopPropagation()};e.on("destroy",function(){o.__f(e),o.__g(),n("#dpcnt_"+e.id).remove(),i.off("click",_).off("change",a)}),i.on("click",_).on("change",a),e.__h=i,i.prop("autocomplete","off")},__i:function(t){return _.inside(t,this.id)||_.inside(t,"dpcnt_"+this.id)},update:function(t){a.get("dpcnt_"+this.id).invoke("update",[t])},render:function(){var t=this,e="dpcnt_"+t.id;n(t.wrapEvent('<div style="position:absolute;display:none;z-index:10;left:-10000px" mx-change="__n()" mx-cancel="__a()"></div>')).attr("id",e).insertAfter(t.__h),t.__c.selected||(t.__c.selected=t.__h.val())},__e:function(){var t=this;if(!t.__j){var e=n("#dpcnt_"+t.id),i=t.__h;t.__j=!0,o.__k(t),t.__l||(t.__l=!0,t.owner.mountVframe("dpcnt_"+t.id,"mx-calendar/index",t.__c)),e.show();var _=i.offset(),a=void 0,d=void 0;switch(t.__c.placement){case"top":d=_.top-e.outerHeight()-5;break;default:d=_.top+i.outerHeight()+5}switch(t.__c.align){case"right":a=_.left+i.outerWidth()-e.outerWidth();break;default:a=_.left}e.offset({left:a,top:d})}},__a:function(){var t=this;if(t.__j){var e=n("#dpcnt_"+t.id),i=e.prop("vframe");i&&i.invoke("__m"),t.__j=!1,e.hide(),o.__f(t)}},"__n<change>":function(t){t.stopPropagation();var e=t.date;t.time&&(e+=" "+t.time),this.__h.val(e).trigger({type:"change",date:t.date,time:t.time}),this.__a()},"__a<cancel>":function(){this.__a()}})});