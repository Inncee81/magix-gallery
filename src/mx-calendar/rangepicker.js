define("mx-calendar/rangepicker",["magix","$","../mx-monitor/index","./index","./range"],(t,_,i)=>{var e=t("magix"),a=t("$"),n=t("../mx-monitor/index"),s=t("./index"),r=t("./range"),h=["today","yesterday","passed7","lastestThisMonth","preMonth","lastest15"],o=e.View.extend({tmpl:{html:'<div mx-change="__V()" mx-cancel="__a()" id="rpcnt_<%=$$.viewId%>"></div>'},init:function(t){var _=this,i=t.start,e=t.end,o=t.timeType,d=t.formatter||"YYYY-MM-dd"+(o?" hh:mm:ss":""),c=s.format(new Date,d);_.__N=d,_.__S=!0,_.__L=o,_.__M=t.dateType,i||(_.__S=!1,i=c),e||(_.__S=!1,e=c),_.__T="false"!=t.shortcuts,_.__G=t.max,_.__F=t.min,_.__J=t.placement,_.__K=t.align,_.__I=_.__T?h:[],_.__H=r.getDescription(i,e,_.__I,d),n.__d();var f=a("#"+_.id);_.__e=f,(f=f.prev("input")).prop("vframe",_.owner);var p=function(){_.__f()},m=function(t){t.dates||t.stopPropagation()};_.on("destroy",function(){n.__g(_),n.__h(),f.off("click",p).off("change",m)}),f.on("click",p).on("change",m),_.__i=f,f.prop("autocomplete","off")},__j:function(t){var _=e.inside(t,this.id)||e.inside(t,this.__i[0]);if(!_)for(var i=this.owner.children(),a=i.length-1;a>=0;a--){var n=e.Vframe.get(i[a]);if(n&&(_=n.invoke("__j",[t])),_)break}return _},__U:function(){var t=this.__H;t.quickDateText?this.__i.val(t.quickDateText):this.__i.val(t.startStr+" ~ "+t.endStr)},render:function(){this.updater.digest({viewId:this.id}),this.__S&&this.__U()},__f:function(){if(!this.__k){var t=this.__e,_=this.__i;t.show(),this.__k=!0,this.__m||(this.__m=!0,this.owner.mountVframe("rpcnt_"+this.id,"mx-calendar/range",{min:this.__F,max:this.__G,timeType:this.__L,dateType:this.__M,formatter:this.__N,dates:this.__H,quickDates:this.__I,placement:this.__J,align:this.__K})),n.__l(this);var i=_.offset(),e=void 0,a=void 0;switch(this.__J){case"top":a=i.top-t.outerHeight()-5;break;default:a=i.top+_.outerHeight()+5}switch(this.__K){case"right":e=i.left+_.outerWidth()-t.outerWidth();break;default:e=i.left}t.offset({left:e,top:a})}},__a:function(t){if(this.__k){this.__e.hide();var _=a("#rpcnt_"+this.id);this.__k=!1,n.__g(this),t||_.invokeView("__O")}},"__V<change>":function(t){t.stopPropagation(),this.__H=t.dates,this.__U(),this.__a(!0),this.__i.trigger({type:"change",dates:t.dates})},"__a<cancel>":function(t){t.stopPropagation(),this.__a()}});i.exports=o});