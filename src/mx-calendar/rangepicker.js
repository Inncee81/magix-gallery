define("mx-calendar/rangepicker",["magix","$","../mx-monitor/index","./index","./range"],(t,_,i)=>{var e=t("magix"),n=t("$"),a=t("../mx-monitor/index"),s=t("./index"),r=t("./range"),o=["today","yesterday","passed7","lastestThisMonth","preMonth","lastest15"],h=e.View.extend({tmpl:function(t,_){var i,e="",n={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},a=/[&<>"'`]/g,s=function(t){return null==t?"":""+t},r=function(t){return"&"+n[t]+";"};return e+='<div mx-change="'+(_=_||"")+'__X()" mx-cancel="'+_+'__b()" id="rpcnt_'+(i=t.viewId,s(i).replace(a,r))+'"></div>'},init:function(t){var _=this,i=t.start,e=t.end,h=t.timeType,c=t.formatter||"YYYY-MM-dd"+(h?" hh:mm:ss":""),d=s.format(new Date,c);_.__P=c,_.__U=!0,_.__N=h,_.__O=t.dateType,i||(_.__U=!1,i=d),e||(_.__U=!1,e=d),_.__V="false"!=t.shortcuts,_.__I=t.max,_.__H=t.min,_.__L=t.placement,_.__M=t.align,_.__K=_.__V?o:[],_.__J=r.getDescription(i,e,_.__K,c),a.__g();var f=n("#"+_.id);_.__h=f,(f=f.prev("input")).prop("vframe",_.owner);var p=function(){_.__e()},m=function(t){t.dates||t.stopPropagation()};_.on("destroy",function(){a.__i(_),a.__j(),f.off("click",p).off("change",m)}),f.on("click",p).on("change",m),_.__k=f,f.prop("autocomplete","off")},__l:function(t){var _=e.inside(t,this.id)||e.inside(t,this.__k[0]);if(!_)for(var i=this.owner.children(),n=i.length-1;n>=0;n--){var a=e.Vframe.get(i[n]);if(a&&(_=a.invoke("__l",[t])),_)break}return _},__W:function(){var t=this.__J;t.quickDateText?this.__k.val(t.quickDateText):this.__k.val(t.startStr+" ~ "+t.endStr)},render:function(){this.updater.digest({viewId:this.id}),this.__U&&this.__W()},__e:function(){if(!this.__m){var t=this.__h,_=this.__k;t.show(),this.__m=!0,this.__o||(this.__o=!0,this.owner.mountVframe("rpcnt_"+this.id,"mx-calendar/range",{min:this.__H,max:this.__I,timeType:this.__N,dateType:this.__O,formatter:this.__P,dates:this.__J,quickDates:this.__K,placement:this.__L,align:this.__M})),a.__n(this);var i=_.offset(),e=void 0,n=void 0;switch(this.__L){case"top":n=i.top-t.outerHeight()-5;break;default:n=i.top+_.outerHeight()+5}switch(this.__M){case"right":e=i.left+_.outerWidth()-t.outerWidth();break;default:e=i.left}t.offset({left:e,top:n})}},__b:function(t){if(this.__m){this.__h.hide();var _=n("#rpcnt_"+this.id);this.__m=!1,a.__i(this),t||_.invokeView("__Q")}},"__X<change>":function(t){t.stopPropagation(),this.__J=t.dates,this.__W(),this.__b(!0),this.__k.trigger({type:"change",dates:t.dates})},"__b<cancel>":function(t){t.stopPropagation(),this.__b()}});i.exports=h});