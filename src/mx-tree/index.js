define("mx-tree/index",["magix","./branch"],(e,t,i)=>{e("./branch");var n=e("magix");n.applyStyle("_Q",'._fF{padding-left:15px}._fG{line-height:22px;padding:0 4px;position:relative;border-left:1px solid #e6e6e6}._fG:before{content:"";position:absolute;border-top:1px solid #e6e6e6;width:12px;left:0;top:10px}._fH{width:14px;height:14px;float:left;text-align:center;font-weight:800;margin-left:-11px;margin-top:-2px;position:relative;z-index:2}._fI{display:inline-block;background-color:#fff;width:10px;height:10px;line-height:6px;border:1px solid #e6e6e6;font-size:11px}._fJ{margin-left:10px}._fK{padding:0}._fL{border-left-color:transparent}._fL:after{border-left:1px solid #e6e6e6;top:-2px}._fL:after,._fM:after{content:"";position:absolute;left:-1px;width:1px;height:13px}._fM:after{border-left:1px solid #fff;top:-3px}._fN{padding:1px 3px;line-height:1}._fO{margin:2px 2px 0 0}'),i.exports=n.View.extend({tmpl:function(e,t){t=t||"";var i="",n={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},r=/[&<>"'`]/g,p=function(e){return null==e?"":""+e},o=function(e){return"&"+n[e]+";"},f=function(t,i,n){for(n=e[""];--n;)if(e[i=""+n]===t)return i;return e[i=""+e[""]++]=t,i},l={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},a=function(e){return l[e]},d=/[!')(*]/g,x=function(e){return encodeURIComponent(p(e)).replace(d,a)};i+='<div id="tree_'+(h=e.id,p(h).replace(r,o))+'" mx-view="mx-tree/branch?valueKey='+p(x(e.valueKey))+"&textKey="+p(x(e.textKey))+"&parentKey="+p(x(e.parentKey))+"&fromTop=";var h;return i+=f(!0),i+="&list=",i+=f(e.list),i+='"></div>'},init:function(e){this.__f=e},render:function(){var e=this.__f,t=e.valueKey||"id",i=e.parentKey||"pId",r=function(e,t,i){for(var r={},p={},o=[],f=0,l=e.length;f<l;f++){var a=n.mix({},e[f]);r[a[t]]=a,p[a[t]]&&(a.children=p[a[t]]),n.has(a,i)&&""!==a[i]?r[a[i]]?(r[a[i]].children||(r[a[i]].children=[])).push(a):p[a[i]]?p[a[i]].push(a):p[a[i]]=[a]:o.push(a)}return{list:o,map:r}}(e.list,t,i);this.updater.digest({id:this.id,valueKey:t,parentKey:i,textKey:e.textKey||"text",list:r.list})}})});