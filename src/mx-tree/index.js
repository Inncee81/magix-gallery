define("mx-tree/index",["magix","./branch"],(e,t,i)=>{e("./branch");var n=e("magix");n.applyStyle("_Q",'._fF{padding-left:15px}._fG{line-height:22px;padding:0 4px;position:relative;border-left:1px solid #e6e6e6}._fG:before{content:"";position:absolute;border-top:1px solid #e6e6e6;width:12px;left:0;top:10px}._fH{width:14px;height:14px;float:left;text-align:center;font-weight:800;margin-left:-11px;margin-top:-2px;position:relative;z-index:2}._fI{display:inline-block;background-color:#fff;width:10px;height:10px;line-height:6px;border:1px solid #e6e6e6;font-size:11px}._fJ{margin-left:10px}._fK{padding:0}._fL{border-left-color:transparent}._fL:after{border-left:1px solid #e6e6e6;top:-2px}._fL:after,._fM:after{content:"";position:absolute;left:-1px;width:1px;height:13px}._fM:after{border-left:1px solid #fff;top:-3px}._fN{padding:1px 3px;line-height:1}._fO{margin:2px 2px 0 0}'),i.exports=n.View.extend({tmpl:function(e){var t="",i={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},n=/[&<>"'`]/g,r=function(e){return null==e?"":""+e},p=function(e){return"&"+i[e]+";"},o=function(t,i,n){for(n=e[""];--n;)if(e[i=""+n]===t)return i;return e[i=""+e[""]++]=t,i},f={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},l=function(e){return f[e]},a=/[!')(*]/g,d=function(e){return encodeURIComponent(r(e)).replace(a,l)};t+='<div id="tree_'+(x=e.id,r(x).replace(n,p))+'" mx-view="mx-tree/branch?valueKey='+r(d(e.valueKey))+"&textKey="+r(d(e.textKey))+"&parentKey="+r(d(e.parentKey))+"&fromTop=";var x;return t+=o(!0),t+="&list=",t+=o(e.list),t+='"></div>'},init:function(e){this.__e=e},render:function(){var e=this.__e,t=e.valueKey||"id",i=e.parentKey||"pId",r=function(e,t,i){for(var r={},p={},o=[],f=0,l=e.length;f<l;f++){var a=n.mix({},e[f]);r[a[t]]=a,p[a[t]]&&(a.children=p[a[t]]),n.has(a,i)&&""!==a[i]?r[a[i]]?(r[a[i]].children||(r[a[i]].children=[])).push(a):p[a[i]]?p[a[i]].push(a):p[a[i]]=[a]:o.push(a)}return{list:o,map:r}}(e.list,t,i);this.updater.digest({id:this.id,valueKey:t,parentKey:i,textKey:e.textKey||"text",list:r.list})}})});