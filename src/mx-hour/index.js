define("mx-hour/index",["magix","$","mx-dragselect/index"],(e,a,d)=>{e("mx-dragselect/index");var i=e("magix");i.applyStyle("_v","._dn{padding:0;height:38.4px;overflow:hidden;cursor:default;min-width:1px}._do{opacity:0}._dp{background-color:#f37b63}._dq{border:none}._dr{border-right:1px solid #e6e6e6}");var t=e("$");d.exports=i.View.extend({tmpl:{html:'<tr mx-guid="g0" mx-change="__e()" mx-dragbegin="__aF()" mx-dragfinish="__aG()" mx-view="mx-dragselect/index">1</tr>',subs:[{keys:["noBorder"],path:'tr[mx-guid="g0"]',tmpl:'<%for(var _=0;_<24;_++){%><td class="_dn<%if($$.noBorder){%> _dq<%if(_<23){%> _dr<%}}%>" data-hour="<%=_%>"><span class="_do"><%!(\'0\'+_).slice(-2)%></span></td><%}%>',s:"1"}]},init:function(e){this.__cy=e.range,this.__cz="no"==e.border},render:function(){this.updater.digest({noBorder:this.__cz});var e=t("#"+this.id);this.__h=e,this.__cw=e.find("._dn"),this.__cy&&this.val(this.__cy)},val:function(e){var a=this.__cw;if(e||""===e){var d={};a.each(function(a,i){i=t(i),"1"==e.charAt(a)?(d[a]=1,i.addClass("_dp")):i.removeClass("_dp")}),this.__aC=d}else e=[],a.each(function(a,d){d=t(d),a<24&&e.push(d.hasClass("_dp")?1:0)}),e=e.join("");return e},__u:function(){var e=this.__aE,a=this.val();e!=a&&this.__h.val(a).trigger({type:"change",range:a})},"__e<change,click>":function(e){e.stopPropagation();var a=t(e.node),d=a.data("hour"),i=this.__aC,_=this.__aD;"add"==e.action?i[d]?(a.removeClass("_dp"),delete i[d],"drag"==e.mode&&(_[d]=1)):(a.addClass("_dp"),i[d]=1,"drag"==e.mode&&delete _[d]):"remove"==e.action&&(_[d]?(a.addClass("_dp"),i[d]=1,"drag"==e.mode&&delete _[d]):(a.removeClass("_dp"),delete i[d],"drag"==e.mode&&(_[d]=1))),"click"==e.mode&&this.__u()},"__aF<dragbegin>":function(e){e.stopPropagation();this.__aE=this.val(),this.__aD={}},"__aG<dragfinish>":function(e){e.stopPropagation();this.__u(),delete this.__aD}},{improve:function(e){e||(e="");for(var a=0;a<24;)e.charAt(a)||(e+="0"),a++;return e}})});