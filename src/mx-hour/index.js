define("mx-hour/index",["magix","$","mx-dragselect/index"],(e,t,a)=>{e("mx-dragselect/index");var d=e("magix");d.applyStyle("_w","._dw{padding:0;height:38.4px;overflow:hidden;cursor:default;min-width:1px}._dx{opacity:0}._dy{background-color:#f37b63}._dz{border:none}._dA{border-right:1px solid #e6e6e6}");var i=e("$");a.exports=d.View.extend({tmpl:function(e,t){var a="",d={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},i=/[&<>"'`]/g,r=function(e){return null==e?"":""+e},n=function(e){return"&"+d[e]+";"};a+='<tr mxa="_%:_" mx-change="'+(t=t||"")+'__e()" mx-dragbegin="'+t+'__bf()" mx-dragfinish="'+t+'__bg()" mx-view="mx-dragselect/index">';for(var _=0;_<24;_++)a+='<td class="_dw',e.noBorder&&(a+=" _dz",_<23&&(a+=" _dA")),a+='" data-hour="'+(s=_,r(s).replace(i,n))+'"><span mxa="_%:a" class="_dx">'+r(("0"+_).slice(-2))+"</span></td>";var s;return a+="</tr>"},init:function(e){this.__cY=e.range,this.__cZ="no"==e.border},assign:function(){return!1},render:function(){this.updater.digest({noBorder:this.__cZ});var e=i("#"+this.id);this.__k=e,this.__cW=e.find("._dw"),this.__cY&&this.val(this.__cY)},val:function(e){var t=this.__cW;if(e||""===e){var a={};t.each(function(t,d){d=i(d),"1"==e.charAt(t)?(a[t]=1,d.addClass("_dy")):d.removeClass("_dy")}),this.__bc=a}else e=[],t.each(function(t,a){a=i(a),t<24&&e.push(a.hasClass("_dy")?1:0)}),e=e.join("");return e},__x:function(){var e=this.__be,t=this.val();e!=t&&this.__k.val(t).trigger({type:"change",range:t})},"__e<change,click>":function(e){e.stopPropagation();var t=i(e.node),a=t.data("hour"),d=this.__bc,r=this.__bd;"add"==e.action?d[a]?(t.removeClass("_dy"),delete d[a],"drag"==e.mode&&(r[a]=1)):(t.addClass("_dy"),d[a]=1,"drag"==e.mode&&delete r[a]):"remove"==e.action&&(r[a]?(t.addClass("_dy"),d[a]=1,"drag"==e.mode&&delete r[a]):(t.removeClass("_dy"),delete d[a],"drag"==e.mode&&(r[a]=1))),"click"==e.mode&&this.__x()},"__bf<dragbegin>":function(e){e.stopPropagation();this.__be=this.val(),this.__bd={}},"__bg<dragfinish>":function(e){e.stopPropagation();this.__x(),delete this.__bd}},{improve:function(e){e||(e="");for(var t=0;t<24;)e.charAt(t)||(e+="0"),t++;return e}})});