define("mx-hour/index",["magix","$","mx-dragselect/index"],(e,d,i)=>{e("mx-dragselect/index");var t=e("magix");t.applyStyle("_x","._dC{padding:0;height:38.4px;overflow:hidden;cursor:default;min-width:1px}._dD{opacity:0}._dE{background-color:#f37b63}._dF{border:none}._dG{border-right:1px solid #e6e6e6}");var _=e("$");i.exports=t.View.extend({tmpl:{html:'<tr mx-change="__f()" mx-dragbegin="__bd()" mx-dragfinish="__be()" mx-view="mx-dragselect/index"><%for(var _=0;_<24;_++){%><td class="_dC<%if($$.noBorder){%> _dF<%if(_<23){%> _dG<%}}%>" data-hour="<%=_%>"><span class="_dD"><%!(\'0\'+_).slice(-2)%></span></td><%}%></tr>'},init:function(e){this.__cW=e.range,this.__cX="no"==e.border},render:function(){this.updater.digest({noBorder:this.__cX});var e=_("#"+this.id);this.__i=e,this.__cU=e.find("._dC"),this.__cW&&this.val(this.__cW)},val:function(e){var d=this.__cU;if(e||""===e){var i={};d.each(function(d,t){t=_(t),"1"==e.charAt(d)?(i[d]=1,t.addClass("_dE")):t.removeClass("_dE")}),this.__ba=i}else e=[],d.each(function(d,i){i=_(i),d<24&&e.push(i.hasClass("_dE")?1:0)}),e=e.join("");return e},__v:function(){var e=this.__bc,d=this.val();e!=d&&this.__i.val(d).trigger({type:"change",range:d})},"__f<change,click>":function(e){e.stopPropagation();var d=_(e.node),i=d.data("hour"),t=this.__ba,a=this.__bb;"add"==e.action?t[i]?(d.removeClass("_dE"),delete t[i],"drag"==e.mode&&(a[i]=1)):(d.addClass("_dE"),t[i]=1,"drag"==e.mode&&delete a[i]):"remove"==e.action&&(a[i]?(d.addClass("_dE"),t[i]=1,"drag"==e.mode&&delete a[i]):(d.removeClass("_dE"),delete t[i],"drag"==e.mode&&(a[i]=1))),"click"==e.mode&&this.__v()},"__bd<dragbegin>":function(e){e.stopPropagation();this.__bc=this.val(),this.__bb={}},"__be<dragfinish>":function(e){e.stopPropagation();this.__v(),delete this.__bb}},{improve:function(e){e||(e="");for(var d=0;d<24;)e.charAt(d)||(e+="0"),d++;return e}})});