define("mx-hour/index",["magix","$","mx-dragselect/index"],(e,t,d)=>{e("mx-dragselect/index");var i=e("magix");i.applyStyle("_w","._dw{padding:0;height:38.4px;overflow:hidden;cursor:default;min-width:1px}._dx{opacity:0}._dy{background-color:#f37b63}._dz{border:none}._dA{border-right:1px solid #e6e6e6}");var a=e("$");d.exports=i.View.extend({tmpl:function(e,t){var d="",i={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},a=/[&<>"'`]/g,r=function(e){return null==e?"":""+e},n=function(e){return"&"+i[e]+";"};d+='<tr mx-change="__g()" mx-dragbegin="__be()" mx-dragfinish="__bf()" mx-view="mx-dragselect/index">';for(var _=0;_<24;_++)d+='<td class="_dw',t.noBorder&&(d+=" _dz",_<23&&(d+=" _dA")),d+='" data-hour="'+(o=_,r(o).replace(a,n))+'"><span class="_dx">'+r(("0"+_).slice(-2))+"</span></td>";var o;return d+="</tr>"},init:function(e){this.__cX=e.range,this.__cY="no"==e.border},render:function(){this.updater.digest({noBorder:this.__cY});var e=a("#"+this.id);this.__j=e,this.__cV=e.find("._dw"),this.__cX&&this.val(this.__cX)},val:function(e){var t=this.__cV;if(e||""===e){var d={};t.each(function(t,i){i=a(i),"1"==e.charAt(t)?(d[t]=1,i.addClass("_dy")):i.removeClass("_dy")}),this.__bb=d}else e=[],t.each(function(t,d){d=a(d),t<24&&e.push(d.hasClass("_dy")?1:0)}),e=e.join("");return e},__w:function(){var e=this.__bd,t=this.val();e!=t&&this.__j.val(t).trigger({type:"change",range:t})},"__g<change,click>":function(e){e.stopPropagation();var t=a(e.node),d=t.data("hour"),i=this.__bb,r=this.__bc;"add"==e.action?i[d]?(t.removeClass("_dy"),delete i[d],"drag"==e.mode&&(r[d]=1)):(t.addClass("_dy"),i[d]=1,"drag"==e.mode&&delete r[d]):"remove"==e.action&&(r[d]?(t.addClass("_dy"),i[d]=1,"drag"==e.mode&&delete r[d]):(t.removeClass("_dy"),delete i[d],"drag"==e.mode&&(r[d]=1))),"click"==e.mode&&this.__w()},"__be<dragbegin>":function(e){e.stopPropagation();this.__bd=this.val(),this.__bc={}},"__bf<dragfinish>":function(e){e.stopPropagation();this.__w(),delete this.__bc}},{improve:function(e){e||(e="");for(var t=0;t<24;)e.charAt(t)||(e+="0"),t++;return e}})});