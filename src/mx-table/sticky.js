define("mx-table/sticky",["magix","$"],(t,i,_)=>{var f=t("magix"),s=t("$");_.exports=f.View.extend({init:function(t){var i=this;i.__fs=s("#header").height()||50;var _=s("#"+i.id).parents("_cj"),f=s("#inmain");_.length||f.length||(f=s(window),i.__fs=0);var n=_.parent(),h=function(){i.__ft(n)},e=function(){i.__ft(f)};i.on("destroy",function(){n.off("scroll",h),f.off("scroll",e)}),n.on("scroll",h),f.on("scroll",e),i.__fR=n,i.__fS=_,i.__fu=f,i.__fT=t.zIndex},__fx:function(){var t=s("#"+this.id).find("table"),i=t.find("thead"),_=i.find("tr").last(),f=t.find("tbody>tr").eq(0),n="ph_"+this.id,h=s("#"+n),e=_.find("th"),o=f.find("td");o.length&&o.length==e.length&&(h.length||(h=s("<caption />").insertBefore(i).attr("id",n)),i.css({marginLeft:-1,border:"1px solid "+t.css("border-top-color"),position:"absolute",background:"#fff",zIndex:this.__fT||1})),this.__fU="abs",this.__fv=h,this.__h=t,this.__fw=i,this.__fV=f,this.__fW=o,this.__fX=e},__fB:function(){var t=s.now();if(!this.__fy||this.__fy+3e3<t){this.__fy=t;var i=this.__h,_=void 0,f=void 0;_=this.__fS.length?i.position().top+parseInt(this.__fS.css("top"),10):this.__fs?i.offset().top+this.__fu.scrollTop()-this.__fs:i.offset().top,f=i.height();var n=i.find("tfoot"),h=0;return n.length&&(h=n.height()),this.__fz={min:_,max:_+f-this.__fA-h}}return this.__fz},render:function(){this.__fx(),this.__fY(),this.__fC(),this.__ft(this.__fR)},__fC:function(){var t=this.__fw,i=this.__fv,_=t.height();_!=this.__fA&&("abs"==this.__fU&&t.css({marginTop:-_}),i.css("height",_),this.__fA=_)},__fY:function(){this.__fw.width(this.__fV.width()-1);var t,i=this.__fW,_=this.__fX;i.length>0&&i.length==_.length&&(i.each(function(i,f){f=s(f);var n=(t=s(_[i])).attr("width");n?(t.removeAttr("width"),f.attr("width",n)):(n=t.attr("style"))&&(t.removeAttr("style"),f.attr("style",n))}),i.each(function(i,f){f=s(f);(t=s(_[i])).children("div").length||t.wrapInner("<div/>"),t.children("div").width(f.width())}))},__ft:function(t){t||(t=this.__fu);var i=t.scrollTop(),_=this.__fB();if(i>_.min&&i<_.max){if("fixed"!=this.__fU){var f=this.__fR;this.__fU="fixed",this.__fw.css({position:"fixed",top:f&&f.length?0:this.__fs,marginTop:"auto"})}}else"abs"!=this.__fU&&(this.__fU="abs",this.__fw.css({marginTop:-this.__fA,position:"absolute",top:"auto"}))},"$win<resize>":function(){this.__fY(),this.__fC()},"$doc<htmlchanged,navslidend>":function(t){var i=this;(f.inside(t.node,i.id)||t.vId==i.owner.pId||"navslidend"==t.type)&&(clearTimeout(i.__fQ),i.__fQ=setTimeout(function(){i.__fx(),i.__fY(),i.__fC(),delete i.__fy,i.__ft(i.__fR)},0))}})});