define("mx-table/sticky",["magix","$"],(t,_,i)=>{var s=t("magix"),n=t("$");i.exports=s.View.extend({init:function(t){var _=this;_.__fz=n("#header").height()||50;var i=n("#"+_.id).parents("_cj"),s=n("#inmain");i.length||s.length||(s=n(window),_.__fz=0);var f=i.parent(),h=function(){_.__fA(f)},e=function(){_.__fA(s)};_.on("destroy",function(){f.off("scroll",h),s.off("scroll",e)}),f.on("scroll",h),s.on("scroll",e),_.__fY=f,_.__fZ=i,_.__fB=s,_.__g_=t.zIndex},__fE:function(){var t=n("#"+this.id).find("table"),_=t.find("thead"),i=_.find("tr").last(),s=t.find("tbody>tr").eq(0),f="ph_"+this.id,h=n("#"+f),e=i.find("th"),o=s.find("td");o.length&&o.length==e.length&&(h.length||(h=n("<caption />").insertBefore(_).attr("id",f)),_.css({marginLeft:-1,border:"1px solid "+t.css("border-top-color"),position:"absolute",background:"#fff",zIndex:this.__g_||1})),this.__ga="abs",this.__fC=h,this.__k=t,this.__fD=_,this.__gb=s,this.__gc=o,this.__gd=e},__fI:function(){var t=n.now();if(!this.__fF||this.__fF+3e3<t){this.__fF=t;var _=this.__k,i=void 0,s=void 0;i=this.__fZ.length?_.position().top+parseInt(this.__fZ.css("top"),10):this.__fz?_.offset().top+this.__fB.scrollTop()-this.__fz:_.offset().top,s=_.height();var f=_.find("tfoot"),h=0;return f.length&&(h=f.height()),this.__fG={min:i,max:i+s-this.__fH-h}}return this.__fG},render:function(){this.__fE(),this.__ge(),this.__fJ(),this.__fA(this.__fY)},__fJ:function(){var t=this.__fD,_=this.__fC,i=t.height();i!=this.__fH&&("abs"==this.__ga&&t.css({marginTop:-i}),_.css("height",i),this.__fH=i)},__ge:function(){this.__fD.width(this.__gb.width()-1);var t,_=this.__gc,i=this.__gd;_.length>0&&_.length==i.length&&(_.each(function(_,s){s=n(s);var f=(t=n(i[_])).attr("width");f?(t.removeAttr("width"),s.attr("width",f)):(f=t.attr("style"))&&(t.removeAttr("style"),s.attr("style",f))}),_.each(function(_,s){s=n(s);(t=n(i[_])).children("div").length||t.wrapInner("<div/>"),t.children("div").width(s.width())}))},__fA:function(t){t||(t=this.__fB);var _=t.scrollTop(),i=this.__fI();if(_>i.min&&_<i.max){if("fixed"!=this.__ga){var s=this.__fY;this.__ga="fixed",this.__fD.css({position:"fixed",top:s&&s.length?0:this.__fz,marginTop:"auto"})}}else"abs"!=this.__ga&&(this.__ga="abs",this.__fD.css({marginTop:-this.__fH,position:"absolute",top:"auto"}))},"$win<resize>":function(){this.__ge(),this.__fJ()},"$doc<htmlchanged,navslidend>":function(t){var _=this;(s.inside(t.node,_.id)||t.vId==_.owner.pId||"navslidend"==t.type)&&(clearTimeout(_.__fX),_.__fX=setTimeout(function(){_.__fE(),_.__ge(),_.__fJ(),delete _.__fF,_.__fA(_.__fY)},0))}})});