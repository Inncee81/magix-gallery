define("mx-table/sticky",["magix","$"],(_,t,f)=>{var i=_("magix"),n=_("$");f.exports=i.View.extend({init:function(_){var t=this;t.__fc=n("#header").height()||50;var f=n("#"+t.id).parents("_ca"),i=n("#inmain");f.length||i.length||(i=n(window),t.__fc=0);var e=f.parent(),o=function(){t.__fd(e)},r=function(){t.__fd(i)};t.on("destroy",function(){e.off("scroll",o),i.off("scroll",r)}),e.on("scroll",o),i.on("scroll",r),t.__fB=e,t.__fC=f,t.__fe=i,t.__fD=_.zIndex},__fh:function(){var _=this,t=n("#"+_.id).find("table"),f=t.find("thead"),i=f.find("tr").last(),e=t.find("tbody>tr").eq(0),o="ph_"+_.id,r=n("#"+o),s=i.find("th"),d=e.find("td");d.length&&d.length==s.length&&(r.length||(r=n("<caption />").insertBefore(f).attr("id",o)),f.css({marginLeft:-1,border:"1px solid "+t.css("border-top-color"),position:"absolute",background:"#fff",zIndex:_.__fD||1})),_.__fE="abs",_.__ff=r,_.__h=t,_.__fg=f,_.__fF=e,_.__fG=d,_.__fH=s},__fl:function(){var _=this,t=n.now();if(!_.__fi||_.__fi+3e3<t){_.__fi=t;var f=_.__h,i=void 0,e=void 0;i=_.__fC.length?f.position().top+parseInt(_.__fC.css("top"),10):_.__fc?f.offset().top+_.__fe.scrollTop()-_.__fc:f.offset().top,e=f.height();var o=f.find("tfoot"),r=0;return o.length&&(r=o.height()),_.__fj={min:i,max:i+e-_.__fk-r}}return _.__fj},render:function(){var _=this;_.__fh(),_.__fI(),_.__fm(),_.__fd(_.__fB)},__fm:function(){var _=this,t=_.__fg,f=_.__ff,i=t.height();i!=_.__fk&&("abs"==_.__fE&&t.css({marginTop:-i}),f.css("height",i),_.__fk=i)},__fI:function(){this.__fg.width(this.__fF.width()-1);var _,t=this.__fG,f=this.__fH;t.length>0&&t.length==f.length&&(t.each(function(t,i){i=n(i);var e=(_=n(f[t])).attr("width");e?(_.removeAttr("width"),i.attr("width",e)):(e=_.attr("style"))&&(_.removeAttr("style"),i.attr("style",e))}),t.each(function(t,i){i=n(i);(_=n(f[t])).children("div").length||_.wrapInner("<div/>"),_.children("div").width(i.width())}))},__fd:function(_){var t=this;_||(_=t.__fe);var f=_.scrollTop(),i=t.__fl();if(f>i.min&&f<i.max){if("fixed"!=t.__fE){var n=t.__fB;t.__fE="fixed",t.__fg.css({position:"fixed",top:n&&n.length?0:t.__fc,marginTop:"auto"})}}else"abs"!=t.__fE&&(t.__fE="abs",t.__fg.css({marginTop:-t.__fk,position:"absolute",top:"auto"}))},"$win<resize>":function(){this.__fI(),this.__fm()},"$doc<htmlchanged,navslidend>":function(_){var t=this;(i.inside(_.node,t.id)||_.vId==t.owner.pId||"navslidend"==_.type)&&(clearTimeout(t.__fA),t.__fA=setTimeout(function(){t.__fh(),t.__fI(),t.__fm(),delete t.__fi,t.__fd(t.__fB)},0))}})});