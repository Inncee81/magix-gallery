define("mx-table/sticky",["magix","$"],(t,_,i)=>{var s=t("magix"),n=t("$");i.exports=s.View.extend({init:function(t){var _=this;_.__fy=n("#header").height()||50;var i=n("#"+_.id).parents("_cj"),s=n("#inmain");i.length||s.length||(s=n(window),_.__fy=0);var f=i.parent(),h=function(){_.__fz(f)},e=function(){_.__fz(s)};_.on("destroy",function(){f.off("scroll",h),s.off("scroll",e)}),f.on("scroll",h),s.on("scroll",e),_.__fX=f,_.__fY=i,_.__fA=s,_.__fZ=t.zIndex},__fD:function(){var t=n("#"+this.id).find("table"),_=t.find("thead"),i=_.find("tr").last(),s=t.find("tbody>tr").eq(0),f="ph_"+this.id,h=n("#"+f),e=i.find("th"),o=s.find("td");o.length&&o.length==e.length&&(h.length||(h=n("<caption />").insertBefore(_).attr("id",f)),_.css({marginLeft:-1,border:"1px solid "+t.css("border-top-color"),position:"absolute",background:"#fff",zIndex:this.__fZ||1})),this.__g_="abs",this.__fB=h,this.__j=t,this.__fC=_,this.__ga=s,this.__gb=o,this.__gc=e},__fH:function(){var t=n.now();if(!this.__fE||this.__fE+3e3<t){this.__fE=t;var _=this.__j,i=void 0,s=void 0;i=this.__fY.length?_.position().top+parseInt(this.__fY.css("top"),10):this.__fy?_.offset().top+this.__fA.scrollTop()-this.__fy:_.offset().top,s=_.height();var f=_.find("tfoot"),h=0;return f.length&&(h=f.height()),this.__fF={min:i,max:i+s-this.__fG-h}}return this.__fF},render:function(){this.__fD(),this.__gd(),this.__fI(),this.__fz(this.__fX)},__fI:function(){var t=this.__fC,_=this.__fB,i=t.height();i!=this.__fG&&("abs"==this.__g_&&t.css({marginTop:-i}),_.css("height",i),this.__fG=i)},__gd:function(){this.__fC.width(this.__ga.width()-1);var t,_=this.__gb,i=this.__gc;_.length>0&&_.length==i.length&&(_.each(function(_,s){s=n(s);var f=(t=n(i[_])).attr("width");f?(t.removeAttr("width"),s.attr("width",f)):(f=t.attr("style"))&&(t.removeAttr("style"),s.attr("style",f))}),_.each(function(_,s){s=n(s);(t=n(i[_])).children("div").length||t.wrapInner("<div/>"),t.children("div").width(s.width())}))},__fz:function(t){t||(t=this.__fA);var _=t.scrollTop(),i=this.__fH();if(_>i.min&&_<i.max){if("fixed"!=this.__g_){var s=this.__fX;this.__g_="fixed",this.__fC.css({position:"fixed",top:s&&s.length?0:this.__fy,marginTop:"auto"})}}else"abs"!=this.__g_&&(this.__g_="abs",this.__fC.css({marginTop:-this.__fG,position:"absolute",top:"auto"}))},"$win<resize>":function(){this.__gd(),this.__fI()},"$doc<htmlchanged,navslidend>":function(t){var _=this;(s.inside(t.node,_.id)||t.vId==_.owner.pId||"navslidend"==t.type)&&(clearTimeout(_.__fW),_.__fW=setTimeout(function(){_.__fD(),_.__gd(),_.__fI(),delete _.__fE,_.__fz(_.__fX)},0))}})});