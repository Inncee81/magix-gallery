define("mx-table/sticky",["magix","$"],(t,i,_)=>{var s=t("magix"),f=t("$");_.exports=s.View.extend({init:function(t){var i=this;i.__fx=f("#header").height()||50;var _=f("#"+i.id).parents("_cp"),s=f("#inmain");_.length||s.length||(s=f(window),i.__fx=0);var n=_.parent(),h=function(){i.__fy(n)},e=function(){i.__fy(s)};i.on("destroy",function(){n.off("scroll",h),s.off("scroll",e)}),n.on("scroll",h),s.on("scroll",e),i.__fW=n,i.__fX=_,i.__fz=s,i.__fY=t.zIndex},__fC:function(){var t=f("#"+this.id).find("table"),i=t.find("thead"),_=i.find("tr").last(),s=t.find("tbody>tr").eq(0),n="ph_"+this.id,h=f("#"+n),e=_.find("th"),o=s.find("td");o.length&&o.length==e.length&&(h.length||(h=f("<caption />").insertBefore(i).attr("id",n)),i.css({marginLeft:-1,border:"1px solid "+t.css("border-top-color"),position:"absolute",background:"#fff",zIndex:this.__fY||1})),this.__fZ="abs",this.__fA=h,this.__i=t,this.__fB=i,this.__g_=s,this.__ga=o,this.__gb=e},__fG:function(){var t=f.now();if(!this.__fD||this.__fD+3e3<t){this.__fD=t;var i=this.__i,_=void 0,s=void 0;_=this.__fX.length?i.position().top+parseInt(this.__fX.css("top"),10):this.__fx?i.offset().top+this.__fz.scrollTop()-this.__fx:i.offset().top,s=i.height();var n=i.find("tfoot"),h=0;return n.length&&(h=n.height()),this.__fE={min:_,max:_+s-this.__fF-h}}return this.__fE},render:function(){this.__fC(),this.__gc(),this.__fH(),this.__fy(this.__fW)},__fH:function(){var t=this.__fB,i=this.__fA,_=t.height();_!=this.__fF&&("abs"==this.__fZ&&t.css({marginTop:-_}),i.css("height",_),this.__fF=_)},__gc:function(){this.__fB.width(this.__g_.width()-1);var t,i=this.__ga,_=this.__gb;i.length>0&&i.length==_.length&&(i.each(function(i,s){s=f(s);var n=(t=f(_[i])).attr("width");n?(t.removeAttr("width"),s.attr("width",n)):(n=t.attr("style"))&&(t.removeAttr("style"),s.attr("style",n))}),i.each(function(i,s){s=f(s);(t=f(_[i])).children("div").length||t.wrapInner("<div/>"),t.children("div").width(s.width())}))},__fy:function(t){t||(t=this.__fz);var i=t.scrollTop(),_=this.__fG();if(i>_.min&&i<_.max){if("fixed"!=this.__fZ){var s=this.__fW;this.__fZ="fixed",this.__fB.css({position:"fixed",top:s&&s.length?0:this.__fx,marginTop:"auto"})}}else"abs"!=this.__fZ&&(this.__fZ="abs",this.__fB.css({marginTop:-this.__fF,position:"absolute",top:"auto"}))},"$win<resize>":function(){this.__gc(),this.__fH()},"$doc<htmlchanged,navslidend>":function(t){var i=this;(s.inside(t.node,i.id)||t.vId==i.owner.pId||"navslidend"==t.type)&&(clearTimeout(i.__fV),i.__fV=setTimeout(function(){i.__fC(),i.__gc(),i.__fH(),delete i.__fD,i.__fy(i.__fW)},0))}})});