define("mx-table/index",["magix","$"],(t,e,i)=>{var s=t("magix"),r=t("$"),_=/width\s*:\s*(\d+)px/;s.applyStyle("_I","._eS{width:100%;overflow:auto;border:1px solid #e6e6e6;position:relative}._eT,._eU thead,._eV{background-color:#fff}._eT,._eV{position:absolute;top:1px;width:auto;z-index:1}._eW{border:none}._eT{left:1px}._eV{right:1px}._eX,._eX thead{-webkit-box-shadow:6px 0 6px -4px rgba(0,0,0,.2);box-shadow:6px 0 6px -4px rgba(0,0,0,.2)}._eY,._eY thead{-webkit-box-shadow:-6px 0 6px -4px rgba(0,0,0,.2);box-shadow:-6px 0 6px -4px rgba(0,0,0,.2)}"),i.exports=s.View.extend({init:function(t){var e=t.rwdRange;this.__eS=((e||[2,-1])+"").split(","),this.__eJ=t.sticky+""=="true";var i=r("#"+this.id);this.__h=i,this.__eQ=i.find("table"),this.__eK=t.rowHoverClass},__eU:function(t,e,i,s,_,a){var h=r('<table id="'+a+'" class="'+t+'"><thead><tr></tr></thead><tbody></tbody></table>');return this.__eT(h,e,i,s,_),h},__eT:function(t,e,i,s,a){for(var h=t.find("thead>tr:first"),d=h.find("th"),n=t.find("tbody"),o=n.find("tr"),f=e;f<i;f++){var l=s.eq(f),c=f-e>=d.length;"true"!==l.attr("fake")&&(r('<th fake="true"/>').css({height:l.outerHeight(),width:l.outerWidth()}).insertBefore(l),c?h.append(l):d.eq(f-e).replaceWith(l))}for(f=0;f<a.length;f++){for(var p=a.eq(f).find("td"),v=f>=o.length,g=void 0,u=(g=v?r("<tr/>"):o.eq(f)).find("td"),b=e;b<i;b++){var w=p.eq(b),x=(l=s.eq(b),b-e>=u.length);if("true"!==w.attr("fake")){r('<td fake="true"/>').css({height:w.outerHeight(),width:w.outerWidth()}).insertBefore(w);var m=l.attr("style").match(_);m&&w.css({width:parseInt(m[1])}),x?g.append(w):u.eq(b-e).replaceWith(w)}}v&&n.append(g)}for(f=a.length;f<o.length;f++)o.eq(f).remove()},__eV:function(t,e,i){for(var s=0,r=[],a=e.length;a--;){var h=e.eq(a).attr("style");if(h){var d=h.match(_);d&&(d=parseInt(d[1]),r.push(d),s+=d)}}if(s>i)t.css({width:s}),t.find("thead").css({width:s});else{r=r.reverse();a=e.length;for(var n=0;a--;){var o=Math.round(r[a]/s*i);a?n+=o:o=i-n,e.eq(a).css({width:o})}t.css({width:i}),t.find("thead").css({width:i})}},__eW:function(t,e){var i=t.find("tbody>tr:first>td");if(i.length==e.length)for(var s=e.length;s--;){var r=e.eq(s),a=i.eq(s),h=r.attr("style").match(_);h&&a.css({width:h[1]})}},__eR:function(t,e){for(var i=t.length;i--;){var s=t.eq(i);"true"!==s.attr("fake")&&s.css({height:s.outerHeight()})}for(i=e.length;i--;){var r=e.eq(i).find("td"),_=r.eq(0);_.css({height:_.outerHeight()}),(_=r.last()).css({height:_.outerHeight()})}},__eX:function(t){for(var e=0,i=t.find("thead>tr>th"),s=i.length;s--;){var r=i.eq(s).attr("style").match(_);r&&(e+=r=parseInt(r[1]))}t.css({width:e}),t.find("thead").css({width:e})},__eY:function(t,e,i,s,r){if(this.__eM)this.__eT(this.__eM,0,t,e,i),this.__eX(this.__eM);else if(t){var _="t_"+this.id+"_left",a=this.__eU(s.attr("class")+" _eT",0,t,e,i,_);a.insertAfter(r),this.__eM=a,this.__eX(a),this.__eJ&&this.owner.mountVframe(_,"mx-table/isticky")}},__eZ:function(t,e,i,s,r){if(this.__eN)this.__eT(this.__eN,t+e.length,e.length,e,i),this.__eX(this.__eN);else if(t){var _="t_"+this.id+"_right",a=this.__eU(s.attr("class")+" _eV",t+e.length,e.length,e,i,_);a.insertAfter(r),this.__eN=a,this.__eX(a),this.__eJ&&this.owner.mountVframe(_,"mx-table/isticky")}},__fb:function(){var t=this,e=t.__h,i=t.__eQ,_=t.__f_||i.find("thead>tr:first>th");if(delete t.__f_,!e.hasClass("_eS")){e.wrap('<div class="_ag _eU"></div>'),e.addClass("_eS"),t.__eL=e,e.on("scroll",function(){t.__eO()}),t.on("destroy",function(){e.off("scroll")}),i.addClass("_eW");var a=i.find("tfoot");a.length&&r('<table class="_aA"></table>').append(a).insertAfter(e)}t.__eV(i,_,e.width()),t.__eW(i,_);var h=t.__eS,d=i.find("tbody>tr");if(t.__eR(_,d),t.__eY(+h[0],_,d,i,e),t.__eZ(+h[1],_,d,i,e),t.__eJ&&!t.__fa){t.__fa=1;var n=i.attr("id");n||i.attr("id",n=s.guid("table_")),t.owner.mountVframe(n,"mx-table/isticky")}},__eO:function(){var t=this.__eL;if(t){var e=this.__eM,i=this.__eN;if(t.prop("clientWidth")<t.prop("scrollWidth")){if(e){t.prop("scrollLeft")>=10?e.hasClass("_eX")||e.addClass("_eX"):e.hasClass("_eX")&&e.removeClass("_eX")}if(i){t.prop("scrollLeft")<t.prop("scrollWidth")-t.prop("clientWidth")-10?i.hasClass("_eY")||i.addClass("_eY"):i.hasClass("_eY")&&i.removeClass("_eY")}}}},render:function(){this.__fb(),this.__eO()},"$doc<htmlchanged>":function(t){if(t.vId==this.owner.pId){var e=this.__eQ,i=e.find("thead>tr:first>th"),s=e.find("tbody>tr:first>td");i.length!=s.length&&s.length||(this.__f_=i,this.render())}},"$tbody>tr<mouseover,mouseout>":function(t){var e=this.__eK;if(e){var i=t.eventTarget;if(!s.inside(t.relatedTarget,i)){var _=r(i).parents("tbody").find("tr"),a=_.index(i);_=this.__eQ.find("tbody>tr");var h="mouseover"==t.type?"addClass":"removeClass";_.eq(a)[h](e);var d=this.__eM;d&&(_=d.find("tbody>tr")).eq(a)[h](e),(d=this.__eN)&&(_=d.find("tbody>tr")).eq(a)[h](e)}}},"$win<resize>":function(){var t=this.__h,e=this.__eQ,i=e.find("thead>tr:first>th");this.__eV(e,i,t.width()),this.__eO()}})});