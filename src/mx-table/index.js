define("mx-table/index",["magix","$"],(t,e,i)=>{var f=t("magix"),s=t("$"),r=/width\s*:\s*(\d+)px/;f.applyStyle("_J","._fa{width:100%;overflow:auto;border:1px solid #e6e6e6;position:relative}._fb,._fc thead,._fd{background-color:#fff}._fb,._fd{position:absolute;top:1px;width:auto;z-index:1}._fe{border:none}._fb{left:1px}._fd{right:1px}._ff,._ff thead{-webkit-box-shadow:6px 0 6px -4px rgba(0,0,0,.2);box-shadow:6px 0 6px -4px rgba(0,0,0,.2)}._fg,._fg thead{-webkit-box-shadow:-6px 0 6px -4px rgba(0,0,0,.2);box-shadow:-6px 0 6px -4px rgba(0,0,0,.2)}"),i.exports=f.View.extend({init:function(t){var e=t.rwdRange;this.__fh=((e||[2,-1])+"").split(","),this.__eZ=t.sticky+""=="true";var i=s("#"+this.id);this.__h=i,this.__ff=i.find("table"),this.__f_=t.rowHoverClass},__fj:function(t,e,i,f,r,_){var a=s('<table id="'+_+'" class="'+t+'"><thead><tr></tr></thead><tbody></tbody></table>');return this.__fi(a,e,i,f,r),a},__fi:function(t,e,i,f,_){for(var a=t.find("thead>tr:first"),h=a.find("th"),d=t.find("tbody"),n=d.find("tr"),o=e;o<i;o++){var l=f.eq(o),c=o-e>=h.length;"true"!==l.attr("fake")&&(s('<th fake="true"/>').css({height:l.outerHeight(),width:l.outerWidth()}).insertBefore(l),c?a.append(l):h.eq(o-e).replaceWith(l))}for(o=0;o<_.length;o++){for(var p=_.eq(o).find("td"),g=o>=n.length,v=void 0,b=(v=g?s("<tr/>"):n.eq(o)).find("td"),u=e;u<i;u++){var w=p.eq(u),x=(l=f.eq(u),u-e>=b.length);if("true"!==w.attr("fake")){s('<td fake="true"/>').css({height:w.outerHeight(),width:w.outerWidth()}).insertBefore(w);var m=l.attr("style").match(r);m&&w.css({width:parseInt(m[1])}),x?v.append(w):b.eq(u-e).replaceWith(w)}}g&&d.append(v)}for(o=_.length;o<n.length;o++)n.eq(o).remove()},__fk:function(t,e,i){for(var f=0,s=[],_=e.length;_--;){var a=e.eq(_).attr("style");if(a){var h=a.match(r);h&&(h=parseInt(h[1]),s.push(h),f+=h)}}if(f>i)t.css({width:f}),t.find("thead").css({width:f});else{s=s.reverse();_=e.length;for(var d=0;_--;){var n=Math.round(s[_]/f*i);_?d+=n:n=i-d,e.eq(_).css({width:n})}t.css({width:i}),t.find("thead").css({width:i})}},__fl:function(t,e){var i=t.find("tbody>tr:first>td");if(i.length==e.length)for(var f=e.length;f--;){var s=e.eq(f),_=i.eq(f),a=s.attr("style").match(r);a&&_.css({width:a[1]})}},__fg:function(t,e){for(var i=t.length;i--;){var f=t.eq(i);"true"!==f.attr("fake")&&f.css({height:f.outerHeight()})}for(i=e.length;i--;){var s=e.eq(i).find("td"),r=s.eq(0);r.css({height:r.outerHeight()}),(r=s.last()).css({height:r.outerHeight()})}},__fm:function(t){for(var e=0,i=t.find("thead>tr>th"),f=i.length;f--;){var s=i.eq(f).attr("style").match(r);s&&(e+=s=parseInt(s[1]))}t.css({width:e}),t.find("thead").css({width:e})},__fn:function(t,e,i,f,s){if(this.__fb)this.__fi(this.__fb,0,t,e,i),this.__fm(this.__fb);else if(t){var r="t_"+this.id+"_left",_=this.__fj(f.attr("class")+" _fb",0,t,e,i,r);_.insertAfter(s),this.__fb=_,this.__fm(_),this.__eZ&&this.owner.mountVframe(r,"mx-table/isticky")}},__fo:function(t,e,i,f,s){if(this.__fc)this.__fi(this.__fc,t+e.length,e.length,e,i),this.__fm(this.__fc);else if(t){var r="t_"+this.id+"_right",_=this.__fj(f.attr("class")+" _fd",t+e.length,e.length,e,i,r);_.insertAfter(s),this.__fc=_,this.__fm(_),this.__eZ&&this.owner.mountVframe(r,"mx-table/isticky")}},__fr:function(){var t=this,e=t.__h,i=t.__ff,r=t.__fp||i.find("thead>tr:first>th");if(delete t.__fp,!e.hasClass("_fa")){e.wrap('<div class="_ag _fc"></div>'),e.addClass("_fa"),t.__fa=e,e.on("scroll",function(){t.__fd()}),t.on("destroy",function(){e.off("scroll")}),i.addClass("_fe");var _=i.find("tfoot");_.length&&s('<table class="_aA"></table>').append(_).insertAfter(e)}t.__fk(i,r,e.width()),t.__fl(i,r);var a=t.__fh,h=i.find("tbody>tr");if(t.__fg(r,h),t.__fn(+a[0],r,h,i,e),t.__fo(+a[1],r,h,i,e),t.__eZ&&!t.__fq){t.__fq=1;var d=i.attr("id");d||i.attr("id",d=f.guid("table_")),t.owner.mountVframe(d,"mx-table/isticky")}},__fd:function(){var t=this.__fa;if(t){var e=this.__fb,i=this.__fc;if(t.prop("clientWidth")<t.prop("scrollWidth")){if(e){t.prop("scrollLeft")>=10?e.hasClass("_ff")||e.addClass("_ff"):e.hasClass("_ff")&&e.removeClass("_ff")}if(i){t.prop("scrollLeft")<t.prop("scrollWidth")-t.prop("clientWidth")-10?i.hasClass("_fg")||i.addClass("_fg"):i.hasClass("_fg")&&i.removeClass("_fg")}}}},render:function(){this.__fr(),this.__fd()},"$doc<htmlchanged>":function(t){if(t.vId==this.owner.pId){var e=this.__ff,i=e.find("thead>tr:first>th"),f=e.find("tbody>tr:first>td");i.length!=f.length&&f.length||(this.__fp=i,this.render())}},"$tbody>tr<mouseover,mouseout>":function(t){var e=this.__f_;if(e){var i=t.eventTarget;if(!f.inside(t.relatedTarget,i)){var r=s(i).parents("tbody").find("tr"),_=r.index(i);r=this.__ff.find("tbody>tr");var a="mouseover"==t.type?"addClass":"removeClass";r.eq(_)[a](e);var h=this.__fb;h&&(r=h.find("tbody>tr")).eq(_)[a](e),(h=this.__fc)&&(r=h.find("tbody>tr")).eq(_)[a](e)}}},"$win<resize>":function(){var t=this.__h,e=this.__ff,i=e.find("thead>tr:first>th");this.__fk(e,i,t.width()),this.__fd()}})});