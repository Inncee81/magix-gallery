define("mx-table/index",["magix","$"],(t,e,i)=>{var f=t("magix"),r=t("$"),s=/width\s*:\s*(\d+)px/;f.applyStyle("_J","._f_{width:100%;overflow:auto;border:1px solid #e6e6e6;position:relative}._fa,._fb thead,._fc{background-color:#fff}._fa,._fc{position:absolute;top:1px;width:auto;z-index:1}._fd{border:none}._fa{left:1px}._fc{right:1px}._fe,._fe thead{-webkit-box-shadow:6px 0 6px -4px rgba(0,0,0,.2);box-shadow:6px 0 6px -4px rgba(0,0,0,.2)}._ff,._ff thead{-webkit-box-shadow:-6px 0 6px -4px rgba(0,0,0,.2);box-shadow:-6px 0 6px -4px rgba(0,0,0,.2)}"),i.exports=f.View.extend({init:function(t){var e=t.rwdRange;this.__fm=((e||[2,-1])+"").split(","),this.__fd=t.sticky+""=="true";var i=r("#"+this.id);this.__i=i,this.__fk=i.find("table"),this.__fe=t.rowHoverClass},__fo:function(t,e,i,f,s,_){var a=r('<table id="'+_+'" class="'+t+'"><thead><tr></tr></thead><tbody></tbody></table>');return this.__fn(a,e,i,f,s),a},__fn:function(t,e,i,f,_){for(var a=t.find("thead>tr:first"),h=a.find("th"),d=t.find("tbody"),n=d.find("tr"),o=e;o<i;o++){var l=f.eq(o),p=o-e>=h.length;"true"!==l.attr("fake")&&(r('<th fake="true"/>').css({height:l.outerHeight(),width:l.outerWidth()}).insertBefore(l),p?a.append(l):h.eq(o-e).replaceWith(l))}for(o=0;o<_.length;o++){for(var c=_.eq(o).find("td"),v=o>=n.length,g=void 0,u=(g=v?r("<tr/>"):n.eq(o)).find("td"),b=e;b<i;b++){var w=c.eq(b),x=(l=f.eq(b),b-e>=u.length);if("true"!==w.attr("fake")){r('<td fake="true"/>').css({height:w.outerHeight(),width:w.outerWidth()}).insertBefore(w);var m=l.attr("style").match(s);m&&w.css({width:parseInt(m[1])}),x?g.append(w):u.eq(b-e).replaceWith(w)}}v&&d.append(g)}for(o=_.length;o<n.length;o++)n.eq(o).remove()},__fp:function(t,e,i){for(var f=0,r=[],_=e.length;_--;){var a=e.eq(_).attr("style");if(a){var h=a.match(s);h&&(h=parseInt(h[1]),r.push(h),f+=h)}}if(f>i)t.css({width:f}),t.find("thead").css({width:f});else{r=r.reverse();_=e.length;for(var d=0;_--;){var n=Math.round(r[_]/f*i);_?d+=n:n=i-d,e.eq(_).css({width:n})}t.css({width:i}),t.find("thead").css({width:i})}},__fq:function(t,e){var i=t.find("tbody>tr:first>td");if(i.length==e.length)for(var f=e.length;f--;){var r=e.eq(f),_=i.eq(f),a=r.attr("style").match(s);a&&_.css({width:a[1]})}},__fl:function(t,e){for(var i=t.length;i--;){var f=t.eq(i);"true"!==f.attr("fake")&&f.css({height:f.outerHeight()})}for(i=e.length;i--;){var r=e.eq(i).find("td"),s=r.eq(0);s.css({height:s.outerHeight()}),(s=r.last()).css({height:s.outerHeight()})}},__fr:function(t){for(var e=0,i=t.find("thead>tr>th"),f=i.length;f--;){var r=i.eq(f).attr("style").match(s);r&&(e+=r=parseInt(r[1]))}t.css({width:e}),t.find("thead").css({width:e})},__fs:function(t,e,i,f,r){if(this.__fg)this.__fn(this.__fg,0,t,e,i),this.__fr(this.__fg);else if(t){var s="t_"+this.id+"_left",_=this.__fo(f.attr("class")+" _fa",0,t,e,i,s);_.appendTo(r),this.__fg=_,this.__fr(_),this.__fd&&this.owner.mountVframe(s,"mx-table/isticky")}},__ft:function(t,e,i,f,r){if(this.__fh)this.__fn(this.__fh,t+e.length,e.length,e,i),this.__fr(this.__fh);else if(t){var s="t_"+this.id+"_right",_=this.__fo(f.attr("class")+" _fc",t+e.length,e.length,e,i,s);_.appendTo(r),this.__fh=_,this.__fr(_),this.__fd&&this.owner.mountVframe(s,"mx-table/isticky")}},__fw:function(){var t=this,e=t.__i,i=t.__fk,s=t.__fu||i.find("thead>tr:first>th");if(delete t.__fu,!e.hasClass("_fb")){var _=e.wrapInner('<div class="_f_"></div>').children().first();e.addClass("_ag _fb"),t.__ff=_,_.on("scroll",function(){e.prop("sl",_.prop("scrollLeft")),t.__fi()}),t.on("destroy",function(){_.off("scroll")}),i.addClass("_fd");var a=i.find("tfoot");a.length&&r('<table class="_aA"></table>').append(a).appendTo(e)}t.__fp(i,s,e.width()),t.__fq(i,s);var h=t.__fm,d=i.find("tbody>tr");if(t.__fl(s,d),t.__fs(+h[0],s,d,i,e),t.__ft(+h[1],s,d,i,e),t.__fd&&!t.__fv){t.__fv=1;var n=i.attr("id");n||i.attr("id",n=f.guid("table_")),t.owner.mountVframe(n,"mx-table/isticky")}},__fi:function(){var t=this.__ff;if(t){var e=this.__i.prop("sl");e&&t.prop("scrollLeft",e);var i=this.__fg,f=this.__fh;if(t.prop("clientWidth")<t.prop("scrollWidth")){if(i){t.prop("scrollLeft")>=10?i.hasClass("_fe")||i.addClass("_fe"):i.hasClass("_fe")&&i.removeClass("_fe")}if(f){t.prop("scrollLeft")<t.prop("scrollWidth")-t.prop("clientWidth")-10?f.hasClass("_ff")||f.addClass("_ff"):f.hasClass("_ff")&&f.removeClass("_ff")}}}},render:function(){this.__fw(),this.__fi()},"$doc<htmlchanged>":function(t){if(t.vId==this.owner.pId){var e=this.__fk,i=e.find("thead>tr:first>th"),f=e.find("tbody>tr:first>td");i.length!=f.length&&f.length||(this.__fu=i,this.render())}},"$tbody>tr<mouseover,mouseout>":function(t){var e=this.__fe;if(e){var i=t.eventTarget;if(!f.inside(t.relatedTarget,i)){var s=r(i).parents("tbody").find("tr"),_=s.index(i);s=this.__fk.find("tbody>tr");var a="mouseover"==t.type?"addClass":"removeClass";s.eq(_)[a](e);var h=this.__fg;h&&(s=h.find("tbody>tr")).eq(_)[a](e),(h=this.__fh)&&(s=h.find("tbody>tr")).eq(_)[a](e)}}},"$win<resize>":function(){var t=this.__i,e=this.__fk,i=e.find("thead>tr:first>th");this.__fp(e,i,t.width()),this.__fi()}})});