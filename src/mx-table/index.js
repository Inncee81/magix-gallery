define("mx-table/index",["magix","$"],(t,e,i)=>{var f=t("magix"),r=t("$"),s=/width\s*:\s*(\d+)px/;f.applyStyle("_J","._eZ{width:100%;overflow:auto;border:1px solid #e6e6e6;position:relative}._f_,._fa thead,._fb{background-color:#fff}._f_,._fb{position:absolute;top:1px;width:auto;z-index:1}._fc{border:none}._f_{left:1px}._fb{right:1px}._fd,._fd thead{box-shadow:6px 0 6px -4px rgba(0,0,0,.2)}._fe,._fe thead{box-shadow:-6px 0 6px -4px rgba(0,0,0,.2)}"),i.exports=f.View.extend({init:function(t){var e=t.rwdRange;this.__fo=((e||[2,-1])+"").split(","),this.__ff=t.sticky+""=="true";var i=r("#"+this.id);this.__k=i,this.__fm=i.find("table"),this.__fg=t.rowHoverClass},__fq:function(t,e,i,f,s,_){var a=r('<table id="'+_+'" class="'+t+'"><thead><tr></tr></thead><tbody></tbody></table>');return this.__fp(a,e,i,f,s),a},__fp:function(t,e,i,f,_){for(var a=t.find("thead>tr:first"),h=a.find("th"),d=t.find("tbody"),n=d.find("tr"),o=e;o<i;o++){var l=f.eq(o),p=o-e>=h.length;"true"!==l.attr("fake")&&(r('<th fake="true"/>').css({height:l.outerHeight(),width:l.outerWidth()}).insertBefore(l),p?a.append(l):h.eq(o-e).replaceWith(l))}for(o=0;o<_.length;o++){for(var c=_.eq(o).find("td"),v=o>=n.length,g=void 0,u=(g=v?r("<tr/>"):n.eq(o)).find("td"),b=e;b<i;b++){var w=c.eq(b),m=(l=f.eq(b),b-e>=u.length);if("true"!==w.attr("fake")){r('<td fake="true"/>').css({height:w.outerHeight(),width:w.outerWidth()}).insertBefore(w);var x=l.attr("style").match(s);x&&w.css({width:parseInt(x[1])}),m?g.append(w):u.eq(b-e).replaceWith(w)}}v&&d.append(g)}for(o=_.length;o<n.length;o++)n.eq(o).remove()},__fr:function(t,e,i){for(var f=0,r=[],_=e.length;_--;){var a=e.eq(_).attr("style");if(a){var h=a.match(s);h&&(h=parseInt(h[1]),r.push(h),f+=h)}}if(f>i)t.css({width:f}),t.find("thead").css({width:f});else{r=r.reverse();_=e.length;for(var d=0;_--;){var n=Math.round(r[_]/f*i);_?d+=n:n=i-d,e.eq(_).css({width:n})}t.css({width:i}),t.find("thead").css({width:i})}},__fs:function(t,e){var i=t.find("tbody>tr:first>td");if(i.length==e.length)for(var f=e.length;f--;){var r=e.eq(f),_=i.eq(f),a=r.attr("style").match(s);a&&_.css({width:a[1]})}},__fn:function(t,e){for(var i=t.length;i--;){var f=t.eq(i);"true"!==f.attr("fake")&&f.css({height:f.outerHeight()})}for(i=e.length;i--;){var r=e.eq(i).find("td"),s=r.eq(0);s.css({height:s.outerHeight()}),(s=r.last()).css({height:s.outerHeight()})}},__ft:function(t){for(var e=0,i=t.find("thead>tr>th"),f=i.length;f--;){var r=i.eq(f).attr("style").match(s);r&&(e+=r=parseInt(r[1]))}t.css({width:e}),t.find("thead").css({width:e})},__fu:function(t,e,i,f,r){if(this.__fi)this.__fp(this.__fi,0,t,e,i),this.__ft(this.__fi);else if(t){var s="t_"+this.id+"_left",_=this.__fq(f.attr("class")+" _f_",0,t,e,i,s);_.appendTo(r),this.__fi=_,this.__ft(_),this.__ff&&this.owner.mountVframe(s,"mx-table/isticky")}},__fv:function(t,e,i,f,r){if(this.__fj)this.__fp(this.__fj,t+e.length,e.length,e,i),this.__ft(this.__fj);else if(t){var s="t_"+this.id+"_right",_=this.__fq(f.attr("class")+" _fb",t+e.length,e.length,e,i,s);_.appendTo(r),this.__fj=_,this.__ft(_),this.__ff&&this.owner.mountVframe(s,"mx-table/isticky")}},__fy:function(){var t=this,e=t.__k,i=t.__fm,s=t.__fw||i.find("thead>tr:first>th");if(delete t.__fw,!e.hasClass("_fa")){var _=e.wrapInner('<div class="_eZ"></div>').children().first();e.addClass("_ag _fa"),t.__fh=_,_.on("scroll",function(){e.prop("sl",_.prop("scrollLeft")),t.__fk()}),t.on("destroy",function(){_.off("scroll")}),i.addClass("_fc");var a=i.find("tfoot");a.length&&r('<table class="_aA"></table>').append(a).appendTo(e)}t.__fr(i,s,e.width()),t.__fs(i,s);var h=t.__fo,d=i.find("tbody>tr");if(t.__fn(s,d),t.__fu(+h[0],s,d,i,e),t.__fv(+h[1],s,d,i,e),t.__ff&&!t.__fx){t.__fx=1;var n=i.attr("id");n||i.attr("id",n=f.guid("table_")),t.owner.mountVframe(n,"mx-table/isticky")}},__fk:function(){var t=this.__fh;if(t){var e=this.__k.prop("sl");e&&t.prop("scrollLeft",e);var i=this.__fi,f=this.__fj;if(t.prop("clientWidth")<t.prop("scrollWidth")){if(i){t.prop("scrollLeft")>=10?i.hasClass("_fd")||i.addClass("_fd"):i.hasClass("_fd")&&i.removeClass("_fd")}if(f){t.prop("scrollLeft")<t.prop("scrollWidth")-t.prop("clientWidth")-10?f.hasClass("_fe")||f.addClass("_fe"):f.hasClass("_fe")&&f.removeClass("_fe")}}}},render:function(){this.__fy(),this.__fk()},"$doc<htmlchanged>":function(t){if(t.vId==this.owner.pId){var e=this.__fm,i=e.find("thead>tr:first>th"),f=e.find("tbody>tr:first>td");i.length!=f.length&&f.length||(this.__fw=i,this.render())}},"$tbody>tr<mouseover,mouseout>":function(t){var e=this.__fg;if(e){var i=t.eventTarget;if(!f.inside(t.relatedTarget,i)){var s=r(i).parents("tbody").find("tr"),_=s.index(i);s=this.__fm.find("tbody>tr");var a="mouseover"==t.type?"addClass":"removeClass";s.eq(_)[a](e);var h=this.__fi;h&&(s=h.find("tbody>tr")).eq(_)[a](e),(h=this.__fj)&&(s=h.find("tbody>tr")).eq(_)[a](e)}}},"$win<resize>":function(){var t=this.__k,e=this.__fm,i=e.find("thead>tr:first>th");this.__fr(e,i,t.width()),this.__fk()}})});