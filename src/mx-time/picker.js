define("mx-time/picker",["magix","$","../mx-monitor/index","./index"],(e,i,t)=>{e("./index");var _=e("magix"),d=e("$"),n=e("../mx-monitor/index");_.applyStyle("_N","._fu{position:absolute;display:none;border:1px solid #e6e6e6;padding:10px 0;border-radius:4px;background-color:#fff;z-index:1;width:271px}._fv{margin:0 10px}._fw{border-top:1px solid #e6e6e6;margin:10px 10px 0;padding:10px 0 0}");var r=function(e){return e<10?"0"+e:e};t.exports=_.View.extend({tmpl:{html:'<div mx-guid="g0" class="_fu" id="wrapper_<%=$$.viewId%>"><div mx-guid="g1" mx-view="mx-time/index?time=<%!$eu($$.time)%>&type=<%!$eu($$.types)%>" id="time_<%=$$.viewId%>" class="_fv _ai" mx-change="__gg()"></div><div class="_fw"><button type="button" class="_an _ao" mx-click="__b({enter:true})">确定</button><button type="button" class="_an _s" mx-click="__b()">取消</button></div></div>',subs:[{keys:["viewId"],path:'div[mx-guid="g0"]',attr:'id="wrapper_<%=$$.viewId%>"',attrs:[{n:"id",p:1}]},{keys:["time","types","viewId"],path:'div[mx-guid="g1"]',attr:'mx-view="mx-time/index?time=<%!$eu($$.time)%>&type=<%!$eu($$.types)%>" id="time_<%=$$.viewId%>"',attrs:[{n:"mx-view",v:1},{n:"id",p:1}]}]},init:function(e){var i=this;n.__d();var t=d("#"+i.id),_=function(){i.__e()};i.on("destroy",function(){n.__f(i),n.__g(),d("#tcnt_"+i.id).remove(),t.off("click",_)}),t.on("click",_),i.__h=t,t.prop("autocomplete","off");var a=t.val();if(!a){var o=new Date;a=r(o.getHours())+":"+r(o.getMinutes())+":"+r(o.getSeconds())}e.time=a,i.__gd=a,i.__ge=a,i.updater.set(e)},__i:function(e){return _.inside(e,this.id)||_.inside(e,"tcnt_"+this.id)},render:function(){var e=this;d('<div id="tcnt_'+e.id+'"/>').insertAfter(e.__h);var i=e.updater;i.to("tcnt_"+e.id),i.digest({viewId:e.id})},__e:function(){var e=this;if(!e.__gf){var i=d("#wrapper_"+e.id),t=e.__h;e.__gf=!0,n.__k(e),i.show();var _=t.offset(),r=void 0,a=void 0,o=e.updater.get();switch(o.placement){case"top":a=_.top-i.outerHeight()-5;break;default:a=_.top+t.outerHeight()+5}switch(o.align){case"right":r=_.left+t.outerWidth()-i.outerWidth();break;default:r=_.left}i.offset({left:r,top:a})}},__b:function(){var e=this;if(e.__gf){var i=d("#wrapper_"+e.id);e.__gf=!1,i.hide(),n.__f(e),e.__gd!=e.__ge&&(e.__gd=e.__ge,d("#time_"+e.id).invokeView("val",[e.__gd]))}},"__gg<change>":function(e){this.__gd=e.time},"__b<click>":function(e){var i=this;e.params.enter&&(i.__ge=i.__gd,i.__h.val(i.__gd).trigger("change")),i.__b()}})});