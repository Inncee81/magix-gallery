define("mx-time/picker",["magix","$","../mx-monitor/index","./index"],(t,i,e)=>{t("./index");var _=t("magix"),n=t("$"),r=t("../mx-monitor/index");_.applyStyle("_O","._fB{position:relative;border:1px solid #e6e6e6;padding:10px 0;border-radius:4px;background-color:#fff;z-index:1;width:271px}._fC{margin:0 10px}._fD{border-top:1px solid #e6e6e6;margin:10px 10px 0;padding:10px 0 0}");var s=function(t){return t<10?"0"+t:t};e.exports=_.View.extend({tmpl:function(t,i){i=i||"";var e="",_={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},n=/[&<>"'`]/g,r=function(t){return null==t?"":""+t},s=function(t){return"&"+_[t]+";"},o=function(t){return r(t).replace(n,s)},a={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},d=function(t){return a[t]},h=/[!')(*]/g,c=function(t){return encodeURIComponent(r(t)).replace(h,d)};return e+='<div class="_fB" id="wrapper_'+o(t.viewId)+'"><div mx-view="mx-time/index?time='+r(c(t.time))+"&types="+r(c(t.types))+'" id="time_'+o(t.viewId)+'" class="_fC _ai" mx-change="'+i+'__gD()"></div><div mxs="_::_" class="_fD"><button type="button" class="_an _ao" mx-click="'+i+'__b({enter:true})">确定</button><button type="button" class="_an _s" mx-click="'+i+'__b()">取消</button></div></div>'},init:function(t){var i=this;r.__g();var e=n("#"+i.id);i.__h=e,(e=e.prev("input")).prop("vframe",i.owner);var _=function(){i.__e()};i.on("destroy",function(){r.__i(i),r.__j(),e.off("click",_)}),e.on("click",_),i.__k=e,e.prop("autocomplete","off");var o=e.val().trim();if(!o){var a=new Date;o=s(a.getHours())+":"+s(a.getMinutes())+":"+s(a.getSeconds())}t.time=o,i.__gA=o,i.__gB=o,i.updater.set(t)},__l:function(t){return _.inside(t,this.id)||_.inside(t,"temp_"+this.id)||_.inside(t,this.__k[0])},render:function(){this.updater.digest({viewId:this.id})},__e:function(){if(!this.__gC){var t=this.__h,i=this.__k;t.show(),this.__gC=!0,r.__n(this);var e=i.offset(),_=void 0,s=void 0,o=this.updater.get();switch(o.placement){case"top":s=e.top-t.outerHeight()-5;break;default:s=e.top+i.outerHeight()+5}switch(o.align){case"right":_=e.left+i.outerWidth()-t.outerWidth();break;default:_=e.left}t.offset({left:_,top:s});var a=this.__k.val().trim();a&&this.__gA!=a&&(this.__gA=a,this.__gB=a,n("#time_"+this.id).invokeView("val",[a]))}},__b:function(){this.__gC&&(this.__gC=!1,this.__h.hide(),r.__i(this),this.__gA!=this.__gB&&(this.__gA=this.__gB,n("#time_"+this.id).invokeView("val",[this.__gA])))},"__gD<change>":function(t){this.__gA=t.time},"__b<click>":function(t){t.params.enter&&(this.__gB=this.__gA),this.__b(),t.params.enter&&this.__k.val(this.__gA).trigger("change")}})});