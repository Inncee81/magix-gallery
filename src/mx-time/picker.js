define("mx-time/picker",["magix","$","../mx-monitor/index","./index"],(t,i,e)=>{t("./index");var _=t("magix"),d=t("$"),s=t("../mx-monitor/index");_.applyStyle("_O","._fD{position:absolute;left:-10000px;top:-10000px;border:1px solid #e6e6e6;padding:10px 0;border-radius:4px;background-color:#fff;z-index:1;width:271px}._fE{margin:0 10px}._fF{border-top:1px solid #e6e6e6;margin:10px 10px 0;padding:10px 0 0}");var n=function(t){return t<10?"0"+t:t};e.exports=_.View.extend({tmpl:{html:'<div mx-guid="g0" class="_fD" id="wrapper_<%=$$.viewId%>"><div mx-guid="g1" mx-view="mx-time/index?time=<%!$eu($$.time)%>&type=<%!$eu($$.types)%>" id="time_<%=$$.viewId%>" class="_fE _ai" mx-change="__gw()"></div><div class="_fF"><button type="button" class="_an _ao" mx-click="__a({enter:true})">确定</button><button type="button" class="_an _s" mx-click="__a()">取消</button></div></div>',subs:[{keys:["viewId"],path:'div[mx-guid="g0"]',attr:'id="wrapper_<%=$$.viewId%>"',attrs:[{n:"id",p:1}]},{keys:["time","types","viewId"],path:'div[mx-guid="g1"]',attr:'mx-view="mx-time/index?time=<%!$eu($$.time)%>&type=<%!$eu($$.types)%>" id="time_<%=$$.viewId%>"',attrs:[{n:"mx-view",v:1},{n:"id",p:1}]}]},init:function(t){var i=this;s.__d();var e=d("#"+i.id),_=function(){i.__e()};i.on("destroy",function(){s.__f(i),s.__g(),d("#tcnt_"+i.id).remove(),e.off("click",_)}),e.on("click",_),i.__h=e,e.prop("autocomplete","off");var a=e.val();if(!a){var r=new Date;a=n(r.getHours())+":"+n(r.getMinutes())+":"+n(r.getSeconds())}t.time=a,i.__gt=a,i.__gu=a,i.updater.set(t)},__i:function(t){return _.inside(t,this.id)||_.inside(t,"tcnt_"+this.id)},render:function(){d('<div id="tcnt_'+this.id+'"/>').insertAfter(this.__h);var t=this.updater;t.to("tcnt_"+this.id),t.digest({viewId:this.id})},__e:function(){if(!this.__gv){var t=d("#wrapper_"+this.id),i=this.__h;this.__gv=!0,s.__k(this);var e=i.offset(),_=void 0,n=void 0,a=this.updater.get();switch(a.placement){case"top":n=e.top-t.outerHeight()-5;break;default:n=e.top+i.outerHeight()+5}switch(a.align){case"right":_=e.left+i.outerWidth()-t.outerWidth();break;default:_=e.left}t.offset({left:_,top:n})}},__a:function(){if(this.__gv){var t=d("#wrapper_"+this.id);this.__gv=!1,t.css({left:-1e4,top:-1e4}),s.__f(this),this.__gt!=this.__gu&&(this.__gt=this.__gu,d("#time_"+this.id).invokeView("val",[this.__gt]))}},"__gw<change>":function(t){this.__gt=t.time},"__a<click>":function(t){t.params.enter&&(this.__gu=this.__gt,this.__h.val(this.__gt).trigger("change")),this.__a()}})});