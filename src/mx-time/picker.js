define("mx-time/picker",["magix","$","../mx-monitor/index","./index"],(t,i,e)=>{t("./index");var _=t("magix"),n=t("$"),r=t("../mx-monitor/index");_.applyStyle("_O","._fB{position:relative;border:1px solid #e6e6e6;padding:10px 0;border-radius:4px;background-color:#fff;z-index:1;width:271px}._fC{margin:0 10px}._fD{border-top:1px solid #e6e6e6;margin:10px 10px 0;padding:10px 0 0}");var o=function(t){return t<10?"0"+t:t};e.exports=_.View.extend({tmpl:function(t,i){var e="",_={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},n=/[&<>"'`]/g,r=function(t){return null==t?"":""+t},o=function(t){return"&"+_[t]+";"},s=function(t){return r(t).replace(n,o)},a={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},d=function(t){return a[t]},h=/[!')(*]/g,c=function(t){return encodeURIComponent(r(t)).replace(h,d)};return e+='<div class="_fB" id="wrapper_'+s(i.viewId)+'"><div mx-view="mx-time/index?time='+r(c(i.time))+"&types="+r(c(i.types))+'" id="time_'+s(i.viewId)+'" class="_fC _ai" mx-change="__gD()"></div><div class="_fD"><button type="button" class="_an _ao" mx-click="__a({enter:true})">确定</button><button type="button" class="_an _s" mx-click="__a()">取消</button></div></div>'},init:function(t){var i=this;r.__e();var e=n("#"+i.id);i.__f=e,(e=e.prev("input")).prop("vframe",i.owner);var _=function(){i.__g()};i.on("destroy",function(){r.__h(i),r.__i(),e.off("click",_)}),e.on("click",_),i.__j=e,e.prop("autocomplete","off");var s=e.val().trim();if(!s){var a=new Date;s=o(a.getHours())+":"+o(a.getMinutes())+":"+o(a.getSeconds())}t.time=s,i.__gA=s,i.__gB=s,i.updater.set(t)},__k:function(t){return _.inside(t,this.id)||_.inside(t,"temp_"+this.id)||_.inside(t,this.__j[0])},render:function(){this.updater.digest({viewId:this.id})},__g:function(){if(!this.__gC){var t=this.__f,i=this.__j;t.show(),this.__gC=!0,r.__m(this);var e=i.offset(),_=void 0,o=void 0,s=this.updater.get();switch(s.placement){case"top":o=e.top-t.outerHeight()-5;break;default:o=e.top+i.outerHeight()+5}switch(s.align){case"right":_=e.left+i.outerWidth()-t.outerWidth();break;default:_=e.left}t.offset({left:_,top:o});var a=this.__j.val().trim();a&&this.__gA!=a&&(this.__gA=a,this.__gB=a,n("#time_"+this.id).invokeView("val",[a]))}},__a:function(){this.__gC&&(this.__gC=!1,this.__f.hide(),r.__h(this),this.__gA!=this.__gB&&(this.__gA=this.__gB,n("#time_"+this.id).invokeView("val",[this.__gA])))},"__gD<change>":function(t){this.__gA=t.time},"__a<click>":function(t){t.params.enter&&(this.__gB=this.__gA),this.__a(),t.params.enter&&this.__j.val(this.__gA).trigger("change")}})});