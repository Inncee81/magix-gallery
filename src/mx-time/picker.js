define("mx-time/picker",["magix","$","../mx-monitor/index","./index"],(t,i,e)=>{t("./index");var _=t("magix"),n=t("$"),r=t("../mx-monitor/index");_.applyStyle("_O","._fB{position:relative;border:1px solid #e6e6e6;padding:10px 0;border-radius:4px;background-color:#fff;z-index:1;width:271px}._fC{margin:0 10px}._fD{border-top:1px solid #e6e6e6;margin:10px 10px 0;padding:10px 0 0}");var o=function(t){return t<10?"0"+t:t};e.exports=_.View.extend({tmpl:function(t){var i="",e={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},_=/[&<>"'`]/g,n=function(t){return null==t?"":""+t},r=function(t){return"&"+e[t]+";"},o=function(t){return n(t).replace(_,r)},s={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},a=function(t){return s[t]},d=/[!')(*]/g,h=function(t){return encodeURIComponent(n(t)).replace(d,a)};return i+='<div class="_fB" id="wrapper_'+o(t.viewId)+'"><div mx-view="mx-time/index?time='+n(h(t.time))+"&types="+n(h(t.types))+'" id="time_'+o(t.viewId)+'" class="_fC _ai" mx-change="__gD()"></div><div class="_fD"><button type="button" class="_an _ao" mx-click="__b({enter:true})">确定</button><button type="button" class="_an _s" mx-click="__b()">取消</button></div></div>'},init:function(t){var i=this;r.__f();var e=n("#"+i.id);i.__g=e,(e=e.prev("input")).prop("vframe",i.owner);var _=function(){i.__h()};i.on("destroy",function(){r.__i(i),r.__j(),e.off("click",_)}),e.on("click",_),i.__k=e,e.prop("autocomplete","off");var s=e.val().trim();if(!s){var a=new Date;s=o(a.getHours())+":"+o(a.getMinutes())+":"+o(a.getSeconds())}t.time=s,i.__gA=s,i.__gB=s,i.updater.set(t)},__l:function(t){return _.inside(t,this.id)||_.inside(t,"temp_"+this.id)||_.inside(t,this.__k[0])},render:function(){this.updater.digest({viewId:this.id})},__h:function(){if(!this.__gC){var t=this.__g,i=this.__k;t.show(),this.__gC=!0,r.__n(this);var e=i.offset(),_=void 0,o=void 0,s=this.updater.get();switch(s.placement){case"top":o=e.top-t.outerHeight()-5;break;default:o=e.top+i.outerHeight()+5}switch(s.align){case"right":_=e.left+i.outerWidth()-t.outerWidth();break;default:_=e.left}t.offset({left:_,top:o});var a=this.__k.val().trim();a&&this.__gA!=a&&(this.__gA=a,this.__gB=a,n("#time_"+this.id).invokeView("val",[a]))}},__b:function(){this.__gC&&(this.__gC=!1,this.__g.hide(),r.__i(this),this.__gA!=this.__gB&&(this.__gA=this.__gB,n("#time_"+this.id).invokeView("val",[this.__gA])))},"__gD<change>":function(t){this.__gA=t.time},"__b<click>":function(t){t.params.enter&&(this.__gB=this.__gA),this.__b(),t.params.enter&&this.__k.val(this.__gA).trigger("change")}})});