define("mx-time/index",["magix","$"],(e,t,_)=>{var i=e("magix"),n=e("$");i.applyStyle("_N","._fz{width:58px;float:left;overflow:hidden}._fA{font-size:30px;height:50px;text-align:center;margin-bottom:10px}._fB{width:28px;height:28px;padding:0}._fC{font-size:27px;float:left;line-height:32px;margin-top:8px;font-weight:bolder;display:inline-block;width:30px;text-align:center}");var s=function(e){if(!e){var t=new Date;e=t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()}var _=e.split(":");if(3!=_.length)throw new Error("bad time:"+e);return{__cN:parseInt(_[0],10)||0,__gn:parseInt(_[1],10)||0,__go:parseInt(_[2],10)||0}},a=function(e){return e<10?"0"+e:e};_.exports=i.View.extend({tmpl:{html:'<div class="_fz"><input mx-guid="g0" class="_ap _fA" value="<%=$$.format($$.time[\'__cN\'])%>" <%if($$.types[\'__cN\']){%> mx-change="__gr({type:\'__cN\'})" <%}else{%> disabled<%}%> maxlength="2" mx-keydown="__dS({type:\'__cN\'})" autocomplete="off"><button mx-guid="g1" type="button" class="_an _fB _aa" <%if($$.types[\'__cN\']){%> mx-click="__gq({type:\'__cN\'})" mx-mousedown="__dR({type:\'__cN\'})" <%}else{%> disabled<%}%> tabindex="-1"><i class="__">&#xe6df;</i></button><button mx-guid="g2" type="button" class="_an _fB _ab" <%if($$.types[\'__cN\']){%> mx-click="__gq({type:\'__cN\',inc:1})" mx-mousedown="__dR({type:\'__cN\',inc:1})" <%}else{%> disabled<%}%> tabindex="-1"><i class="__">&#xe661;</i></button></div><span class="_fC">:</span><div class="_fz"><input mx-guid="g3" class="_ap _fA" value="<%=$$.format($$.time[\'__gn\'])%>" <%if($$.types[\'__gn\']){%> mx-change="__gr({type:\'__gn\'})" <%}else{%> disabled<%}%> maxlength="2" mx-keydown="__dS({type:\'__gn\'})" autocomplete="off"><button mx-guid="g4" type="button" class="_an _fB _aa" <%if($$.types[\'__gn\']){%> mx-click="__gq({type:\'__gn\'})" mx-mousedown="__dR({type:\'__gn\'})" <%}else{%> disabled<%}%> tabindex="-1"><i class="__">&#xe6df;</i></button><button mx-guid="g5" type="button" class="_an _fB _ab" <%if($$.types[\'__gn\']){%> mx-click="__gq({type:\'__gn\',inc:1})" mx-mousedown="__dR({type:\'__gn\',inc:1})" <%}else{%> disabled<%}%> tabindex="-1"><i class="__">&#xe661;</i></button></div><span class="_fC">:</span><div class="_fz"><input mx-guid="g6" class="_ap _fA" value="<%=$$.format($$.time[\'__go\'])%>" <%if($$.types[\'__go\']){%> mx-change="__gr({type:\'__go\'})" <%}else{%> disabled<%}%> maxlength="2" mx-keydown="__dS({type:\'__go\'})" autocomplete="off"><button mx-guid="g7" type="button" class="_an _fB _aa" <%if($$.types[\'__go\']){%> mx-click="__gq({type:\'__go\'})" mx-mousedown="__dR({type:\'__go\'})" <%}else{%> disabled<%}%> tabindex="-1"><i class="__">&#xe6df;</i></button><button mx-guid="g8" type="button" class="_an _fB _ab" <%if($$.types[\'__go\']){%> mx-click="__gq({type:\'__go\',inc:1})" mx-mousedown="__dR({type:\'__go\',inc:1})" <%}else{%> disabled<%}%> tabindex="-1"><i class="__">&#xe661;</i></button></div>',subs:[{keys:["time","types"],path:'input[mx-guid="g0"]',attr:"value=\"<%=$$.format($$.time['__cN'])%>\" <%if($$.types['__cN']){%> mx-change=\"__gr({type:'__cN'})\" <%}else{%> disabled<%}%>",attrs:[{n:"value",q:1,p:1},{n:"mx-change"},{n:"disabled",b:1,p:1}]},{keys:["types"],path:'button[mx-guid="g1"]',attr:"<%if($$.types['__cN']){%> mx-click=\"__gq({type:'__cN'})\" mx-mousedown=\"__dR({type:'__cN'})\" <%}else{%> disabled<%}%>",attrs:[{n:"mx-click"},{n:"mx-mousedown"},{n:"disabled",b:1,p:1}]},{keys:["types"],path:'button[mx-guid="g2"]',attr:"<%if($$.types['__cN']){%> mx-click=\"__gq({type:'__cN',inc:1})\" mx-mousedown=\"__dR({type:'__cN',inc:1})\" <%}else{%> disabled<%}%>",attrs:[{n:"mx-click"},{n:"mx-mousedown"},{n:"disabled",b:1,p:1}]},{keys:["time","types"],path:'input[mx-guid="g3"]',attr:"value=\"<%=$$.format($$.time['__gn'])%>\" <%if($$.types['__gn']){%> mx-change=\"__gr({type:'__gn'})\" <%}else{%> disabled<%}%>",attrs:[{n:"value",q:1,p:1},{n:"mx-change"},{n:"disabled",b:1,p:1}]},{keys:["types"],path:'button[mx-guid="g4"]',attr:"<%if($$.types['__gn']){%> mx-click=\"__gq({type:'__gn'})\" mx-mousedown=\"__dR({type:'__gn'})\" <%}else{%> disabled<%}%>",attrs:[{n:"mx-click"},{n:"mx-mousedown"},{n:"disabled",b:1,p:1}]},{keys:["types"],path:'button[mx-guid="g5"]',attr:"<%if($$.types['__gn']){%> mx-click=\"__gq({type:'__gn',inc:1})\" mx-mousedown=\"__dR({type:'__gn',inc:1})\" <%}else{%> disabled<%}%>",attrs:[{n:"mx-click"},{n:"mx-mousedown"},{n:"disabled",b:1,p:1}]},{keys:["time","types"],path:'input[mx-guid="g6"]',attr:"value=\"<%=$$.format($$.time['__go'])%>\" <%if($$.types['__go']){%> mx-change=\"__gr({type:'__go'})\" <%}else{%> disabled<%}%>",attrs:[{n:"value",q:1,p:1},{n:"mx-change"},{n:"disabled",b:1,p:1}]},{keys:["types"],path:'button[mx-guid="g7"]',attr:"<%if($$.types['__go']){%> mx-click=\"__gq({type:'__go'})\" mx-mousedown=\"__dR({type:'__go'})\" <%}else{%> disabled<%}%>",attrs:[{n:"mx-click"},{n:"mx-mousedown"},{n:"disabled",b:1,p:1}]},{keys:["types"],path:'button[mx-guid="g8"]',attr:"<%if($$.types['__go']){%> mx-click=\"__gq({type:'__go',inc:1})\" mx-mousedown=\"__dR({type:'__go',inc:1})\" <%}else{%> disabled<%}%>",attrs:[{n:"mx-click"},{n:"mx-mousedown"},{n:"disabled",b:1,p:1}]}]},init:function(e){var t=s(e.time),_=function(e){e||(e="all");var t={__cN:!0,__gn:!0,__go:!0},_={hour:"__cN",minute:"__gn",second:"__go"};if("all"!=e)for(var i in _)-1===e.indexOf(i)&&delete t[_[i]];return t}(e.type);this.updater.set({format:a,time:t,types:_})},render:function(){this.updater.digest()},val:function(e){var t=this.updater;if(e){var _=s(e);t.digest({time:_})}return t.get("time")},__gp:function(e,t){var _=this.updater.get("time"),i="__cN"==e?23:59;t?_[e]++:_[e]--,_[e]>i?_[e]=0:_[e]<0&&(_[e]=i),this.updater.digest({time:_})},__u:function(){var e=n("#"+this.id),t=this.updater.get("time");e.trigger({type:"change",time:a(t.__cN)+":"+a(t.__gn)+":"+a(t.__go)})},"__gq<click>":function(e){if(!this.__dO){var t=e.params;this.__gp(t.type,t.inc),this.__u()}},"__gr<change>":function(e){e.stopPropagation();var t=e.params.type,_="__cN"==t?23:59,i=e.eventTarget,n=i.value,s=parseInt(n,10),d=this.updater.get("time");s||0===s?(s<0?s=0:s>_&&(s=_),s!==d[t]?(d[t]=s,this.updater.digest({time:d}),this.__u()):i.value=a(s)):i.value=a(d[t])},"__dR<mousedown>":function(e){var t=this,_=e.params;t.__dP=setTimeout(t.wrapAsync(function(){t.__dQ=setInterval(t.wrapAsync(function(){t.__dO=!0,t.__gp(_.type,_.inc)}),50)}),300)},"__dS<keydown>":function(e){if(38==e.keyCode||40==e.keyCode){e.preventDefault();var t=this;t.__gp(e.params.type,38==e.keyCode),clearTimeout(t.__gs),t.__gs=setTimeout(t.wrapAsync(function(){t.__u()}),100)}},"$doc<mouseup>":function(){var e=this;clearTimeout(e.__dP),clearInterval(e.__dQ),setTimeout(e.wrapAsync(function(){e.__dO&&e.__u(),delete e.__dO}),0)}})});