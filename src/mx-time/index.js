define("mx-time/index",["magix","$"],(t,_,e)=>{var n=t("magix"),i=t("$");n.applyStyle("_N","._fx{width:58px;float:left;overflow:hidden}._fy{font-size:30px;height:50px;text-align:center;margin-bottom:10px}._fz{width:28px;height:28px;padding:0}._fA{font-size:27px;float:left;line-height:32px;margin-top:8px;font-weight:bolder;display:inline-block;width:30px;text-align:center}");var a=function(t){if(!t){var _=new Date;t=_.getHours()+":"+_.getMinutes()+":"+_.getSeconds()}var e=t.split(":");if(3!=e.length)throw new Error("bad time:"+t);return{__cW:parseInt(e[0],10)||0,__gu:parseInt(e[1],10)||0,__gv:parseInt(e[2],10)||0}},s=function(t){return t<10?"0"+t:t};e.exports=n.View.extend({tmpl:function(t,_){var e="",n={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},i=/[&<>"'`]/g,a=function(t){return null==t?"":""+t},s=function(t){return"&"+n[t]+";"},o=function(t){return a(t).replace(i,s)};return e+='<div class="_fx"><input class="_ap _fy" value="'+o(_.format(_.time.__cW))+'" ',_.types.__cW?e+=" mx-change=\"__gy({type:'__cW'})\" ":e+=" disabled",e+=' maxlength="2" mx-keydown="__dZ({type:\'__cW\'})" autocomplete="off"><button type="button" class="_an _fz _aa" ',_.types.__cW?e+=" mx-click=\"__gx({type:'__cW'})\" mx-mousedown=\"__dY({type:'__cW'})\" ":e+=" disabled",e+=' tabindex="-1"><i class="__">&#xe6df;</i></button><button type="button" class="_an _fz _ab" ',_.types.__cW?e+=" mx-click=\"__gx({type:'__cW',inc:1})\" mx-mousedown=\"__dY({type:'__cW',inc:1})\" ":e+=" disabled",e+=' tabindex="-1"><i class="__">&#xe661;</i></button></div><span class="_fA">:</span><div class="_fx"><input class="_ap _fy" value="'+o(_.format(_.time.__gu))+'" ',_.types.__gu?e+=" mx-change=\"__gy({type:'__gu'})\" ":e+=" disabled",e+=' maxlength="2" mx-keydown="__dZ({type:\'__gu\'})" autocomplete="off"><button type="button" class="_an _fz _aa" ',_.types.__gu?e+=" mx-click=\"__gx({type:'__gu'})\" mx-mousedown=\"__dY({type:'__gu'})\" ":e+=" disabled",e+=' tabindex="-1"><i class="__">&#xe6df;</i></button><button type="button" class="_an _fz _ab" ',_.types.__gu?e+=" mx-click=\"__gx({type:'__gu',inc:1})\" mx-mousedown=\"__dY({type:'__gu',inc:1})\" ":e+=" disabled",e+=' tabindex="-1"><i class="__">&#xe661;</i></button></div><span class="_fA">:</span><div class="_fx"><input class="_ap _fy" value="'+o(_.format(_.time.__gv))+'" ',_.types.__gv?e+=" mx-change=\"__gy({type:'__gv'})\" ":e+=" disabled",e+=' maxlength="2" mx-keydown="__dZ({type:\'__gv\'})" autocomplete="off"><button type="button" class="_an _fz _aa" ',_.types.__gv?e+=" mx-click=\"__gx({type:'__gv'})\" mx-mousedown=\"__dY({type:'__gv'})\" ":e+=" disabled",e+=' tabindex="-1"><i class="__">&#xe6df;</i></button><button type="button" class="_an _fz _ab" ',_.types.__gv?e+=" mx-click=\"__gx({type:'__gv',inc:1})\" mx-mousedown=\"__dY({type:'__gv',inc:1})\" ":e+=" disabled",e+=' tabindex="-1"><i class="__">&#xe661;</i></button></div>'},init:function(t){var _=a(t.time),e=function(t){t||(t="all");var _={__cW:!0,__gu:!0,__gv:!0},e={hour:"__cW",minute:"__gu",second:"__gv"};if("all"!=t)for(var n in e)-1===t.indexOf(n)&&delete _[e[n]];return _}(t.types);this.updater.set({format:s,time:_,types:e})},render:function(){this.updater.digest()},val:function(t){var _=this.updater;if(t){var e=a(t);_.digest({time:e})}return _.get("time")},__gw:function(t,_){var e=this.updater.get("time"),n="__cW"==t?23:59;_?e[t]++:e[t]--,e[t]>n?e[t]=0:e[t]<0&&(e[t]=n),this.updater.digest({time:e})},__w:function(){var t=i("#"+this.id),_=this.updater.get("time");t.trigger({type:"change",time:s(_.__cW)+":"+s(_.__gu)+":"+s(_.__gv)})},"__gx<click>":function(t){if(!this.__dV){var _=t.params;this.__gw(_.type,_.inc),this.__w()}},"__gy<change>":function(t){t.stopPropagation();var _=t.params.type,e="__cW"==_?23:59,n=t.eventTarget,i=n.value,a=parseInt(i,10),o=this.updater.get("time");a||0===a?(a<0?a=0:a>e&&(a=e),a!==o[_]?(o[_]=a,this.updater.digest({time:o}),this.__w()):n.value=s(a)):n.value=s(o[_])},"__dY<mousedown>":function(t){var _=this,e=t.params;_.__dW=setTimeout(_.wrapAsync(function(){_.__dX=setInterval(_.wrapAsync(function(){_.__dV=!0,_.__gw(e.type,e.inc)}),50)}),300)},"__dZ<keydown>":function(t){if(38==t.keyCode||40==t.keyCode){t.preventDefault();var _=this;_.__gw(t.params.type,38==t.keyCode),clearTimeout(_.__gz),_.__gz=setTimeout(_.wrapAsync(function(){_.__w()}),100)}},"$doc<mouseup>":function(){var t=this;clearTimeout(t.__dW),clearInterval(t.__dX),setTimeout(t.wrapAsync(function(){t.__dV&&t.__w(),delete t.__dV}),0)}})});