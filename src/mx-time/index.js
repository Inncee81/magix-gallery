define("mx-time/index",["magix","$"],(t,_,e)=>{var n=t("magix"),a=t("$");n.applyStyle("_N","._fx{width:58px;float:left;overflow:hidden}._fy{font-size:30px;height:50px;text-align:center;margin-bottom:10px}._fz{width:28px;height:28px;padding:0}._fA{font-size:27px;float:left;line-height:32px;margin-top:8px;font-weight:bolder;display:inline-block;width:30px;text-align:center}");var i=function(t){if(!t){var _=new Date;t=_.getHours()+":"+_.getMinutes()+":"+_.getSeconds()}var e=t.split(":");if(3!=e.length)throw new Error("bad time:"+t);return{__cX:parseInt(e[0],10)||0,__gv:parseInt(e[1],10)||0,__gw:parseInt(e[2],10)||0}},s=function(t){return t<10?"0"+t:t};e.exports=n.View.extend({tmpl:function(t,_){_=_||"";var e="",n={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},a=/[&<>"'`]/g,i=function(t){return null==t?"":""+t},s=function(t){return"&"+n[t]+";"},o=function(t){return i(t).replace(a,s)};return e+='<div mxa="_;:_" class="_fx"><input class="_ap _fy" value="'+o(t.format(t.time.__cX))+'" ',t.types.__cX?e+=' mx-change="'+_+"__gy({type:'__cX'})\" ":e+=" disabled",e+=' maxlength="2" mx-keydown="'+_+'__e_({type:\'__cX\'})" autocomplete="off"/><button type="button" class="_an _fz _aa" ',t.types.__cX?e+=' mx-click="'+_+"___({type:'__cX'})\" mx-mousedown=\""+_+"__dZ({type:'__cX'})\" ":e+=" disabled",e+=' tabindex="-1"><i mxs="_;:_" class="__">&#xe6df;</i></button><button type="button" class="_an _fz _ab" ',t.types.__cX?e+=' mx-click="'+_+"___({type:'__cX',inc:1})\" mx-mousedown=\""+_+"__dZ({type:'__cX',inc:1})\" ":e+=" disabled",e+=' tabindex="-1"><i mxs="_;:a" class="__">&#xe661;</i></button></div><span mxs="_;:_" class="_fA">:</span><div mxa="_;:_" class="_fx"><input class="_ap _fy" value="'+o(t.format(t.time.__gv))+'" ',t.types.__gv?e+=' mx-change="'+_+"__gy({type:'__gv'})\" ":e+=" disabled",e+=' maxlength="2" mx-keydown="'+_+'__e_({type:\'__gv\'})" autocomplete="off"/><button type="button" class="_an _fz _aa" ',t.types.__gv?e+=' mx-click="'+_+"___({type:'__gv'})\" mx-mousedown=\""+_+"__dZ({type:'__gv'})\" ":e+=" disabled",e+=' tabindex="-1"><i mxs="_;:_" class="__">&#xe6df;</i></button><button type="button" class="_an _fz _ab" ',t.types.__gv?e+=' mx-click="'+_+"___({type:'__gv',inc:1})\" mx-mousedown=\""+_+"__dZ({type:'__gv',inc:1})\" ":e+=" disabled",e+=' tabindex="-1"><i mxs="_;:a" class="__">&#xe661;</i></button></div><span mxs="_;:_" class="_fA">:</span><div mxa="_;:_" class="_fx"><input class="_ap _fy" value="'+o(t.format(t.time.__gw))+'" ',t.types.__gw?e+=' mx-change="'+_+"__gy({type:'__gw'})\" ":e+=" disabled",e+=' maxlength="2" mx-keydown="'+_+'__e_({type:\'__gw\'})" autocomplete="off"/><button type="button" class="_an _fz _aa" ',t.types.__gw?e+=' mx-click="'+_+"___({type:'__gw'})\" mx-mousedown=\""+_+"__dZ({type:'__gw'})\" ":e+=" disabled",e+=' tabindex="-1"><i mxs="_;:_" class="__">&#xe6df;</i></button><button type="button" class="_an _fz _ab" ',t.types.__gw?e+=' mx-click="'+_+"___({type:'__gw',inc:1})\" mx-mousedown=\""+_+"__dZ({type:'__gw',inc:1})\" ":e+=" disabled",e+=' tabindex="-1"><i mxs="_;:a" class="__">&#xe661;</i></button></div>'},init:function(t){this.updater.snapshot(),this.assign(t)},assign:function(t){var _=this.updater.altered(),e=i(t.time),n=function(t){t||(t="all");var _={__cX:!0,__gv:!0,__gw:!0},e={hour:"__cX",minute:"__gv",second:"__gw"};if("all"!=t)for(var n in e)-1===t.indexOf(n)&&delete _[e[n]];return _}(t.types);return this.updater.set({format:s,time:e,types:n}),_||(_=this.updater.altered()),_&&this.updater.snapshot(),_},render:function(){this.updater.digest()},val:function(t){var _=this.updater;if(t){var e=i(t);_.digest({time:e})}return _.get("time")},__gx:function(t,_){var e=this.updater.get("time"),n="__cX"==t?23:59;_?e[t]++:e[t]--,e[t]>n?e[t]=0:e[t]<0&&(e[t]=n),this.updater.digest({time:e})},__x:function(){var t=a("#"+this.id),_=this.updater.get("time");t.trigger({type:"change",time:s(_.__cX)+":"+s(_.__gv)+":"+s(_.__gw)})},"___<click>":function(t){if(!this.__dW){var _=t.params;this.__gx(_.type,_.inc),this.__x()}},"__gy<change>":function(t){t.stopPropagation();var _=t.params.type,e="__cX"==_?23:59,n=t.eventTarget,a=n.value,i=parseInt(a,10),o=this.updater.get("time");i||0===i?(i<0?i=0:i>e&&(i=e),i!==o[_]?(o[_]=i,this.updater.digest({time:o}),this.__x()):n.value=s(i)):n.value=s(o[_])},"__dZ<mousedown>":function(t){var _=this,e=t.params;_.__dX=setTimeout(_.wrapAsync(function(){_.__dY=setInterval(_.wrapAsync(function(){_.__dW=!0,_.__gx(e.type,e.inc)}),50)}),300)},"__e_<keydown>":function(t){if(38==t.keyCode||40==t.keyCode){t.preventDefault();var _=this;_.__gx(t.params.type,38==t.keyCode),clearTimeout(_.__gz),_.__gz=setTimeout(_.wrapAsync(function(){_.__x()}),100)}},"$doc<mouseup>":function(){var t=this;clearTimeout(t.__dX),clearInterval(t.__dY),setTimeout(t.wrapAsync(function(){t.__dW&&t.__x(),delete t.__dW}),0)}})});