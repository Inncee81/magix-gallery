define("mx-time/index",["magix","$"],(t,e,_)=>{var i=t("magix"),a=t("$");i.applyStyle("_M","._fq{width:58px;float:left;overflow:hidden}._fr{font-size:30px;height:50px;text-align:center;margin-bottom:10px}._fs{width:28px;height:28px;padding:0}._ft{font-size:27px;float:left;line-height:32px;margin-top:8px;font-weight:bolder;display:inline-block;width:30px;text-align:center}");var s=function(t){if(!t){var e=new Date;t=e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()}var _=t.split(":");if(3!=_.length)throw new Error("bad time:"+t);return{__cx:parseInt(_[0],10)||0,__fY:parseInt(_[1],10)||0,__fZ:parseInt(_[2],10)||0}},n=function(t){return t<10?"0"+t:t};_.exports=i.View.extend({tmpl:{html:'<div class="_fq"><input mx-guid="g0" class="_ap _fr" value="<%=$$.format($$.time[\'__cx\'])%>" <%if($$.types[\'__cx\']){%> mx-change="__gb({type:\'__cx\'})" <%}else{%> disabled<%}%> maxlength="2" mx-keydown="__dD({type:\'__cx\'})" autocomplete="off"><button mx-guid="g1" type="button" class="_an _fs _aa" <%if($$.types[\'__cx\']){%> mx-click="__ga({type:\'__cx\'})" mx-mousedown="__dC({type:\'__cx\'})" <%}else{%> disabled<%}%> tabindex="-1"><i class="__">&#xe6df;</i></button><button mx-guid="g2" type="button" class="_an _fs _ab" <%if($$.types[\'__cx\']){%> mx-click="__ga({type:\'__cx\',inc:1})" mx-mousedown="__dC({type:\'__cx\',inc:1})" <%}else{%> disabled<%}%> tabindex="-1"><i class="__">&#xe661;</i></button></div><span class="_ft">:</span><div class="_fq"><input mx-guid="g3" class="_ap _fr" value="<%=$$.format($$.time[\'__fY\'])%>" <%if($$.types[\'__fY\']){%> mx-change="__gb({type:\'__fY\'})" <%}else{%> disabled<%}%> maxlength="2" mx-keydown="__dD({type:\'__fY\'})" autocomplete="off"><button mx-guid="g4" type="button" class="_an _fs _aa" <%if($$.types[\'__fY\']){%> mx-click="__ga({type:\'__fY\'})" mx-mousedown="__dC({type:\'__fY\'})" <%}else{%> disabled<%}%> tabindex="-1"><i class="__">&#xe6df;</i></button><button mx-guid="g5" type="button" class="_an _fs _ab" <%if($$.types[\'__fY\']){%> mx-click="__ga({type:\'__fY\',inc:1})" mx-mousedown="__dC({type:\'__fY\',inc:1})" <%}else{%> disabled<%}%> tabindex="-1"><i class="__">&#xe661;</i></button></div><span class="_ft">:</span><div class="_fq"><input mx-guid="g6" class="_ap _fr" value="<%=$$.format($$.time[\'__fZ\'])%>" <%if($$.types[\'__fZ\']){%> mx-change="__gb({type:\'__fZ\'})" <%}else{%> disabled<%}%> maxlength="2" mx-keydown="__dD({type:\'__fZ\'})" autocomplete="off"><button mx-guid="g7" type="button" class="_an _fs _aa" <%if($$.types[\'__fZ\']){%> mx-click="__ga({type:\'__fZ\'})" mx-mousedown="__dC({type:\'__fZ\'})" <%}else{%> disabled<%}%> tabindex="-1"><i class="__">&#xe6df;</i></button><button mx-guid="g8" type="button" class="_an _fs _ab" <%if($$.types[\'__fZ\']){%> mx-click="__ga({type:\'__fZ\',inc:1})" mx-mousedown="__dC({type:\'__fZ\',inc:1})" <%}else{%> disabled<%}%> tabindex="-1"><i class="__">&#xe661;</i></button></div>',subs:[{keys:["time","types"],path:'input[mx-guid="g0"]',attr:"value=\"<%=$$.format($$.time['__cx'])%>\" <%if($$.types['__cx']){%> mx-change=\"__gb({type:'__cx'})\" <%}else{%> disabled<%}%>",attrs:[{n:"value",q:1,p:1},{n:"mx-change"},{n:"disabled",b:1,p:1}]},{keys:["types"],path:'button[mx-guid="g1"]',attr:"<%if($$.types['__cx']){%> mx-click=\"__ga({type:'__cx'})\" mx-mousedown=\"__dC({type:'__cx'})\" <%}else{%> disabled<%}%>",attrs:[{n:"mx-click"},{n:"mx-mousedown"},{n:"disabled",b:1,p:1}]},{keys:["types"],path:'button[mx-guid="g2"]',attr:"<%if($$.types['__cx']){%> mx-click=\"__ga({type:'__cx',inc:1})\" mx-mousedown=\"__dC({type:'__cx',inc:1})\" <%}else{%> disabled<%}%>",attrs:[{n:"mx-click"},{n:"mx-mousedown"},{n:"disabled",b:1,p:1}]},{keys:["time","types"],path:'input[mx-guid="g3"]',attr:"value=\"<%=$$.format($$.time['__fY'])%>\" <%if($$.types['__fY']){%> mx-change=\"__gb({type:'__fY'})\" <%}else{%> disabled<%}%>",attrs:[{n:"value",q:1,p:1},{n:"mx-change"},{n:"disabled",b:1,p:1}]},{keys:["types"],path:'button[mx-guid="g4"]',attr:"<%if($$.types['__fY']){%> mx-click=\"__ga({type:'__fY'})\" mx-mousedown=\"__dC({type:'__fY'})\" <%}else{%> disabled<%}%>",attrs:[{n:"mx-click"},{n:"mx-mousedown"},{n:"disabled",b:1,p:1}]},{keys:["types"],path:'button[mx-guid="g5"]',attr:"<%if($$.types['__fY']){%> mx-click=\"__ga({type:'__fY',inc:1})\" mx-mousedown=\"__dC({type:'__fY',inc:1})\" <%}else{%> disabled<%}%>",attrs:[{n:"mx-click"},{n:"mx-mousedown"},{n:"disabled",b:1,p:1}]},{keys:["time","types"],path:'input[mx-guid="g6"]',attr:"value=\"<%=$$.format($$.time['__fZ'])%>\" <%if($$.types['__fZ']){%> mx-change=\"__gb({type:'__fZ'})\" <%}else{%> disabled<%}%>",attrs:[{n:"value",q:1,p:1},{n:"mx-change"},{n:"disabled",b:1,p:1}]},{keys:["types"],path:'button[mx-guid="g7"]',attr:"<%if($$.types['__fZ']){%> mx-click=\"__ga({type:'__fZ'})\" mx-mousedown=\"__dC({type:'__fZ'})\" <%}else{%> disabled<%}%>",attrs:[{n:"mx-click"},{n:"mx-mousedown"},{n:"disabled",b:1,p:1}]},{keys:["types"],path:'button[mx-guid="g8"]',attr:"<%if($$.types['__fZ']){%> mx-click=\"__ga({type:'__fZ',inc:1})\" mx-mousedown=\"__dC({type:'__fZ',inc:1})\" <%}else{%> disabled<%}%>",attrs:[{n:"mx-click"},{n:"mx-mousedown"},{n:"disabled",b:1,p:1}]}]},init:function(t){var e=s(t.time),_=function(t){t||(t="all");var e={__cx:!0,__fY:!0,__fZ:!0},_={hour:"__cx",minute:"__fY",second:"__fZ"};if("all"!=t)for(var i in _)-1===t.indexOf(i)&&delete e[_[i]];return e}(t.type);this.updater.set({format:n,time:e,types:_})},render:function(){this.updater.digest()},val:function(t){var e=this.updater;if(t){var _=s(t);e.digest({time:_})}return e.get("time")},__g_:function(t,e){var _=this.updater.get("time"),i="__cx"==t?23:59;e?_[t]++:_[t]--,_[t]>i?_[t]=0:_[t]<0&&(_[t]=i),this.updater.digest({time:_})},__u:function(){var t=a("#"+this.id),e=this.updater.get("time");t.trigger({type:"change",time:n(e.__cx)+":"+n(e.__fY)+":"+n(e.__fZ)})},"__ga<click>":function(t){if(!this.__dz){var e=t.params;this.__g_(e.type,e.inc),this.__u()}},"__gb<change>":function(t){t.stopPropagation();var e=t.params.type,_="__cx"==e?23:59,i=t.eventTarget,a=i.value,s=parseInt(a,10),d=this.updater.get("time");s||0===s?(s<0?s=0:s>_&&(s=_),s!==d[e]?(d[e]=s,this.updater.digest({time:d}),this.__u()):i.value=n(s)):i.value=n(d[e])},"__dC<mousedown>":function(t){var e=this,_=t.params;e.__dA=setTimeout(e.wrapAsync(function(){e.__dB=setInterval(e.wrapAsync(function(){e.__dz=!0,e.__g_(_.type,_.inc)}),50)}),300)},"__dD<keydown>":function(t){if(38==t.keyCode||40==t.keyCode){t.preventDefault();var e=this;e.__g_(t.params.type,38==t.keyCode),clearTimeout(e.__gc),e.__gc=setTimeout(e.wrapAsync(function(){e.__u()}),100)}},"$doc<mouseup>":function(){var t=this;clearTimeout(t.__dA),clearInterval(t.__dB),setTimeout(t.wrapAsync(function(){t.__dz&&t.__u(),delete t.__dz}),0)}})});