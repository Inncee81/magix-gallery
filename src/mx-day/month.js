define("mx-day/month",["magix","$","mx-dragselect/index"],(e,_,t)=>{e("mx-dragselect/index");var a=e("magix");a.applyStyle("_m","._c_{padding:0;height:38.4px;overflow:hidden;cursor:default;border:none;border-right:1px solid #e6e6e6}._ca{border-right:none}._cb{background-color:#f37b63}._cc{opacity:0}._cd{cursor:not-allowed;background-color:#fbfbfb}");var i=e("$"),s={MON:1,TUE:2,WED:3,THU:4,FRI:5,SAT:6,SUN:0},r={1:"MON",2:"TUE",3:"WED",4:"THU",5:"FRI",6:"SAT",0:"SUN"},d=function(e,_){e=(e=e||"").slice(0,_);for(var t=0;t<_;t++)e.length<=t&&(e+="0");return e};t.exports=a.View.extend({tmpl:{html:'<table class="_W _X"><tbody><tr mx-change="__f()" mx-dragbegin="__bd()" mx-dragfinish="__be()" mx-view="mx-dragselect/index?selector=td%5Benable%3Dtrue%5D"><%for(var _=0;_<31;_++){%><td data-day="<%=_%>" enable="<%=_<$$.days?true:false%>" class="_c_<%if($$.selected.charAt(_)===\'1\'){%> _cb<%}if(_==30){%> _ca<%}if(_>=$$.days){%> _cd<%}%>"><span class="_cc"><%=(\'0\'+(_+1)).slice(-2)%></span></td><%}%></tr></tbody></table>'},init:function(e){this.assign(e),this.__i=i("#"+this.id)},assign:function(e){var _,t,a=(_=e.year,t=e.month,32-new Date(_,t,32).getDate());return this.__aX=a,this.__aY=e.year,this.__aZ=e.month,this.__b_=d(e.selected,a),!0},__q:function(e){if(e){var _=this.__aX;this.__b_=d(e,_),this.render()}},__aS:function(e,_){for(var t=this.__b_,a=this.__aY,i=this.__aZ,r=this.__aX,d=s[e],n=1;n<=r;n++){new Date(a,i,n).getDay()===d&&(t=t.slice(0,n-1)+(_?"1":"0")+t.slice(n))}this.__b_=t,this.render(!0)},render:function(e){this.updater.digest({days:this.__aX,selected:this.__b_}),this.__ba=function(e){for(var _={},t=e.length;t--;)"1"===e.charAt(t)&&(_[t]=1);return _}(this.__b_),this.__i.trigger({type:"sync",ignoreSync:e,days:this.__b_})},__aP:function(){for(var e=this.__b_,_=this.__aY,t=this.__aZ,i=this.__aX,s={},d=1;d<=i;d++)if("1"!=e.charAt(d-1)){var n=new Date(_,t,d);s[r[n.getDay()]]=1}return a.keys(s)},"__f<change,click>":function(e){e.stopPropagation();var _=i(e.node),t=this.updater.get(),s=_.data("day"),r=this.__ba,d=this.__bb;"add"==e.action?r[s]?(_.removeClass("_cb"),delete r[s],"drag"==e.mode&&(d[s]=1)):(_.addClass("_cb"),r[s]=1,"drag"==e.mode&&delete d[s]):"remove"==e.action&&(d[s]?(_.addClass("_cb"),r[s]=1,"drag"==e.mode&&delete d[s]):(_.removeClass("_cb"),delete r[s],"drag"==e.mode&&(d[s]=1)));for(var n=this.__aX,c="",o=0;o<n;o++)a.has(r,o)?c+="1":c+="0";t.selected=this.__b_=c,"click"==e.mode&&this.__i.trigger({type:"change",days:c})},"__bd<dragbegin>":function(e){e.stopPropagation();this.__bc=this.__b_,this.__bb={}},"__be<dragfinish>":function(e){e.stopPropagation();this.__b_!=this.__bc&&this.__i.trigger({type:"change",days:this.__b_}),delete this.__bb}})});