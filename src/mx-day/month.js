define("mx-day/month",["magix","$","mx-dragselect/index"],(t,e,_)=>{t("mx-dragselect/index");var a=t("magix");a.applyStyle("_l","._bU{padding:0;height:38.4px;overflow:hidden;cursor:default;border:none;border-right:1px solid #e6e6e6}._bV{border-right:none}._bW{background-color:#f37b63}._bX{opacity:0}._bY{cursor:not-allowed;background-color:#fbfbfb}");var i=t("$"),r={MON:1,TUE:2,WED:3,THU:4,FRI:5,SAT:6,SUN:0},s={1:"MON",2:"TUE",3:"WED",4:"THU",5:"FRI",6:"SAT",0:"SUN"},n=function(t,e){t=(t=t||"").slice(0,e);for(var _=0;_<e;_++)t.length<=_&&(t+="0");return t};_.exports=a.View.extend({tmpl:function(t){var e="",_={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},a=/[&<>"'`]/g,i=function(t){return null==t?"":""+t},r=function(t){return"&"+_[t]+";"},s=function(t){return i(t).replace(a,r)};e+='<table class="_W _X"><tbody><tr mx-change="__h()" mx-dragbegin="__bf()" mx-dragfinish="__bg()" mx-view="mx-dragselect/index?selector=td%5Benable%3Dtrue%5D">';for(var n=0;n<31;n++)e+='<td data-day="'+s(n)+'" enable="'+s(n<t.days)+'" class="_bU',"1"===t.selected.charAt(n)&&(e+=" _bW"),30==n&&(e+=" _bV"),n>=t.days&&(e+=" _bY"),e+='"><span class="_bX">'+s(("0"+(n+1)).slice(-2))+"</span></td>";return e+="</tr></tbody></table>"},init:function(t){this.__k=i("#"+this.id),this.assign(t)},assign:function(t){var e,_,a=(e=t.year,_=t.month,32-new Date(e,_,32).getDate());return this.__aZ=a,this.__b_=t.year,this.__ba=t.month,this.__bb=n(t.selected,a),this.__k.find("td").removeClass("_bW"),!0},__s:function(t){if(t){var e=this.__aZ;this.__bb=n(t,e),this.render()}},__aU:function(t,e){for(var _=this.__bb,a=this.__b_,i=this.__ba,s=this.__aZ,n=r[t],d=1;d<=s;d++){new Date(a,i,d).getDay()===n&&(_=_.slice(0,d-1)+(e?"1":"0")+_.slice(d))}this.__bb=_,this.render(!0)},render:function(t){this.updater.digest({days:this.__aZ,selected:this.__bb}),this.__bc=function(t){for(var e={},_=t.length;_--;)"1"===t.charAt(_)&&(e[_]=1);return e}(this.__bb),this.__k.trigger({type:"sync",ignoreSync:t,days:this.__bb})},__aR:function(){for(var t=this.__bb,e=this.__b_,_=this.__ba,i=this.__aZ,r={},n=1;n<=i;n++)if("1"!=t.charAt(n-1)){var d=new Date(e,_,n);r[s[d.getDay()]]=1}return a.keys(r)},"__h<change,click>":function(t){t.stopPropagation();var e=i(t.node),_=this.updater.get(),r=e.data("day"),s=this.__bc,n=this.__bd;"add"==t.action?s[r]?(e.removeClass("_bW"),delete s[r],"drag"==t.mode&&(n[r]=1)):(e.addClass("_bW"),s[r]=1,"drag"==t.mode&&delete n[r]):"remove"==t.action&&(n[r]?(e.addClass("_bW"),s[r]=1,"drag"==t.mode&&delete n[r]):(e.removeClass("_bW"),delete s[r],"drag"==t.mode&&(n[r]=1)));for(var d=this.__aZ,b="",o=0;o<d;o++)a.has(s,o)?b+="1":b+="0";_.selected=this.__bb=b,"click"==t.mode&&this.__k.trigger({type:"change",days:b})},"__bf<dragbegin>":function(t){t.stopPropagation();this.__be=this.__bb,this.__bd={}},"__bg<dragfinish>":function(t){t.stopPropagation();this.__bb!=this.__be&&this.__k.trigger({type:"change",days:this.__bb}),delete this.__bd}})});