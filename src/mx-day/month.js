define("mx-day/month",["magix","$","mx-dragselect/index"],(t,e,a)=>{t("mx-dragselect/index");var _=t("magix");_.applyStyle("_l","._bU{padding:0;height:38.4px;overflow:hidden;cursor:default;border:none;border-right:1px solid #e6e6e6}._bV{border-right:none}._bW{background-color:#f37b63}._bX{opacity:0}._bY{cursor:not-allowed;background-color:#fbfbfb}");var i=t("$"),r={MON:1,TUE:2,WED:3,THU:4,FRI:5,SAT:6,SUN:0},s={1:"MON",2:"TUE",3:"WED",4:"THU",5:"FRI",6:"SAT",0:"SUN"},n=function(t,e){t=(t=t||"").slice(0,e);for(var a=0;a<e;a++)t.length<=a&&(t+="0");return t};a.exports=_.View.extend({tmpl:function(t,e){var a="",_={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},i=/[&<>"'`]/g,r=function(t){return null==t?"":""+t},s=function(t){return"&"+_[t]+";"},n=function(t){return r(t).replace(i,s)};a+='<table class="_W _X"><tbody><tr mx-change="__g()" mx-dragbegin="__be()" mx-dragfinish="__bf()" mx-view="mx-dragselect/index?selector=td%5Benable%3Dtrue%5D">';for(var d=0;d<31;d++)a+='<td data-day="'+n(d)+'" enable="'+n(d<e.days)+'" class="_bU',"1"===e.selected.charAt(d)&&(a+=" _bW"),30==d&&(a+=" _bV"),d>=e.days&&(a+=" _bY"),a+='"><span class="_bX">'+n(("0"+(d+1)).slice(-2))+"</span></td>";return a+="</tr></tbody></table>"},init:function(t){this.assign(t),this.__j=i("#"+this.id)},assign:function(t){var e,a,_=(e=t.year,a=t.month,32-new Date(e,a,32).getDate());return this.__aY=_,this.__aZ=t.year,this.__b_=t.month,this.__ba=n(t.selected,_),!0},__r:function(t){if(t){var e=this.__aY;this.__ba=n(t,e),this.render()}},__aT:function(t,e){for(var a=this.__ba,_=this.__aZ,i=this.__b_,s=this.__aY,n=r[t],d=1;d<=s;d++){new Date(_,i,d).getDay()===n&&(a=a.slice(0,d-1)+(e?"1":"0")+a.slice(d))}this.__ba=a,this.render(!0)},render:function(t){this.updater.digest({days:this.__aY,selected:this.__ba}),this.__bb=function(t){for(var e={},a=t.length;a--;)"1"===t.charAt(a)&&(e[a]=1);return e}(this.__ba),this.__j.trigger({type:"sync",ignoreSync:t,days:this.__ba})},__aQ:function(){for(var t=this.__ba,e=this.__aZ,a=this.__b_,i=this.__aY,r={},n=1;n<=i;n++)if("1"!=t.charAt(n-1)){var d=new Date(e,a,n);r[s[d.getDay()]]=1}return _.keys(r)},"__g<change,click>":function(t){t.stopPropagation();var e=i(t.node),a=this.updater.get(),r=e.data("day"),s=this.__bb,n=this.__bc;"add"==t.action?s[r]?(e.removeClass("_bW"),delete s[r],"drag"==t.mode&&(n[r]=1)):(e.addClass("_bW"),s[r]=1,"drag"==t.mode&&delete n[r]):"remove"==t.action&&(n[r]?(e.addClass("_bW"),s[r]=1,"drag"==t.mode&&delete n[r]):(e.removeClass("_bW"),delete s[r],"drag"==t.mode&&(n[r]=1)));for(var d=this.__aY,o="",h=0;h<d;h++)_.has(s,h)?o+="1":o+="0";a.selected=this.__ba=o,"click"==t.mode&&this.__j.trigger({type:"change",days:o})},"__be<dragbegin>":function(t){t.stopPropagation();this.__bd=this.__ba,this.__bc={}},"__bf<dragfinish>":function(t){t.stopPropagation();this.__ba!=this.__bd&&this.__j.trigger({type:"change",days:this.__ba}),delete this.__bc}})});