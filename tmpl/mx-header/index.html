<div class="header {{if dark}} dark-header {{/if}}" style="height: {{=height}}px;">
    {{if links}}
    <div class="others">
        <div class="others-inner" {{if width}} style="max-width: {{=width}}px;" {{/if}}>
            <div class="item item-mama">
                <a class="title-link" href="//www.alimama.com" target="_blank" rel="noopener noreferrer" {{if spm}} data-spm-click="{{=spm}}mmh" {{/if}}>阿里妈妈首页</a>
            </div>
            {{each list as item}}
            <div class="item">
                <mx-popover class="title-link"
                    width="144"
                    view="@./products"
                    data="{{@item.seconds}}"
                    mx-focusin="enter()"
                    mx-focusout="out()">
                    {{=item.text}}<i class="title-arrow mc-iconfont">&#xe692;</i>
                </mx-popover>
            </div>
            {{/each}}
            {{if login}}
            <div class="item">
                {{if user}}
                <span class="title-text">你好，{{=user}}，</span>
                <a class="color-brand" href="{{=logoutUrl}}" {{if spm}} data-spm-click="{{=spm}}lgo" {{/if}}>退出</a>
                {{else}}
                <span class="title-text">亲，请</span>
                <a class="color-brand" href="javascript:;" mx-click="showLogin()" {{if spm}} data-spm-click="{{=spm}}lgi" {{/if}}>登录</a>
                {{/if}}
            </div>
            {{/if}}
        </div>
    </div>
    {{/if}}
    <div class="front {{if fixed}} fixed {{/if}}" style="{{=styles}}">
        <div class="front-inner clearfix" {{if width}} style="max-width: {{=width}}px;" {{/if}}>
            <div class="front-item logo">
                <a href="javascript:;" 
                    {{if navs[0][linkKey]}} href="{{=navs[0][linkKey]}}" target="_blank" rel="noopener noreferrer" {{else}} href="javascript:;" mx-click="to({nav:'{{@navs[0]}}'})" {{/if}}
                    {{if spm}} data-spm-click="{{=spm}}logo" {{/if}}>
                    <img src="{{=logo}}"/>
                </a>
            </div>
            {{if devInfo.pc}}
                {{each navs as nav navIndex}}
                <div class="front-item nav {{if (parent == nav[valueKey])}} nav-cur {{/if}} {{if nav.hover}} nav-hover {{/if}}"
                    mx-mouseover="showSubs({navIndex:{{=navIndex}}})"
                    mx-mouseout="hideSubs({navIndex:{{=navIndex}}})">
                    <a data-nav="{{=nav[valueKey]}}" class="nav-inner" 
                        {{if nav[linkKey]}} href="{{=nav[linkKey]}}" target="_blank" rel="noopener noreferrer" {{else}} href="javascript:;" mx-click="to({nav:'{{@nav}}'})" {{/if}}
                        {{if spm}} data-spm-click="{{=spm}}{{=nav[valueKey]}}" {{/if}}>{{=nav[textKey]}}</a>
                    {{if nav.tag}}<mx-effects.icon class="ml5" {{if nav.tagColor}} color="{{=nav.tagColor}}" {{else}} type="error" {{/if}} content="{{=nav.tag}}"/>{{/if}}
                    {{if nav.groupInfos && nav.groupInfos.list && nav.groupInfos.list.length}}
                    <i class="nav-arrow mc-iconfont">&#xe692;</i>
                    <div class="popover bottom-center mx-shadow {{if nav.groupInfos.showThird}} nav-groups {{else}} nav-subs {{/if}}"
                        mx-mouseover="enterSubs({navIndex:{{=navIndex}}})"
                        mx-mouseout="hideSubs({navIndex:{{=navIndex}}})">
                        {{if nav.groupInfos.showThird}}
                            {{each nav.groupInfos.list as group}}
                            <div class="nav-group-title">{{!group.title}}</div>
                            <div class="clearfix">
                                {{each group.subs as sub}}
                                <div class="nav-group-item">
                                    <a class="nav-sub {{if (child == sub[valueKey])}} nav-sub-cur {{/if}}" 
                                        data-nav="{{=sub[valueKey]}}" 
                                        {{if sub[linkKey]}} href="{{=sub[linkKey]}}" target="_blank" rel="noopener noreferrer" {{else}} mx-click="to({nav:'{{@nav}}',sub:'{{@sub}}'})" href="javascript:;" {{/if}}
                                        {{if spm}} data-spm-click="{{=spm}}{{=sub[valueKey]}}" {{/if}}>{{=sub[textKey]}}</a>
                                </div>
                                {{/each}}
                            </div>
                            {{/each}}
                        {{else}}
                            {{each nav.groupInfos.list as group}}
                                {{each group.subs as sub}}
                                <a class="nav-sub {{if (child == sub[valueKey])}} nav-sub-cur {{/if}}" 
                                    data-nav="{{=sub[valueKey]}}" 
                                    {{if sub[linkKey]}} href="{{=sub[linkKey]}}" target="_blank" rel="noopener noreferrer" {{else}} mx-click="to({nav:'{{@nav}}',sub:'{{@sub}}'})" href="javascript:;" {{/if}}
                                    {{if spm}} data-spm-click="{{=spm}}{{=sub[valueKey]}}" {{/if}}>{{=sub[textKey]}}</a>
                                {{/each}}
                            {{/each}}
                        {{/if}}
                    </div>
                    {{/if}}
                </div>
                {{/each}}
            {{/if}}

            {{if rightView}}
            <div class="front-right" style="{{if (devInfo.pad || devInfo.phone) && bottomLinks}} right: 24px; {{/if}} opacity: {{=(rightCeilingShow ? (fixed ? 1 : 0) : 1)}}">
                <div class="right-inner" mx-view="{{=rightView}}?data={{@rightViewData}}"></div>
            </div>
            {{/if}}

            {{if (devInfo.pad || devInfo.phone) && bottomLinks}}
            <div class="front-right">
                <div class="right-inner">
                    <i class="mc-iconfont drawer-icon" mx-click="showDrawer()">&#xe61b;</i>
                </div>
            </div>
            {{/if}}
        </div>
    </div>
</div>

<!-- 移动端底部导航，最多6个，显示后两个字 -->
{{if ((devInfo.pad || devInfo.phone) && (bottomNavs.length > 0))}}
<div class="bottoms clearfix {{if bottomNavShow}} bottoms-show {{/if}}">
    {{each bottomNavs as nav navIndex}}
    <a class="bottom-nav {{if (parent == nav[valueKey])}} bottom-cur {{/if}}" style="width: {{=(100 / bottomNavs.length)}}%;"
        {{if nav[linkKey]}} href="{{=nav[linkKey]}}" target="_blank" rel="noopener noreferrer" {{else}} href="javascript:;" mx-click="to({nav:'{{@nav}}'})" {{/if}}>
        <span class="bottom-icon">{{!nav.icon}}</span><br/>
        <span class="bottom-text">{{=nav.bottomText}}</span>
    </a>
    {{/each}}
</div>
{{/if}}