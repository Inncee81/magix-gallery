define("mx-pagination/index",["magix","$","../mx-util/view","../mx-medusa/util","mx-dropdown/index"],(l,a,e)=>{l("mx-dropdown/index"),a.__esModule=!0;var i=l("magix"),s=l("$"),_=l("../mx-util/view"),r=l("../mx-medusa/util"),t=[10,20,30,40];i.default.applyStyle("_zs_galleryaj","._zs_galleryiR{line-height:0;color:#666}._zs_galleryiR ._zs_galleryiS{float:left;line-height:var(--input-small-height)}._zs_galleryiR ._zs_galleryiS ._zs_galleryiT{min-width:66px}._zs_galleryiR ._zs_galleryiU{display:inline-block}._zs_galleryiR ._zs_galleryiU ._zs_galleryiV{float:left;line-height:var(--input-small-height)}._zs_galleryiR ._zs_galleryiU ._zs_galleryiV ._zs_galleryiW,._zs_galleryiR ._zs_galleryiU ._zs_galleryiV ._zs_galleryiX{display:block;min-width:var(--input-small-height);height:var(--input-small-height);margin:0 2px;font-size:var(--font-size);border-radius:var(--border-radius);text-align:center}._zs_galleryiR ._zs_galleryiU ._zs_galleryiV ._zs_galleryiX{color:#666}._zs_galleryiR ._zs_galleryiU ._zs_galleryiV ._zs_galleryiX:hover{color:#333}._zs_galleryiR ._zs_galleryiU ._zs_galleryiV ._zs_galleryiX._zs_galleryiY{color:#333;background-color:#eee}._zs_galleryiR ._zs_galleryiU ._zs_galleryiV ._zs_galleryiX._zs_galleryiZ{background:transparent;cursor:not-allowed}._zs_galleryiR ._zs_galleryiU ._zs_galleryiV ._zs_galleryiW{color:#999;line-height:calc(var(--input-small-height) + 2px)}._zs_galleryiR ._zs_galleryiU ._zs_galleryiV ._zs_galleryiW:hover{color:#666}._zs_galleryiR ._zs_galleryiU ._zs_galleryiV ._zs_galleryiW._zs_galleryiZ{color:#eee;background:transparent;cursor:not-allowed}._zs_galleryiR ._zs_galleryj_{float:right;margin-left:15px}._zs_galleryiR ._zs_galleryj_ ._zs_galleryja{width:40px;text-align:center}"),a.default=_.extend({tmpl:function(l,a,e,i,s,_,r,t){if(e||(e=l),!s){var n={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},g=/[&<>"'`]/g,c=function(l){return"&"+n[l]+";"};s=function(l){return""+(null==l?"":l)},i=function(l){return s(l).replace(g,c)}}if(!_){var p={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},z=function(l){return p[l]},o=/[!')(*]/g;_=function(l){return encodeURIComponent(s(l)).replace(o,z)}}if(!t){var y=/[\\'"]/g;t=function(l){return s(l).replace(y,"\\$&")}}r||(r=function(l,a,e,i){for(i=l[m];--i;)if(l[e=m+i]===a)return e;return l[e=m+l[m]++]=a,e});var m="",u="",d=l.simplify,f=l.mini,h=l.tipOffset,x=l.tipTotal,v=l.tipPer,k=l.sizesChange,V=l.sizesPlacement,I=l.sizes,R=l.size,j=l.spm,U=l.tipUnit,b=l.jump,w=l.tipJumpTo,D=l.next,M=l.viewId,X=l.tipJumpUnit,T=l.hideTotal,P=l.page,C=l.pages,S=l.start,W=l.end;if(u+='<div mxv mxa="_zs_gallerydI:_" class="clearfix _zs_galleryiR">',d||f||(u+='<div mxv mxa="_zs_gallerydI:a" class="_zs_galleryiS"><span>'+s(h)+"</span><span>"+s(x)+"，</span><span>"+s(v)+"</span>",k?(u+='<div mxv="sizes,size" class="ml10 mr10 _zs_galleryiT" mx-change="'+a+'__cE()" ',j&&(u+=' data-spm-click="'+i(j)+'dpd" '),u+=' mx-view="mx-dropdown/index?small=true&placement='+_(V)+"&list="+r(e,I)+"&selected="+r(e,R)+'"></div>'):u+=" "+i(R)+" ",u+="<span>"+s(U)+"</span></div>"),u+=" ",b||(u+='<div mxv mxa="_zs_gallerydI:b" class="_zs_galleryj_"><span mxa="_zs_gallerydI:c" class="mr5">'+i(w)+'</span><input class="input input-small _zs_galleryja mr5" value="'+i(D)+'" id="'+i(M)+'_jump_input" mx-change="'+a+'__p()" mx-focusin="'+a+'__p()" mx-focusout="'+a+'__p()" ',j&&(u+=' data-spm-click="'+i(j)+'ji" '),u+='/><span mxa="_zs_gallerydI:d" class="mr10">'+i(X)+'</span><a href="javascript:;" class="btn btn-small" mx-click="'+a+'__cF()" ',j&&(u+=' data-spm-click="'+i(j)+'jt" '),u+=">跳转</a></div>"),u+='<ul class="clearfix _zs_galleryiU ',T||(u+=" fr "),u+='"><li mxa="_zs_gallerydI:e" class="_zs_galleryiV"><a class="mc-iconfont _zs_galleryiW ',1==P&&(u+=" _zs_galleryiZ "),u+='" href="#" mx-click="'+a+"",u+=P>1?"__cD({page:'"+i(P-1)+"'})":"__M()",u+='" ',j&&(u+=' data-spm-click="'+i(j)+'prev" '),u+=">&#xe61e;</a></li>",f)u+='<li mxa="_zs_gallerydI:f" class="_zs_galleryiV">'+i(P)+" / "+i(C)+"</li>";else{u+=" ",S>1&&(u+='<li mxa="_zs_gallerydI:g" class="_zs_galleryiV"><a class="_zs_galleryiX" href="#" mx-click="'+a+'__cD({page:1})" ',j&&(u+=' data-spm-click="'+i(j)+'n1" '),u+=">1</a></li>"),u+=" ",S>2&&(u+='<li mxs="_zs_gallerydI:_" class="_zs_galleryiV"><a class="_zs_galleryiX _zs_galleryiZ" href="#" mx-click="'+a+'__M()">...</a></li>'),u+=" ";for(var Z=S;Z<=W;Z++)u+='<li mxa="_zs_gallerydI:h" class="_zs_galleryiV"><a class="_zs_galleryiX ',Z==P&&(u+=" _zs_galleryiY "),u+='" href="#" mx-click="'+a+"__cD({page:'"+i(t(Z))+"'})\" ",j&&(u+=' data-spm-click="'+i(j)+"n"+i(Z)+'" '),u+=">"+i(Z)+"</a></li>";u+=" ",W+2<=C&&(u+='<li mxs="_zs_gallerydI:_" class="_zs_galleryiV"><a class="_zs_galleryiX _zs_galleryiZ" href="#" mx-click="'+a+'__M()">...</a></li>'),u+=" ",W<C&&(u+='<li mxa="_zs_gallerydI:i" class="_zs_galleryiV"><a class="_zs_galleryiX" href="#" mx-click="'+a+"__cD({page:'"+i(t(C))+"'})\" ",j&&(u+=' data-spm-click="'+i(j)+'ne" '),u+=">"+i(C)+"</a></li>"),u+=" "}return u+='<li mxa="_zs_gallerydI:j" class="_zs_galleryiV"><a class="mc-iconfont _zs_galleryiW rotate180 ',P==C&&(u+=" _zs_galleryiZ "),u+='" href="#" mx-click="'+a+"",u+=P<C?"__cD({page:'"+i(P+1)+"'})":"__M()",u+='" ',j&&(u+=' data-spm-click="'+i(j)+'next" '),u+=">&#xe61e;</a></li>",T||(u+='<li mxa="_zs_gallerydI:k" class="_zs_galleryiV ml10">'+s(x)+"</li>"),u+="</ul></div>"},init:function(l){this.updater.snapshot(),this.assign(l)},assign:function(l){var a=this.updater.altered(),e=[];try{e=JSON.parse(l.sizes)}catch(a){e=l.sizes}e&&e.length||(e=t);var i=!0;/^false$/i.test(l.sizesChange)&&(i=!1);var s,_=l.size||40;return s=l.page?l.page:l.offset?parseInt(l.offset/_)+1:1,this.updater.set({step:l.step||5,simplify:l.simplify+""=="true",mini:l.mini+""=="true",hideTotal:l.hideTotal+""=="true",jump:l.jump+""=="false",total:0|l.total||0,page:s,size:_,sizesChange:i,sizesPlacement:l.sizesPlacement||"bottom",sizes:e}),a||(a=this.updater.altered()),!!a&&(this.updater.snapshot(),!0)},render:function(){var l=this.__cC();this.updater.digest(l)},__cC:function(){var l=this.updater.get(),a=l.total,e=0|l.page,i=Math.ceil((l.total||1)/l.size);e>i&&(e=i);var s,_=0|l.step,t=_/2|0,n=Math.max(1,e-t),g=Math.min(i,n+_-1);(n=Math.max(1,g-_+1))<=2&&g+(s=3-n)<i&&(g+=s),g+2>i&&n-(s=2-(i-g))>1&&(n-=s),3==n&&(n-=1),g+2==i&&(g+=1);var c=(e-1)*l.size+1,p=Math.min(l.total,e*l.size);0==a&&(c=p=0);var z=e+1;return z>i&&(z=i),{pages:i,offsetStart:c,offsetEnd:p,page:e,start:n,end:g,next:z,tipOffset:r["pager.offset"].replace("{min}",""+c).replace("{max}",""+p),tipTotal:r["pager.total"].replace("{total}",""+a),tipPer:r["pager.per.page"],tipUnit:r["pager.unit"],tipJumpTo:r["pager.jump.to"],tipJumpUnit:r["pager.jump.unit"]}},__D:function(){var l=s("#"+this.id),a=this.updater.get(),e=+a.page,i=+a.size,_=(e-1)*i;l.trigger({type:"change",page:e,size:i,offset:_})},"__cD<click>":function(l){l.preventDefault(),this.updater.set(l.params),this.render(),this.__D()},"__cE<change>":function(l){l.stopPropagation(),this.updater.set({size:l.value}),this.render(),this.__D()},"__p<change,focusin,focusout>":function(l){l.stopPropagation()},"__cF<click>":function(l){l.stopPropagation();var a=+s("#"+this.id+"_jump_input").val();Number.isInteger(a)&&(this.updater.set({page:a}),this.render(),this.__D())},"__M<click>":function(l){l.preventDefault()}})});