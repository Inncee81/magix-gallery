define("mx-pagination/index",["magix","$","../mx-medusa/util","mx-dropdown/index"],(l,e,a)=>{l("mx-dropdown/index");var i=l("magix"),s=l("$"),r=[10,20,30,40],_=l("../mx-medusa/util");i.applyStyle("_zs_galleryak","._zs_galleryiI{line-height:0;color:#666}._zs_galleryiI ._zs_galleryiJ{float:left;line-height:var(--input-small-height)}._zs_galleryiI ._zs_galleryiJ ._zs_galleryiK{min-width:66px}._zs_galleryiI ._zs_galleryiL{display:inline-block}._zs_galleryiI ._zs_galleryiL ._zs_galleryiM{float:left;line-height:var(--input-small-height)}._zs_galleryiI ._zs_galleryiL ._zs_galleryiM ._zs_galleryiN,._zs_galleryiI ._zs_galleryiL ._zs_galleryiM ._zs_galleryiO{display:block;min-width:var(--input-small-height);height:var(--input-small-height);margin:0 2px;font-size:var(--font-size);border-radius:var(--border-radius);text-align:center}._zs_galleryiI ._zs_galleryiL ._zs_galleryiM ._zs_galleryiO{color:#666}._zs_galleryiI ._zs_galleryiL ._zs_galleryiM ._zs_galleryiO:hover{color:#333}._zs_galleryiI ._zs_galleryiL ._zs_galleryiM ._zs_galleryiO._zs_galleryiP{color:#333;background-color:#eee}._zs_galleryiI ._zs_galleryiL ._zs_galleryiM ._zs_galleryiO._zs_galleryiQ{background:transparent;cursor:not-allowed}._zs_galleryiI ._zs_galleryiL ._zs_galleryiM ._zs_galleryiN{color:#999;line-height:calc(var(--input-small-height) + 2px)}._zs_galleryiI ._zs_galleryiL ._zs_galleryiM ._zs_galleryiN:hover{color:#666}._zs_galleryiI ._zs_galleryiL ._zs_galleryiM ._zs_galleryiN._zs_galleryiQ{color:#eee;background:transparent;cursor:not-allowed}._zs_galleryiI ._zs_galleryiR{float:right;margin-left:15px}._zs_galleryiI ._zs_galleryiR ._zs_galleryiS{width:40px;text-align:center}"),a.exports=i.View.extend({tmpl:function(l,e,a,i,s,r,_,t){if(a||(a=l),!s){var g={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},n=/[&<>"'`]/g,c=function(l){return"&"+g[l]+";"};s=function(l){return""+(null==l?"":l)},i=function(l){return s(l).replace(n,c)}}if(!r){var p={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},z=function(l){return p[l]},o=/[!')(*]/g;r=function(l){return encodeURIComponent(s(l)).replace(o,z)}}if(!t){var y=/[\\'"]/g;t=function(l){return s(l).replace(y,"\\$&")}}_||(_=function(l,e,a,i){for(i=l[m];--i;)if(l[a=m+i]===e)return a;return l[a=m+l[m]++]=e,a});var m="",u="",d=l.simplify,f=l.mini,h=l.tipOffset,x=l.tipTotal,v=l.tipPer,M=l.sizesChange,I=l.sizesPlacement,k=l.sizes,q=l.size,b=l.tipUnit,J=l.jump,O=l.tipJumpTo,w=l.next,L=l.viewId,P=l.tipJumpUnit,j=l.hideTotal,N=l.page,A=l.pages,T=l.start,$=l.end;if(u+='<div mxv mxa="_zs_gallerydq:_" class="clearfix _zs_galleryiI">',d||f||(u+='<div mxv mxa="_zs_gallerydq:a" class="_zs_galleryiJ"><span>'+s(h)+"</span><span>"+s(x)+"，</span><span>"+s(v)+"</span>",u+=M?'<div mxv="sizes,size" class="ml10 mr10 _zs_galleryiK" mx-change="'+e+'__cA()" mx-view="mx-dropdown/index?small=true&placement='+r(I)+"&list="+_(a,k)+"&selected="+_(a,q)+'"></div>':" "+i(q)+" ",u+="<span>"+s(b)+"</span></div>"),u+=" ",J||(u+='<div mxv mxa="_zs_gallerydq:b" class="_zs_galleryiR"><span mxa="_zs_gallerydq:c" class="mr5">'+i(O)+'</span><input class="input input-small _zs_galleryiS mr5" value="'+i(w)+'" id="'+i(L)+'_jump_input" mx-change="'+e+'__m()" mx-focusin="'+e+'__m()" mx-focusout="'+e+'__m()"/><span mxa="_zs_gallerydq:d" class="mr10">'+i(P)+'</span><a mxs="_zs_gallerydq:_" href="javascript:;" class="btn btn-small" mx-click="'+e+'__cB()">跳转</a></div>'),u+='<ul class="clearfix _zs_galleryiL" ',j||(u+=' style="float: right;" '),u+='><li mxa="_zs_gallerydq:e" class="_zs_galleryiM"><a class="mc-iconfont _zs_galleryiN ',1==N&&(u+="_zs_galleryiQ"),u+='" href="#" mx-click="'+e+"",u+=N>1?"__cz({page:"+i(N-1)+"})":"__J()",u+='">&#xe61e;</a></li>',f)u+='<li mxa="_zs_gallerydq:f" class="_zs_galleryiM">'+i(N)+" / "+i(A)+"</li>";else{u+=" ",T>1&&(u+='<li mxs="_zs_gallerydq:a" class="_zs_galleryiM"><a class="_zs_galleryiO" href="#" mx-click="'+e+'__cz({page:1})">1</a></li>'),u+=" ",T>2&&(u+='<li mxs="_zs_gallerydq:b" class="_zs_galleryiM"><a class="_zs_galleryiO _zs_galleryiQ" href="#" mx-click="'+e+'__J()">...</a></li>'),u+=" ";for(var Q=T;Q<=$;Q++)u+='<li mxa="_zs_gallerydq:g" class="_zs_galleryiM"><a class="_zs_galleryiO ',Q==N&&(u+="_zs_galleryiP"),u+='" href="#" mx-click="'+e+"__cz({page:"+i(Q)+'})">'+i(Q)+"</a></li>";u+=" ",$+2<=A&&(u+='<li mxs="_zs_gallerydq:b" class="_zs_galleryiM"><a class="_zs_galleryiO _zs_galleryiQ" href="#" mx-click="'+e+'__J()">...</a></li>'),u+=" ",$<A&&(u+='<li mxa="_zs_gallerydq:h" class="_zs_galleryiM"><a class="_zs_galleryiO" href="#" mx-click="'+e+"__cz({page:"+i(A)+'})">'+i(A)+"</a></li>"),u+=" "}return u+='<li mxa="_zs_gallerydq:i" class="_zs_galleryiM"><a class="mc-iconfont _zs_galleryiN rotate180 ',N==A&&(u+="_zs_galleryiQ"),u+='" href="#" mx-click="'+e+"",u+=N<A?"__cz({page:"+i(N+1)+"})":"__J()",u+='">&#xe61e;</a></li>',j||(u+='<li mxa="_zs_gallerydq:j" class="_zs_galleryiM ml10">'+s(x)+"</li>"),u+="</ul></div>"},init:function(l){this.updater.snapshot(),this.assign(l)},assign:function(l){var e=this,a=e.updater.altered(),i=[];try{i=JSON.parse(l.sizes)}catch(e){i=l.sizes}i&&i.length||(i=r);var s=!0;/^false$/i.test(l.sizesChange)&&(s=!1);var _,t=l.size||40;return _=l.page?l.page:l.offset?parseInt(l.offset/t)+1:1,e.updater.set({viewId:e.id,step:l.step||5,simplify:l.simplify+""=="true",mini:l.mini+""=="true",hideTotal:l.hideTotal+""=="true",jump:l.jump+""=="false",total:0|l.total||0,page:_,size:t,sizesChange:s,sizesPlacement:l.sizesPlacement||"bottom",sizes:i}),a||(a=e.updater.altered()),!!a&&(e.updater.snapshot(),!0)},render:function(){var l=this.__cy();this.updater.digest(l)},__cy:function(){var l=this.updater.get(),e=l.total,a=0|l.page,i=Math.ceil((l.total||1)/l.size);a>i&&(a=i);var s,r=0|l.step,t=r/2|0,g=Math.max(1,a-t),n=Math.min(i,g+r-1);(g=Math.max(1,n-r+1))<=2&&n+(s=3-g)<i&&(n+=s),n+2>i&&g-(s=2-(i-n))>1&&(g-=s),3==g&&(g-=1),n+2==i&&(n+=1);var c=(a-1)*l.size+1,p=Math.min(l.total,a*l.size);0==e&&(c=p=0);var z=a+1;return z>i&&(z=i),{pages:i,offsetStart:c,offsetEnd:p,page:a,start:g,end:n,next:z,tipOffset:_["pager.offset"].replace("${min}",""+c).replace("${max}",""+p),tipTotal:_["pager.total"].replace("${total}",""+e),tipPer:_["pager.per.page"],tipUnit:_["pager.unit"],tipJumpTo:_["pager.jump.to"],tipJumpUnit:_["pager.jump.unit"]}},__A:function(){var l=s("#"+this.id),e=this.updater.get(),a=+e.page,i=+e.size,r=(a-1)*i;l.trigger({type:"change",page:a,size:i,offset:r})},"__cz<click>":function(l){l.preventDefault();this.updater.set(l.params),this.render(),this.__A()},"__cA<change>":function(l){l.stopPropagation();this.updater.set({size:l.value}),this.render(),this.__A()},"__m<change,focusin,focusout>":function(l){l.stopPropagation()},"__cB<click>":function(l){l.stopPropagation();var e=+s("#"+this.id+"_jump_input").val();Number.isInteger(e)&&(this.updater.set({page:e}),this.render(),this.__A())},"__J<click>":function(l){l.preventDefault()}})});