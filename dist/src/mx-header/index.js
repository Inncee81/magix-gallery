define("mx-header/index",["magix","$","mx-header/data","mx-dialog/index"],(l,g,a)=>{var r=l("magix"),e=l("$"),s=l("mx-header/data"),_=l("mx-dialog/index");r.applyStyle("_zs_galleryY","._zs_gallerygk{height:50px;margin:0 auto;line-height:50px}._zs_gallerygk ._zs_gallerygl,._zs_gallerygk ._zs_gallerygm{opacity:.5;color:#333;cursor:pointer}._zs_gallerygk ._zs_gallerygl:hover{opacity:1;color:#333}._zs_gallerygk ._zs_gallerygn{opacity:.5;display:inline-block;position:relative;top:4px;right:0;font-size:20px;transition:transform var(--duration) ease-out;color:#333}._zs_gallerygk ._zs_gallerygo{top:38px;left:50%;width:160px;margin-left:-80px}._zs_gallerygk ._zs_gallerygo dl{padding:10px 20px}._zs_gallerygk ._zs_gallerygo dl dt{height:30px;line-height:30px;color:#999;font-size:14px}._zs_gallerygk ._zs_gallerygo dl dd{height:32px;margin-left:25px;line-height:32px;font-size:12px}._zs_gallerygk ._zs_gallerygp{float:left;position:relative;margin-right:35px}._zs_gallerygk ._zs_gallerygp:hover ._zs_gallerygl{opacity:1}._zs_gallerygk ._zs_gallerygp:hover ._zs_gallerygn{opacity:1;transform:rotate(180deg)}._zs_gallerygk ._zs_gallerygp:hover ._zs_gallerygo{opacity:1;transform:scale(1)}._zs_gallerygk ._zs_gallerygp:last-child{margin-right:0}._zs_gallerygq{position:absolute;z-index:10;width:100%;top:50px;left:0}._zs_gallerygq ._zs_gallerygr img{display:inline-block;height:40px}._zs_gallerygq ._zs_gallerygs{position:relative;margin:0 auto;background-color:#fff}._zs_gallerygq ._zs_gallerygs ._zs_gallerygt{float:left;height:50px;line-height:50px}._zs_gallerygq ._zs_gallerygs ._zs_gallerygu{position:absolute;top:0;right:0;display:table;height:50px}._zs_gallerygq ._zs_gallerygs ._zs_gallerygu ._zs_gallerygv{display:table-cell;vertical-align:middle}._zs_gallerygq ._zs_gallerygw{position:relative;padding:0 10px;margin:0 10px;font-size:14px;border-bottom:2px solid transparent}._zs_gallerygq ._zs_gallerygw ._zs_gallerygx{opacity:.5;position:absolute;top:15px;right:-6px;width:20px;height:20px;text-align:center;line-height:20px;font-size:20px;transition:transform var(--duration) ease-out;color:#666}._zs_gallerygq ._zs_gallerygw ._zs_gallerygy{top:40px;left:50%;width:100px;margin-left:-50px;text-align:center}._zs_gallerygq ._zs_gallerygw ._zs_gallerygz{display:block;padding:8px 0;color:#999}._zs_gallerygq ._zs_gallerygw ._zs_gallerygz:hover{color:#333}._zs_gallerygq ._zs_gallerygw ._zs_gallerygz._zs_gallerygA{color:#333;background-color:var(--color-brand-opacity);color:var(--color-brand)}._zs_gallerygq ._zs_gallerygw:hover ._zs_gallerygx{opacity:1;transform:rotate(180deg)}._zs_gallerygq ._zs_gallerygw:hover ._zs_gallerygy{opacity:1;transform:scale(1)}._zs_gallerygq._zs_gallerygB{position:fixed;background-color:#fff;box-shadow:0 1px 1px 0 rgba(0,0,0,.08)}._zs_gallerygC{position:relative}._zs_gallerygD{background-color:#09122b}._zs_gallerygD ._zs_gallerygk{padding-left:40px;padding-right:40px}._zs_gallerygD ._zs_gallerygk ._zs_gallerygE{float:left}._zs_gallerygD ._zs_gallerygk ._zs_gallerygn,._zs_gallerygD ._zs_gallerygk ._zs_gallerygl,._zs_gallerygD ._zs_gallerygk ._zs_gallerygm{opacity:.7;color:#fff}._zs_gallerygD ._zs_gallerygq{transition:background-color var(--duration) ease-out}._zs_gallerygD ._zs_gallerygq ._zs_gallerygs{padding:15px 40px;border-radius:60px}._zs_gallerygD ._zs_gallerygq ._zs_gallerygw{padding:0 16px}._zs_gallerygD ._zs_gallerygq ._zs_gallerygw ._zs_gallerygx{right:-2px}._zs_gallerygD ._zs_gallerygq ._zs_gallerygw._zs_gallerygF ._zs_gallerygG{color:var(--color-brand)}._zs_gallerygH{background-color:#fff}._zs_gallerygH ._zs_gallerygk{padding:0 20px;background-color:#fff}._zs_gallerygH ._zs_gallerygk ._zs_gallerygE{float:right}._zs_gallerygH ._zs_gallerygq{padding:0 20px;box-shadow:0 1px 1px 0 rgba(0,0,0,.08)}._zs_gallerygH ._zs_gallerygq ._zs_gallerygw ._zs_gallerygG{opacity:.5}._zs_gallerygH ._zs_gallerygq ._zs_gallerygw:hover ._zs_gallerygG{opacity:1;color:#333}._zs_gallerygH ._zs_gallerygq ._zs_gallerygw._zs_gallerygF{border-bottom:2px solid var(--color-brand)}._zs_gallerygH ._zs_gallerygq ._zs_gallerygw._zs_gallerygF ._zs_gallerygG{opacity:1;color:#333;font-weight:700}"),r.applyStyle("_zs_galleryZ","._zs_gallerygI,._zs_gallerygJ,._zs_gallerygK,._zs_gallerygL,._zs_gallerygM,._zs_gallerygN,._zs_gallerygO,._zs_gallerygP,._zs_gallerygQ,._zs_gallerygR,._zs_gallerygS,._zs_gallerygT{opacity:0;transition:transform .15s,opacity .15s;transform:scale(0)}._zs_gallerygJ,._zs_gallerygQ{transform-origin:0 0}._zs_gallerygK,._zs_gallerygN{transform-origin:100% 0}._zs_gallerygI{transform-origin:50% 0}._zs_gallerygO,._zs_gallerygS{transform-origin:0 100%}._zs_gallerygL,._zs_gallerygT{transform-origin:100% 100%}._zs_gallerygR{transform-origin:50% 100%}._zs_gallerygM{transform-origin:100% 50%}._zs_gallerygP{transform-origin:0 50%}._zs_gallerygU{opacity:1;transform:scale(1)}._zs_gallerygV{display:none}._zs_gallerygW,._zs_gallerygX{position:absolute;z-index:999999;height:auto;border-radius:var(--border-radius);font-size:12px;line-height:22px;white-space:normal;font-weight:400;font-family:Helvetica,Arial,Microsoft Yahei,Hiragino Sans GB,Heiti SC,WenQuanYi Micro Hei,sans-serif}._zs_gallerygW{background-color:#fff;color:#333}._zs_gallerygW ._zs_gallerygY{padding:10px;word-break:break-all}._zs_gallerygX{background-color:rgba(33,33,33,.72);color:#fff}._zs_gallerygX ._zs_gallerygY{padding:4px 10px}"),a.exports=r.View.extend({tmpl:function(l,g,a,r,e,s,_,i){if(a||(a=l),!e){var t={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},o=/[&<>"'`]/g,y=function(l){return"&"+t[l]+";"};e=function(l){return""+(null==l?"":l)},r=function(l){return e(l).replace(o,y)}}if(!s){var n={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},z=function(l){return n[l]},p=/[!')(*]/g;s=function(l){return encodeURIComponent(e(l)).replace(p,z)}}if(!i){var d=/[\\'"]/g;i=function(l){return e(l).replace(d,"\\$&")}}_||(_=function(l,g,a,r){for(r=l[c];--r;)if(l[a=c+r]===g)return a;return l[a=c+l[c]++]=g,a});var c="",f="",h=l.dark,x=l.height,u=l.links,v=l.width,m=l.login,k=l.user,b=l.logoutUrl,w=l.list,q=l.fixed,H=l.styles,K=l.logo,D=l.navs,V=l.parent,W=l.valueKey,I=l.linkKey,S=l.textKey,X=l.child,j=l.rightView;if(f+='<div class="_zs_gallerygC ',f+=h?" _zs_gallerygD ":" _zs_gallerygH ",f+='" style="height: '+r(x)+'px;">',u){f+='<div class="_zs_gallerygk" ',v&&(f+=' style="width: '+r(v)+'px;" '),f+='><div mxa="_zs_galleryc2:_" class="_zs_gallerygE clearfix">',m&&(f+='<div mxa="_zs_galleryc2:a" class="_zs_gallerygp">',f+=k?'<span mxa="_zs_galleryc2:b" class="_zs_gallerygm">你好，'+r(k)+'，</span><a class="color-brand" href="'+r(b)+'">退出</a>':'<span mxs="_zs_galleryc2:_" class="_zs_gallerygm">亲，请</span><a mxs="_zs_galleryc2:a" class="color-brand" href="javascript:;" mx-click="'+g+'showLogin()">登录</a>',f+="</div>"),f+='<div mxs="_zs_galleryc2:b" class="_zs_gallerygp"><a class="_zs_gallerygl" href="//www.alimama.com" target="_blank" rel="noopener noreferrer">阿里妈妈首页</a></div>';for(var E=0,G=w.length;E<G;E++){var Y=w[E];f+='<div mxa="_zs_galleryc2:c" class="_zs_gallerygp"><span mxa="_zs_galleryc2:d" class="_zs_gallerygl">'+r(Y.title)+'</span><i mxs="_zs_galleryc2:c" class="_zs_gallerygn mc-iconfont">&#xe692;</i><div mxa="_zs_galleryc2:e" class="_zs_gallerygW _zs_gallerygI mx-shadow _zs_gallerygo">';for(var F=0,L=Y.seconds,M=L.length;F<M;F++){var U=L[F];f+="<dl>",U.title&&(f+="<dt>"+r(U.title)+"</dt>"),f+=" ";for(var $=0,A=U.thirds,B=A.length;$<B;$++){var C=A[$];f+='<dd><a href="'+r(C.link)+'" target="_blank" rel="noopener noreferrer">'+r(C.name)+"</a></dd>"}f+="</dl>"}f+="</div></div>"}f+="</div></div>"}if(f+='<div class="_zs_gallerygq ',q&&(f+=" _zs_gallerygB "),f+='" style="'+r(H)+'"><div class="_zs_gallerygs clearfix" ',v&&(f+=' style="width: '+r(v)+'px;" '),f+='><div mxa="_zs_galleryc2:f" class="_zs_gallerygt _zs_gallerygr"><img src="'+r(K)+'"/></div>',D.length>0){f+=" ";for(var T=0,O=D.length;T<O;T++){var Q=D[T];if(f+='<div class="_zs_gallerygt _zs_gallerygw ',V==Q[W]&&(f+=" _zs_gallerygF "),f+='"><a data-nav="'+r(Q[W])+'" class="_zs_gallerygG" ',Q[I]?f+=' href="'+r(Q[I])+'" target="_blank" rel="noopener noreferrer" ':(f+=' href="javascript:;" ',Q.subs&&Q.subs.length||(f+=' mx-click="'+g+"to({nav:'"+_(a,Q)+"'})\" "),f+=" "),f+=">"+r(Q[S])+"</a>",Q.subs&&Q.subs.length){f+='<i mxs="_zs_galleryc2:d" class="_zs_gallerygx mc-iconfont">&#xe692;</i><div mxa="_zs_galleryc2:g" class="_zs_gallerygW _zs_gallerygI mx-shadow _zs_gallerygy">';for(var R=0,J=Q.subs,N=J.length;R<N;R++){var P=J[R];f+='<a data-nav="'+r(P[W])+'" class="_zs_gallerygz ',X==P[W]&&(f+=" _zs_gallerygA "),f+='" ',P[I]?f+=' href="'+r(P[I])+'" target="_blank" rel="noopener noreferrer" ':f+=' mx-click="'+g+"to({nav:'"+_(a,Q)+"',sub:'"+_(a,P)+'\'})" href="javascript:;" ',f+=">"+r(P[S])+"</a>"}f+="</div>"}f+="</div>"}f+=" "}return f+=" ",j&&(f+='<div mxa="_zs_galleryc2:h" class="_zs_gallerygu"><div class="_zs_gallerygv" mx-view="'+r(j)+'"></div></div>'),f+="</div></div></div>"},mixins:[_],init:function(l){this.updater.snapshot(),this.assign(l)},assign:function(l){var g,a=this.updater.altered(),r=l.wrapper||"",s=e(r?"#"+r:window),_=l.navs||[],i=l.dark+""!="false",t=l.links+""!="false",o=l.login+""!="false",y=+l.width;i?(t=!0,o=!1,g=88,y||(y=s.outerWidth()-120)):g=100,t||(g-=50);var n=l.valueKey||"value",z=l.textKey||"text",p=l.linkKey||"link",d=l.cur||"",c="",f="";return _.forEach(function(l){l[n]==d&&(c=l[n],f=""),l.subs&&l.subs.length&&l.subs.forEach(function(g){g[n]==d&&(c=l[n],f=g[n])})}),this.updater.set({wrapperId:r,width:y,height:g,navs:_,valueKey:n,textKey:z,linkKey:p,parent:c,child:f,dark:i,login:o,loginView:l.loginView||"",user:l.user||"",logoutUrl:l.logoutUrl||"",links:t,styles:"top: "+(t?50:0)+"px;",logo:l.logo||"//img.alicdn.com/tfs/TB12M.meYH1gK0jSZFwXXc7aXXa-392-100.png",ceiling:l.ceiling+""!="false",rightView:l.rightView||""}),this.__cx=s,a||(a=this.updater.altered()),!!a&&(this.updater.snapshot(),!0)},render:function(){var l=this;l.updater.digest({list:s.products,fixed:!1});var g=l.updater.get(),a=g.wrapperId,r=g.links,_=g.ceiling,i=l.__cx,t=function(){var g=e("#"+l.id+" ._zs_gallerygk"),s=0;g.length>0&&(s=g.outerHeight());var _=i.outerWidth(),t=i.scrollTop(),o=["width:"+_+"px","left: 0"];a?o.push("position: absolute","top: "+t+"px"):o.push("position: fixed","top: 0"),t>s?l.updater.digest({fixed:!0,styles:o.join(";")}):l.updater.digest({fixed:!1,styles:"top: "+(r?50:0)+"px;"})};!l.$init&&_&&(l.$init=1,i.on("scroll",t),l.on("destroy",function(){i.off("scroll",t)})),t()},"to<click>":function(l){var g=l.params.nav||{},a=l.params.sub||{},r=this.updater.get().valueKey;this.updater.digest({parent:g[r]||"",child:a[r]||""});var s={};s=e.isEmptyObject(a)?g:a,e("#"+this.id).trigger({type:"navchange",nav:s})},"showLogin<click>":function(l){var g=this.updater.get().loginView;this.mxLoginView(g)}})});