define("mx-header/index",["magix","$","../mx-util/view","./data","../mx-dialog/index","mx-effects/icon"],(l,a,g)=>{l("mx-effects/icon"),a.__esModule=!0;var r=l("magix"),e=l("$"),s=l("../mx-util/view"),_=l("./data"),i=l("../mx-dialog/index");r.default.applyStyle("_zs_galleryY","._zs_gallerygj{height:50px;margin:0 auto;line-height:50px}._zs_gallerygj ._zs_gallerygk,._zs_gallerygj ._zs_gallerygl{opacity:.5;color:#333;cursor:pointer}._zs_gallerygj ._zs_gallerygk:hover{opacity:1;color:#333}._zs_gallerygj ._zs_gallerygm{opacity:.5;display:inline-block;position:relative;top:4px;right:0;font-size:20px;transition:transform var(--duration) ease-out;color:#333}._zs_gallerygj ._zs_gallerygn{top:46px;left:50%;width:144px;margin-left:-72px}._zs_gallerygj ._zs_gallerygn dl{padding:10px 20px}._zs_gallerygj ._zs_gallerygn dl dt{height:30px;line-height:30px;color:#999;font-size:14px}._zs_gallerygj ._zs_gallerygn dl dd{height:32px;margin-left:25px;line-height:32px;font-size:12px}._zs_gallerygj ._zs_gallerygo{float:left;position:relative;margin-right:35px}._zs_gallerygj ._zs_gallerygo:hover ._zs_gallerygk{opacity:1}._zs_gallerygj ._zs_gallerygo:hover ._zs_gallerygm{opacity:1;transform:rotate(180deg)}._zs_gallerygj ._zs_gallerygo:hover ._zs_gallerygn{opacity:1;transform:scale(1)}._zs_gallerygj ._zs_gallerygo:last-child{margin-right:0}._zs_gallerygp{position:absolute;z-index:10;width:100%;top:50px;left:0}._zs_gallerygp ._zs_gallerygq img{display:inline-block;height:40px}._zs_gallerygp ._zs_gallerygr{position:relative;margin:0 auto;background-color:#fff}._zs_gallerygp ._zs_gallerygr ._zs_gallerygs{float:left;height:50px;line-height:50px}._zs_gallerygp ._zs_gallerygr ._zs_gallerygt{position:absolute;top:0;right:0;display:table;height:50px;transition:opacity var(--duration) ease-out}._zs_gallerygp ._zs_gallerygr ._zs_gallerygt ._zs_gallerygu{display:table-cell;vertical-align:middle}._zs_gallerygp ._zs_gallerygv{position:relative;padding:0 12px;margin:0 12px;font-size:14px;border-bottom:2px solid transparent}._zs_gallerygp ._zs_gallerygv ._zs_gallerygw{opacity:.5;position:absolute;top:15px;right:-6px;width:20px;height:20px;text-align:center;line-height:20px;font-size:20px;transition:transform var(--duration) ease-out;color:#666}._zs_gallerygp ._zs_gallerygv ._zs_gallerygx{top:46px;left:50%;width:100px;margin-left:-50px;text-align:center}._zs_gallerygp ._zs_gallerygv ._zs_gallerygy{display:block;padding:8px 0;color:#999}._zs_gallerygp ._zs_gallerygv ._zs_gallerygy:hover{color:#333}._zs_gallerygp ._zs_gallerygv ._zs_gallerygy._zs_gallerygz{color:#333;background-color:var(--color-brand-opacity);color:var(--color-brand)}._zs_gallerygp ._zs_gallerygv:hover ._zs_gallerygw{opacity:1;transform:rotate(180deg)}._zs_gallerygp ._zs_gallerygv:hover ._zs_gallerygx{opacity:1;transform:scale(1)}._zs_gallerygp._zs_gallerygA{position:fixed;background-color:#fff;box-shadow:0 1px 1px 0 rgba(0,0,0,.08)}._zs_gallerygB{position:relative}._zs_gallerygC{background-color:#09122b}._zs_gallerygC ._zs_gallerygj{padding-left:40px;padding-right:40px}._zs_gallerygC ._zs_gallerygj ._zs_gallerygD{float:left}._zs_gallerygC ._zs_gallerygj ._zs_gallerygm,._zs_gallerygC ._zs_gallerygj ._zs_gallerygk,._zs_gallerygC ._zs_gallerygj ._zs_gallerygl{opacity:.7;color:#fff}._zs_gallerygC ._zs_gallerygp{transition:background-color var(--duration) ease-out}._zs_gallerygC ._zs_gallerygp ._zs_gallerygr{padding:15px 40px;border-radius:60px}._zs_gallerygC ._zs_gallerygp ._zs_gallerygv{padding:0 16px}._zs_gallerygC ._zs_gallerygp ._zs_gallerygv ._zs_gallerygw{right:-2px}._zs_gallerygC ._zs_gallerygp ._zs_gallerygv._zs_gallerygE ._zs_gallerygF{color:var(--color-brand)}._zs_gallerygG{background-color:#fff}._zs_gallerygG ._zs_gallerygj{padding:0 20px;background-color:#fff}._zs_gallerygG ._zs_gallerygj ._zs_gallerygD{float:right}._zs_gallerygG ._zs_gallerygp{padding:0 20px;box-shadow:0 1px 1px 0 rgba(0,0,0,.08)}._zs_gallerygG ._zs_gallerygp ._zs_gallerygv ._zs_gallerygF{opacity:.5}._zs_gallerygG ._zs_gallerygp ._zs_gallerygv:hover ._zs_gallerygF{opacity:1;color:#333}._zs_gallerygG ._zs_gallerygp ._zs_gallerygv._zs_gallerygE{border-bottom:2px solid var(--color-brand)}._zs_gallerygG ._zs_gallerygp ._zs_gallerygv._zs_gallerygE ._zs_gallerygF{opacity:1;color:#333;font-weight:700}"),r.default.applyStyle("_zs_galleryZ","._zs_gallerygH,._zs_gallerygI,._zs_gallerygJ,._zs_gallerygK,._zs_gallerygL,._zs_gallerygM,._zs_gallerygN,._zs_gallerygO,._zs_gallerygP,._zs_gallerygQ,._zs_gallerygR,._zs_gallerygS{opacity:0;transition:transform .15s,opacity .15s;transform:scale(0)}._zs_gallerygI,._zs_gallerygP{transform-origin:0 0}._zs_gallerygJ,._zs_gallerygM{transform-origin:100% 0}._zs_gallerygH{transform-origin:50% 0}._zs_gallerygN,._zs_gallerygR{transform-origin:0 100%}._zs_gallerygK,._zs_gallerygS{transform-origin:100% 100%}._zs_gallerygQ{transform-origin:50% 100%}._zs_gallerygL{transform-origin:100% 50%}._zs_gallerygO{transform-origin:0 50%}._zs_gallerygT{opacity:1;transform:scale(1)}._zs_gallerygU{display:none}._zs_gallerygV,._zs_gallerygW{position:absolute;z-index:999999;height:auto;border-radius:var(--border-radius);font-size:12px;line-height:22px;white-space:normal;font-weight:400;font-family:var(--font-family)}._zs_gallerygV{background-color:#fff;color:#333}._zs_gallerygV ._zs_gallerygX{padding:10px;word-break:break-all}._zs_gallerygW{background-color:rgba(33,33,33,.72);color:#fff}._zs_gallerygW ._zs_gallerygX{padding:4px 10px}"),a.default=s.extend({tmpl:function(l,a,g,r,e,s,_,i){if(g||(g=l),!e){var t={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},o=/[&<>"'`]/g,n=function(l){return"&"+t[l]+";"};e=function(l){return""+(null==l?"":l)},r=function(l){return e(l).replace(o,n)}}if(!s){var y={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},z=function(l){return y[l]},p=/[!')(*]/g;s=function(l){return encodeURIComponent(e(l)).replace(p,z)}}if(!i){var c=/[\\'"]/g;i=function(l){return e(l).replace(c,"\\$&")}}_||(_=function(l,a,g,r){for(r=l[d];--r;)if(l[g=d+r]===a)return g;return l[g=d+l[d]++]=a,g});var d="",f="",h=l.dark,x=l.height,v=l.links,u=l.width,m=l.login,b=l.user,w=l.logoutUrl,k=l.spm,j=l.list,C=l.fixed,K=l.styles,V=l.logo,G=l.navs,S=l.parent,E=l.valueKey,F=l.linkKey,H=l.textKey,X=l.child,I=l.rightView,L=l.rightCeilingShow;if(f+='<div class="_zs_gallerygB ',f+=h?" _zs_gallerygC ":" _zs_gallerygG ",f+='" style="height: '+r(x)+'px;">',v){f+='<div class="_zs_gallerygj" ',u&&(f+=' style="width: '+r(u)+'px;" '),f+='><div mxa="_zs_galleryc8:_" class="_zs_gallerygD clearfix">',m&&(f+='<div mxa="_zs_galleryc8:a" class="_zs_gallerygo">',b?(f+='<span mxa="_zs_galleryc8:b" class="_zs_gallerygl">你好，'+r(b)+'，</span><a class="color-brand" href="'+r(w)+'" ',k&&(f+=' data-spm-click="'+r(k)+'lgo" '),f+=">退出</a>"):(f+='<span mxs="_zs_galleryc8:_" class="_zs_gallerygl">亲，请</span><a class="color-brand" href="javascript:;" mx-click="'+a+'showLogin()" ',k&&(f+=' data-spm-click="'+r(k)+'lgi" '),f+=">登录</a>"),f+="</div>"),f+='<div mxa="_zs_galleryc8:c" class="_zs_gallerygo"><a class="_zs_gallerygk" href="//www.alimama.com" target="_blank" rel="noopener noreferrer" ',k&&(f+=' data-spm-click="'+r(k)+'mmh" '),f+=">阿里妈妈首页</a></div>";for(var U=0,$=j.length;U<$;U++){var M=j[U];f+='<div mxa="_zs_galleryc8:d" class="_zs_gallerygo"><span mxa="_zs_galleryc8:e" class="_zs_gallerygk">'+r(M.title)+'</span><i mxs="_zs_galleryc8:a" class="_zs_gallerygm mc-iconfont">&#xe692;</i><div mxa="_zs_galleryc8:f" class="_zs_gallerygV _zs_gallerygH mx-shadow _zs_gallerygn">';for(var W=0,A=M.seconds,B=A.length;W<B;W++){var D=A[W];f+="<dl>",D.title&&(f+="<dt>"+r(D.title)+"</dt>"),f+=" ";for(var O=0,R=D.thirds,T=R.length;O<T;O++){var q=R[O];f+='<dd><a href="'+r(q.link)+'" target="_blank" rel="noopener noreferrer" ',k&&(f+=' data-spm-click="'+r(k)+r(q.name)+'" '),f+=">"+r(q.name)+"</a></dd>"}f+="</dl>"}f+="</div></div>"}f+="</div></div>"}if(f+='<div class="_zs_gallerygp ',C&&(f+=" _zs_gallerygA "),f+='" style="'+r(K)+'"><div class="_zs_gallerygr clearfix" ',u&&(f+=' style="width: '+r(u)+'px;" '),f+='><div mxa="_zs_galleryc8:g" class="_zs_gallerygs _zs_gallerygq"><img src="'+r(V)+'"/></div>',G.length>0){f+=" ";for(var J=0,N=G.length;J<N;J++){var P=G[J];if(f+='<div class="_zs_gallerygs _zs_gallerygv ',S==P[E]&&(f+=" _zs_gallerygE "),f+='"><a data-nav="'+r(P[E])+'" class="_zs_gallerygF" ',P[F]?f+=' href="'+r(P[F])+'" target="_blank" rel="noopener noreferrer" ':(f+=' href="javascript:;" ',P.subs&&P.subs.length||(f+=' mx-click="'+a+"to({nav:'"+_(g,P)+"'})\" "),f+=" "),f+=" ",k&&(f+=' data-spm-click="'+r(k)+r(P[E])+'" '),f+=">"+r(P[H])+"</a>",P.tag&&(f+='<span class="ml5" mx-view="mx-effects/icon?type=error&content='+s(P.tag)+'"></span>'),f+=" ",P.subs&&P.subs.length){f+='<i mxs="_zs_galleryc8:b" class="_zs_gallerygw mc-iconfont">&#xe692;</i><div mxa="_zs_galleryc8:h" class="_zs_gallerygV _zs_gallerygH mx-shadow _zs_gallerygx">';for(var Q=0,Y=P.subs,Z=Y.length;Q<Z;Q++){var ll=Y[Q];f+='<a data-nav="'+r(ll[E])+'" class="_zs_gallerygy ',X==ll[E]&&(f+=" _zs_gallerygz "),f+='" ',ll[F]?f+=' href="'+r(ll[F])+'" target="_blank" rel="noopener noreferrer" ':f+=' mx-click="'+a+"to({nav:'"+_(g,P)+"',sub:'"+_(g,ll)+'\'})" href="javascript:;" ',f+=" ",k&&(f+=' data-spm-click="'+r(k)+r(ll[E])+'" '),f+=">"+r(ll[H])+"</a>"}f+="</div>"}f+="</div>"}f+=" "}return f+=" ",I&&(f+='<div class="_zs_gallerygt" style="opacity: '+r(L?C?1:0:1)+'"><div class="_zs_gallerygu" mx-view="'+r(I)+'"></div></div>'),f+="</div></div></div>"},mixins:[i],init:function(l){this.updater.snapshot(),this.assign(l)},assign:function(l){var a,g=this.updater.altered(),r=l.wrapper||"",s=e(r?"#"+r:window),_=l.navs||[],i=l.dark+""!="false",t=l.links+""!="false",o=l.login+""!="false",n=+l.width;i?(t=!0,o=!1,a=88,n||(n=s.outerWidth()-120)):a=100,t||(a-=50);var y=l.valueKey||"value",z=l.textKey||"text",p=l.linkKey||"link",c=l.cur||"",d="",f="";return _.forEach(function(l){l[y]==c&&(d=l[y],f=""),l.subs&&l.subs.length&&l.subs.forEach(function(a){a[y]==c&&(d=l[y],f=a[y])})}),this.updater.set({wrapperId:r,width:n,height:a,navs:_,valueKey:y,textKey:z,linkKey:p,parent:d,child:f,dark:i,login:o,loginView:l.loginView||"",user:l.user||"",logoutUrl:l.logoutUrl||"",links:t,styles:"top: "+(t?50:0)+"px;",logo:l.logo||"//img.alicdn.com/tfs/TB12M.meYH1gK0jSZFwXXc7aXXa-392-100.png",ceiling:l.ceiling+""!="false",rightCeilingShow:l.rightCeilingShow+""=="true",rightView:l.rightView||""}),this.__cx=s,g||(g=this.updater.altered()),!!g&&(this.updater.snapshot(),!0)},render:function(){var l=this;l.updater.digest({list:_.products,fixed:!1});var a=l.updater.get(),g=a.wrapperId,r=a.links,s=a.ceiling,i=l.__cx,t=function(){var a=e("#"+l.id+" ._zs_gallerygj"),s=0;a.length>0&&(s=a.outerHeight());var _=i.scrollTop(),t=["width:"+i.width()+"px","left: 0"];g?t.push("position: absolute","top: "+_+"px"):t.push("position: fixed","top: 0"),_>s?l.updater.digest({fixed:!0,styles:t.join(";")}):l.updater.digest({fixed:!1,styles:"top: "+(r?50:0)+"px;"})};!l.$init&&s&&(l.$init=1,i.on("scroll",t),l.on("destroy",function(){i.off("scroll",t)})),t()},"to<click>":function(l){var a=l.params.nav||{},g=l.params.sub||{},r=this.updater.get().valueKey;this.updater.digest({parent:a[r]||"",child:g[r]||""});var s={};s=e.isEmptyObject(g)?a:g,e("#"+this.id).trigger({type:"navchange",nav:s})},"showLogin<click>":function(l){var a=this.updater.get().loginView;this.mxLoginView(a)}})});