define("mx-slider/range",["magix","$","../mx-util/view","../mx-dragdrop/index"],(e,l,r)=>{"use strict";l.__esModule=!0;var _=e("magix"),i=e("$"),a=e("../mx-util/view"),t=e("../mx-dragdrop/index");_.default.applyStyle("_zs_galleryau",':root{--slider-size:6px;--slider-input-width:64px;--slider-line-height:18px;--slider-margin:calc(var(--input-small-height)/2 - var(--slider-size))}[mx-view*="mx-slider/index"],[mx-view*="mx-slider/range"]{position:relative;display:inline-block;outline:0;cursor:pointer}[mx-view*="mx-slider/index"] ._zs_galleryjy,[mx-view*="mx-slider/range"] ._zs_galleryjy{position:absolute;top:50%;right:calc(-10px - var(--slider-input-width));width:var(--slider-input-width);margin-top:calc(1px - var(--input-small-height)/2)}[mx-view*="mx-slider/index"][mx-disabled],[mx-view*="mx-slider/index"][mx-view*="disabled=true"],[mx-view*="mx-slider/range"][mx-disabled],[mx-view*="mx-slider/range"][mx-view*="disabled=true"]{cursor:not-allowed}[mx-view*="mx-slider/index"][mx-disabled] ._zs_galleryjz ._zs_galleryjA,[mx-view*="mx-slider/index"][mx-view*="disabled=true"] ._zs_galleryjz ._zs_galleryjA,[mx-view*="mx-slider/range"][mx-disabled] ._zs_galleryjz ._zs_galleryjA,[mx-view*="mx-slider/range"][mx-view*="disabled=true"] ._zs_galleryjz ._zs_galleryjA{background-color:#ccc;opacity:.8}[mx-view*="mx-slider/index"][mx-disabled] ._zs_galleryjz ._zs_galleryjB,[mx-view*="mx-slider/index"][mx-disabled] ._zs_galleryjz ._zs_galleryjB:before,[mx-view*="mx-slider/index"][mx-view*="disabled=true"] ._zs_galleryjz ._zs_galleryjB,[mx-view*="mx-slider/index"][mx-view*="disabled=true"] ._zs_galleryjz ._zs_galleryjB:before,[mx-view*="mx-slider/range"][mx-disabled] ._zs_galleryjz ._zs_galleryjB,[mx-view*="mx-slider/range"][mx-disabled] ._zs_galleryjz ._zs_galleryjB:before,[mx-view*="mx-slider/range"][mx-view*="disabled=true"] ._zs_galleryjz ._zs_galleryjB,[mx-view*="mx-slider/range"][mx-view*="disabled=true"] ._zs_galleryjz ._zs_galleryjB:before{background-color:#ccc}._zs_galleryjz{display:inline-block;height:var(--slider-size);position:relative;border-radius:calc(var(--slider-size)/2);background:#f0f0f0}._zs_galleryjz ._zs_galleryjC{width:var(--slider-size);border-radius:50%;background-color:#ccc;margin-left:calc(var(--slider-size)/-2)}._zs_galleryjz ._zs_galleryjC,._zs_galleryjz ._zs_galleryjA{position:absolute;top:0;left:0;height:var(--slider-size)}._zs_galleryjz ._zs_galleryjA{background-color:var(--color-brand);opacity:.3;border-radius:calc(var(--slider-size)/2)}._zs_galleryjz ._zs_galleryjB{top:-1px;width:calc(var(--slider-size) + 2px);height:calc(var(--slider-size) + 2px);margin-left:calc((var(--slider-size) + -2px)/-2);outline:0}._zs_galleryjz ._zs_galleryjB,._zs_galleryjz ._zs_galleryjB:before{position:absolute;border-radius:50%;background-color:var(--color-brand)}._zs_galleryjz ._zs_galleryjB:before{content:" ";top:-4px;left:-4px;width:calc(var(--slider-size) + 10px);height:calc(var(--slider-size) + 10px);opacity:.3}._zs_galleryjz ._zs_galleryjD,._zs_galleryjz ._zs_galleryjE,._zs_galleryjz ._zs_galleryjF,._zs_galleryjz ._zs_galleryjG{position:absolute;font-size:var(--font-size);pointer-events:none;line-height:var(--slider-line-height);white-space:nowrap}._zs_galleryjz ._zs_galleryjE{top:calc(0px - var(--slider-line-height) - var(--slider-margin))}._zs_galleryjz ._zs_galleryjD{top:calc(var(--slider-size) + var(--slider-margin));left:0;padding:0 2px}._zs_galleryjz ._zs_galleryjF,._zs_galleryjz ._zs_galleryjG{width:50%;top:calc(var(--slider-size) + var(--slider-margin));text-align:center}._zs_galleryjz ._zs_galleryjG{left:-25%}._zs_galleryjz ._zs_galleryjF{left:75%}._zs_galleryjH{margin-left:3px;color:#999}[mx-view*="mx-slider/index"][mx-view*="vertical=true"] ._zs_galleryjz,[mx-view*="mx-slider/range"][mx-view*="vertical=true"] ._zs_galleryjz{width:var(--slider-size);left:calc(var(--slider-size)*2)}[mx-view*="mx-slider/index"][mx-view*="vertical=true"] ._zs_galleryjz ._zs_galleryjC,[mx-view*="mx-slider/range"][mx-view*="vertical=true"] ._zs_galleryjz ._zs_galleryjC{top:auto;margin-left:0;margin-top:calc(var(--slider-size)/-2)}[mx-view*="mx-slider/index"][mx-view*="vertical=true"] ._zs_galleryjz ._zs_galleryjA,[mx-view*="mx-slider/range"][mx-view*="vertical=true"] ._zs_galleryjz ._zs_galleryjA{top:auto;width:var(--slider-size);height:auto;bottom:0}[mx-view*="mx-slider/index"][mx-view*="vertical=true"] ._zs_galleryjz ._zs_galleryjB,[mx-view*="mx-slider/range"][mx-view*="vertical=true"] ._zs_galleryjz ._zs_galleryjB{top:auto;left:-1px;margin-left:0;margin-bottom:calc((var(--slider-size) + -2px)/-2)}[mx-view*="mx-slider/index"][mx-view*="vertical=true"] ._zs_galleryjz ._zs_galleryjE,[mx-view*="mx-slider/range"][mx-view*="vertical=true"] ._zs_galleryjz ._zs_galleryjE{top:auto;right:calc(var(--slider-size) + var(--slider-size))}[mx-view*="mx-slider/index"][mx-view*="vertical=true"] ._zs_galleryjz ._zs_galleryjD,[mx-view*="mx-slider/range"][mx-view*="vertical=true"] ._zs_galleryjz ._zs_galleryjD{top:auto;left:calc(var(--slider-size) + var(--slider-size));margin-top:calc(var(--slider-line-height)/-2)}[mx-view*="mx-slider/index"][mx-view*="vertical=true"] ._zs_galleryjz ._zs_galleryjG,[mx-view*="mx-slider/range"][mx-view*="vertical=true"] ._zs_galleryjz ._zs_galleryjG{top:auto;right:auto;bottom:0;left:calc(var(--slider-size) + var(--slider-size));width:auto;margin-bottom:calc(var(--slider-line-height)/-2)}[mx-view*="mx-slider/index"][mx-view*="vertical=true"] ._zs_galleryjz ._zs_galleryjF,[mx-view*="mx-slider/range"][mx-view*="vertical=true"] ._zs_galleryjz ._zs_galleryjF{top:0;right:auto;bottom:auto;left:calc(var(--slider-size) + var(--slider-size));width:auto;margin-top:calc(var(--slider-line-height)/-2)}');l.default=a.extend({tmpl:function(e,l,r,_,i,a,t,s){if(r||(r=e),!i){var d={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},n=/[&<>"'`]/g,g=function(e){return"&"+d[e]+";"};i=function(e){return""+(null==e?"":e)},_=function(e){return i(e).replace(n,g)}}if(!a){var o={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},v=function(e){return o[e]},x=/[!')(*]/g;a=function(e){return encodeURIComponent(i(e)).replace(x,v)}}if(!s){var z=/[\\'"]/g;s=function(e){return i(e).replace(z,"\\$&")}}var c="",m=e.vertical,u=e.height,y=e.width,p=e.dots,f=e.viewId,h=e.min,j=e.max;c+='<span class="_zs_galleryjz" mx-contextmenu="'+l+'__M()" style="',c+=m?" height: "+_(u)+"px; ":" width: "+_(y)+"px; ",c+='">';for(var w=0,b=p.length;w<b;w++){var k=p[w];c+='<span class="_zs_galleryjC" style="',c+=m?" top: "+_(100-k.percent)+"%;   ":" left: "+_(k.percent)+"%; ",c+='"></span><span class="_zs_galleryjD" style="',c+=m?" top: "+_(100-k.percent)+"%;   ":" left: "+_(k.percent)+"%; ",c+='">'+_(k.value)+"</span>"}return c+='<span mxs="_zs_galleryel:_" class="_zs_galleryjA"></span><span tabindex="0" mx-keydown="'+l+'__do({start:true})" class="_zs_galleryjB" mx-mousedown="'+l+'__dt({start:true})" id="left_'+_(f)+'"></span><span class="_zs_galleryjE" id="leftl_'+_(f)+'"></span><span tabindex="0" mx-keydown="'+l+'__do()" class="_zs_galleryjB" mx-mousedown="'+l+'__dt({end:true})" id="right_'+_(f)+'"></span><span class="_zs_galleryjE" id="rightl_'+_(f)+'"></span><span mxa="_zs_galleryel:_" class="_zs_galleryjG">'+_(h)+'</span><span mxa="_zs_galleryel:a" class="_zs_galleryjF">'+_(j)+"</span></span>"},mixins:[t],init:function(e){var l=this,r=i("#"+l.id);l.assign(e);var a=function(e){if(!l.__dp&&!l.__n){var i=r.offset(),a=l.__dq(),t=((l.__dj?a.rMax-e.pageY+i.top:e.pageX-i.left)-a.half)/a.max,s=l.__dr(t),d=+l.__dv,n=+l.__dw;Math.abs(d-s)<Math.abs(n-s)?(l.__dx(s),l.__dv=s,l.__D(),_.default.node("left_"+l.id).focus()):(l.__dy(s),l.__dw=s,l.__D(),_.default.node("right_"+l.id).focus())}};r.on("click",a),l.on("destroy",function(){r.off("click",a)}),l.__a=r},assign:function(e){var l=this;l.__cK=+e.width||280,l.__dd=+e.height||280,l.__de=+e.min||0,l.__df=+e.max||100,l.__dg=+e.step||1,l.__n=e.disabled+""=="true"||i("#"+l.id)[0].hasAttribute("mx-disabled"),l.__di=e.showDot+""=="true",l.__dj=e.vertical+""=="true";var r=(e.step||1)+"",_=r.indexOf(".");_=_>=0?r.slice(_+1).length:0,l.__dl=_;var a=e.value;return a?(a=(a+"").split(","),l.__dv=+a[0]||0,l.__dw=+a[1]||0):(l.__dv=l.__de,l.__dw=(l.__de+l.__df)/2),!0},render:function(){var e=this,l=e.__de,r=e.__df,_=e.__dl,a=e.__cK,t=[];if(e.__di)for(var s=e.__dg,d=r-l,n=1;l+s*n<r;)t.push({value:(l+s*n).toFixed(_),percent:s*n/d*100}),n++;e.updater.digest({dots:t,min:l.toFixed(_),max:r.toFixed(_),height:e.__dd,width:a,vertical:e.__dj});var g=t.length;if(g>0){var o=i("#"+e.id+" ._zs_galleryjD");if(!e.__dj){var v=g>0?a/g:a,x=o.outerWidth(),z=0-x/2,c=Math.ceil(x/v);for(n=0;n<o.length;n++){var m=i(o[n]),u=(n+1)%c==0?"inline-block":"none";n+1==o.length&&t[n].percent/100*a+x>=a&&(u="none"),m.css({marginLeft:z,display:u})}}}e.val([e.__dv,e.__dw])},__dq:function(){var e=this,l=e.__a.find("._zs_galleryjz"),r=e.__a.find("._zs_galleryjA"),_=i("#left_"+e.id),a=i("#right_"+e.id),t=e.__dj?l.height():l.width(),s=_.outerWidth()/2,d=t-2*s;return{rail:l,iLeftL:i("#leftl_"+e.id),iRightL:i("#rightl_"+e.id),tracker:r,iLeft:_,iRight:a,left:parseInt(_.css(e.__dj?"bottom":"left"),10),right:parseInt(a.css(e.__dj?"bottom":"left"),10),rMax:t,max:d,half:s}},__dx:function(e){var l=this;e=+e;var r=l.__df,_=l.__de;e>r?e=r:e<_&&(e=_);var i=(e-_)/(r-_);i=((e=l.__dr(i))-_)/(r-_);var a=l.__dq(),t=a.iLeftL;if(t.html(e),l.__dj){var s=t.height()/2;t.css({bottom:100*i+"%","margin-bottom":0-s+"px"}),a.iLeft.css("bottom",100*i+"%"),a.tracker.css("bottom",100*i+"%")}else{s=t.width()/2;t.css({left:100*i+"%","margin-left":0-s+"px"}),a.iLeft.css("left",100*i+"%"),a.tracker.css("left",100*i+"%")}return e},__dy:function(e){var l=this;e=+e;var r=l.__df,_=l.__de;e>r?e=r:e<_&&(e=_);var i=(e-_)/(r-_);i=((e=l.__dr(i))-_)/(r-_);var a=l.__dq(),t=a.iRightL;if(t.html(e),l.__dj){var s=t.height()/2;t.css({bottom:100*i+"%","margin-bottom":0-s+"px"}),a.iRight.css("bottom",100*i+"%"),a.tracker.css("top",100-100*i+"%")}else{s=t.width()/2;t.css({left:100*i+"%","margin-left":0-s+"px"}),a.iRight.css("left",100*i+"%"),a.tracker.css("right",100-100*i+"%")}return e},val:function(e){var l,r=this;if(e){var _=(e+"").split(","),i=+_[0]||0,a=+_[1]||0;i>a&&(i=(l=[a,i])[0],a=l[1]),r.__a.prop("value",[i,a]),i=r.__dx(i),a=r.__dy(a),r.__dv==i&&r.__dw==a||(r.__dv=i,r.__dw=a,r.__D())}return[+r.__dv,+r.__dw]},__dr:function(e){var l=this.__df,r=this.__de,_=this.__dg;return(0===e?r:1===e?l:Math.round((l-r)*e/_)*_+r).toFixed(this.__dl)},__D:function(){var e=(+this.__dv).toFixed(this.__dl),l=(+this.__dw).toFixed(this.__dl),r=[e,l];this.__a.prop("value",r).trigger({type:"change",value:r,start:e,end:l})},__dz:function(e,l){var r=this;e==r.__dv&&l==r.__dw||(r.__dv=e,r.__dw=l,r.__D())},"__dt<mousedown>":function(e){var l=this;if(!l.__n){var r=i(e.eventTarget),a=r.outerWidth(),s=-1;s=l.__dj?r.parent().height()-a:r.parent().width()-a;var d=parseInt(r.css(l.__dj?"bottom":"left"),10),n=l.__dv,g=l.__dw;l.__dn=1,l.dragdrop(e.eventTarget,function(r){t.clear();var i=-1;(i=l.__dj?d+e.pageY-r.pageY:d+r.pageX-e.pageX)<0?i=0:i>s&&(i=s);var a=i/s,o=l.__dr(a),v=+o;if(e.params.end){var x=+l.__dv;v>=x?(l.__dv!=n&&(n=l.__dx(x)),g=l.__dy(o),_.default.node("right_"+l.id).focus()):(l.__dv!=g&&(g=l.__dy(x)),n=l.__dx(o),_.default.node("left_"+l.id).focus())}else{var z=+l.__dw;v<=z?(l.__dw!=g&&(g=l.__dy(z)),n=l.__dx(o),_.default.node("left_"+l.id).focus()):(l.__dw!=n&&(n=l.__dx(z)),g=l.__dy(o),_.default.node("right_"+l.id).focus())}},function(){l.__dz(n,g),l.__dp=!0,setTimeout(l.wrapAsync(function(){delete l.__dp}),20),delete l.__dn})}},"__do<keydown>":function(e){var l,r=this,i=r.__dg;if(!r.__dn&&(37==e.keyCode||40==e.keyCode?(e.preventDefault(),i=-i,l=!0):39!=e.keyCode&&38!=e.keyCode||(e.preventDefault(),l=!0),l)){var a=r.__dv,t=+a,s=r.__dw,d=+s,n=e.params.start;n?t+=i:d+=i,t>d?(n?_.default.node("right_"+r.id).focus():_.default.node("left_"+r.id).focus(),d!=+a&&(a=r.__dx(d)),t!=+s&&(s=r.__dy(t))):n?a=r.__dx(t):s=r.__dy(d),r.__dz(a,s)}},"__M<contextmenu>":function(e){e.preventDefault()}})});