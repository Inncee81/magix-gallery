define("mx-slider/range",["magix","$","../mx-util/view","../mx-dragdrop/index"],(e,r,l)=>{"use strict";r.__esModule=!0;var _=e("magix"),i=e("$"),a=e("../mx-util/view"),t=e("../mx-dragdrop/index");_.default.applyStyle("_zs_galleryau",':root{--slider-size:6px;--slider-input-width:64px;--slider-line-height:18px;--slider-margin:calc(var(--input-small-height)/2 - var(--slider-size))}[mx-view*="mx-slider/index"],[mx-view*="mx-slider/range"]{position:relative;display:inline-block;outline:0;cursor:pointer}[mx-view*="mx-slider/index"] ._zs_galleryjy,[mx-view*="mx-slider/range"] ._zs_galleryjy{position:absolute;top:50%;right:calc(-10px - var(--slider-input-width));width:var(--slider-input-width);margin-top:calc(1px - var(--input-small-height)/2)}[mx-view*="mx-slider/index"][mx-disabled],[mx-view*="mx-slider/index"][mx-view*="disabled=true"],[mx-view*="mx-slider/range"][mx-disabled],[mx-view*="mx-slider/range"][mx-view*="disabled=true"]{cursor:not-allowed}[mx-view*="mx-slider/index"][mx-disabled] ._zs_galleryjz ._zs_galleryjA,[mx-view*="mx-slider/index"][mx-view*="disabled=true"] ._zs_galleryjz ._zs_galleryjA,[mx-view*="mx-slider/range"][mx-disabled] ._zs_galleryjz ._zs_galleryjA,[mx-view*="mx-slider/range"][mx-view*="disabled=true"] ._zs_galleryjz ._zs_galleryjA{background-color:#ccc;opacity:.8}[mx-view*="mx-slider/index"][mx-disabled] ._zs_galleryjz ._zs_galleryjB,[mx-view*="mx-slider/index"][mx-disabled] ._zs_galleryjz ._zs_galleryjB:before,[mx-view*="mx-slider/index"][mx-view*="disabled=true"] ._zs_galleryjz ._zs_galleryjB,[mx-view*="mx-slider/index"][mx-view*="disabled=true"] ._zs_galleryjz ._zs_galleryjB:before,[mx-view*="mx-slider/range"][mx-disabled] ._zs_galleryjz ._zs_galleryjB,[mx-view*="mx-slider/range"][mx-disabled] ._zs_galleryjz ._zs_galleryjB:before,[mx-view*="mx-slider/range"][mx-view*="disabled=true"] ._zs_galleryjz ._zs_galleryjB,[mx-view*="mx-slider/range"][mx-view*="disabled=true"] ._zs_galleryjz ._zs_galleryjB:before{background-color:#ccc}._zs_galleryjz{display:inline-block;height:var(--slider-size);position:relative;border-radius:calc(var(--slider-size)/2);background:#f0f0f0}._zs_galleryjz ._zs_galleryjC{width:var(--slider-size);border-radius:50%;background-color:#ccc;margin-left:calc(var(--slider-size)/-2)}._zs_galleryjz ._zs_galleryjC,._zs_galleryjz ._zs_galleryjA{position:absolute;top:0;left:0;height:var(--slider-size)}._zs_galleryjz ._zs_galleryjA{background-color:var(--color-brand);opacity:.3;border-radius:calc(var(--slider-size)/2)}._zs_galleryjz ._zs_galleryjB{top:-1px;width:calc(var(--slider-size) + 2px);height:calc(var(--slider-size) + 2px);margin-left:calc((var(--slider-size) + -2px)/-2);outline:0}._zs_galleryjz ._zs_galleryjB,._zs_galleryjz ._zs_galleryjB:before{position:absolute;border-radius:50%;background-color:var(--color-brand)}._zs_galleryjz ._zs_galleryjB:before{content:" ";top:-4px;left:-4px;width:calc(var(--slider-size) + 10px);height:calc(var(--slider-size) + 10px);opacity:.3}._zs_galleryjz ._zs_galleryjD,._zs_galleryjz ._zs_galleryjE,._zs_galleryjz ._zs_galleryjF,._zs_galleryjz ._zs_galleryjG{position:absolute;font-size:var(--font-size);pointer-events:none;line-height:var(--slider-line-height);white-space:nowrap}._zs_galleryjz ._zs_galleryjE{top:calc(0px - var(--slider-line-height) - var(--slider-margin))}._zs_galleryjz ._zs_galleryjD{top:calc(var(--slider-size) + var(--slider-margin));left:0;padding:0 2px}._zs_galleryjz ._zs_galleryjF,._zs_galleryjz ._zs_galleryjG{width:50%;top:calc(var(--slider-size) + var(--slider-margin));text-align:center}._zs_galleryjz ._zs_galleryjG{left:-25%}._zs_galleryjz ._zs_galleryjF{left:75%}._zs_galleryjH{margin-left:3px;color:#999}[mx-view*="mx-slider/index"][mx-view*="vertical=true"] ._zs_galleryjz,[mx-view*="mx-slider/range"][mx-view*="vertical=true"] ._zs_galleryjz{width:var(--slider-size);left:calc(var(--slider-size)*2)}[mx-view*="mx-slider/index"][mx-view*="vertical=true"] ._zs_galleryjz ._zs_galleryjC,[mx-view*="mx-slider/range"][mx-view*="vertical=true"] ._zs_galleryjz ._zs_galleryjC{top:auto;margin-left:0;margin-top:calc(var(--slider-size)/-2)}[mx-view*="mx-slider/index"][mx-view*="vertical=true"] ._zs_galleryjz ._zs_galleryjA,[mx-view*="mx-slider/range"][mx-view*="vertical=true"] ._zs_galleryjz ._zs_galleryjA{top:auto;width:var(--slider-size);height:auto;bottom:0}[mx-view*="mx-slider/index"][mx-view*="vertical=true"] ._zs_galleryjz ._zs_galleryjB,[mx-view*="mx-slider/range"][mx-view*="vertical=true"] ._zs_galleryjz ._zs_galleryjB{top:auto;left:-1px;margin-left:0;margin-bottom:calc((var(--slider-size) + -2px)/-2)}[mx-view*="mx-slider/index"][mx-view*="vertical=true"] ._zs_galleryjz ._zs_galleryjE,[mx-view*="mx-slider/range"][mx-view*="vertical=true"] ._zs_galleryjz ._zs_galleryjE{top:auto;right:calc(var(--slider-size) + var(--slider-size))}[mx-view*="mx-slider/index"][mx-view*="vertical=true"] ._zs_galleryjz ._zs_galleryjD,[mx-view*="mx-slider/range"][mx-view*="vertical=true"] ._zs_galleryjz ._zs_galleryjD{top:auto;left:calc(var(--slider-size) + var(--slider-size));margin-top:calc(var(--slider-line-height)/-2)}[mx-view*="mx-slider/index"][mx-view*="vertical=true"] ._zs_galleryjz ._zs_galleryjG,[mx-view*="mx-slider/range"][mx-view*="vertical=true"] ._zs_galleryjz ._zs_galleryjG{top:auto;right:auto;bottom:0;left:calc(var(--slider-size) + var(--slider-size));width:auto;margin-bottom:calc(var(--slider-line-height)/-2)}[mx-view*="mx-slider/index"][mx-view*="vertical=true"] ._zs_galleryjz ._zs_galleryjF,[mx-view*="mx-slider/range"][mx-view*="vertical=true"] ._zs_galleryjz ._zs_galleryjF{top:0;right:auto;bottom:auto;left:calc(var(--slider-size) + var(--slider-size));width:auto;margin-top:calc(var(--slider-line-height)/-2)}');r.default=a.extend({tmpl:function(e,r,l,_,i,a,t,s){if(l||(l=e),!i){var d={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},n=/[&<>"'`]/g,g=function(e){return"&"+d[e]+";"};i=function(e){return""+(null==e?"":e)},_=function(e){return i(e).replace(n,g)}}if(!a){var o={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},v=function(e){return o[e]},x=/[!')(*]/g;a=function(e){return encodeURIComponent(i(e)).replace(x,v)}}if(!s){var z=/[\\'"]/g;s=function(e){return i(e).replace(z,"\\$&")}}var c="",m=e.vertical,u=e.height,y=e.width,p=e.dots,f=e.viewId,h=e.min,j=e.max;c+='<span class="_zs_galleryjz" mx-contextmenu="'+r+'__M()" style="',c+=m?" height: "+_(u)+"px; ":" width: "+_(y)+"px; ",c+='">';for(var w=0,b=p.length;w<b;w++){var k=p[w];c+='<span class="_zs_galleryjC" style="',c+=m?" top: "+_(100-k.percent)+"%;   ":" left: "+_(k.percent)+"%; ",c+='"></span><span class="_zs_galleryjD" style="',c+=m?" top: "+_(100-k.percent)+"%;   ":" left: "+_(k.percent)+"%; ",c+='">'+_(k.value)+"</span>"}return c+='<span mxs="_zs_galleryej:_" class="_zs_galleryjA"></span><span tabindex="0" mx-keydown="'+r+'__do({start:true})" class="_zs_galleryjB" mx-mousedown="'+r+'__dt({start:true})" id="left_'+_(f)+'"></span><span class="_zs_galleryjE" id="leftl_'+_(f)+'"></span><span tabindex="0" mx-keydown="'+r+'__do()" class="_zs_galleryjB" mx-mousedown="'+r+'__dt({end:true})" id="right_'+_(f)+'"></span><span class="_zs_galleryjE" id="rightl_'+_(f)+'"></span><span mxa="_zs_galleryej:_" class="_zs_galleryjG">'+_(h)+'</span><span mxa="_zs_galleryej:a" class="_zs_galleryjF">'+_(j)+"</span></span>"},mixins:[t],init:function(e){var r=this,l=i("#"+r.id);r.assign(e);var a=function(e){if(!r.__dp&&!r.__n){var i=l.offset(),a=r.__dq(),t=((r.__dj?a.rMax-e.pageY+i.top:e.pageX-i.left)-a.half)/a.max,s=r.__dr(t),d=+r.__dv,n=+r.__dw;Math.abs(d-s)<Math.abs(n-s)?(r.__dx(s),r.__dv=s,r.__D(),_.default.node("left_"+r.id).focus()):(r.__dy(s),r.__dw=s,r.__D(),_.default.node("right_"+r.id).focus())}};l.on("click",a),r.on("destroy",function(){l.off("click",a)}),r.__a=l},assign:function(e){var r=this;r.__cK=+e.width||280,r.__dd=+e.height||280,r.__de=+e.min||0,r.__df=+e.max||100,r.__dg=+e.step||1,r.__n=e.disabled+""=="true"||i("#"+r.id)[0].hasAttribute("mx-disabled"),r.__di=e.showDot+""=="true",r.__dj=e.vertical+""=="true";var l=(e.step||1)+"",_=l.indexOf(".");_=_>=0?l.slice(_+1).length:0,r.__dl=_;var a=e.value;return a?(a=(a+"").split(","),r.__dv=+a[0]||0,r.__dw=+a[1]||0):(r.__dv=r.__de,r.__dw=(r.__de+r.__df)/2),!0},render:function(){var e=this,r=e.__de,l=e.__df,_=e.__dl,a=e.__cK,t=[];if(e.__di)for(var s=e.__dg,d=l-r,n=1;r+s*n<l;)t.push({value:(r+s*n).toFixed(_),percent:s*n/d*100}),n++;e.updater.digest({dots:t,min:r.toFixed(_),max:l.toFixed(_),height:e.__dd,width:a,vertical:e.__dj});var g=t.length;if(g>0){var o=i("#"+e.id+" ._zs_galleryjD");if(!e.__dj){var v=g>0?a/g:a,x=o.outerWidth(),z=0-x/2,c=Math.ceil(x/v);for(n=0;n<o.length;n++){var m=i(o[n]),u=(n+1)%c==0?"inline-block":"none";n+1==o.length&&t[n].percent/100*a+x>=a&&(u="none"),m.css({marginLeft:z,display:u})}}}e.val([e.__dv,e.__dw])},__dq:function(){var e=this,r=e.__a.find("._zs_galleryjz"),l=e.__a.find("._zs_galleryjA"),_=i("#left_"+e.id),a=i("#right_"+e.id),t=e.__dj?r.height():r.width(),s=_.outerWidth()/2,d=t-2*s;return{rail:r,iLeftL:i("#leftl_"+e.id),iRightL:i("#rightl_"+e.id),tracker:l,iLeft:_,iRight:a,left:parseInt(_.css(e.__dj?"bottom":"left"),10),right:parseInt(a.css(e.__dj?"bottom":"left"),10),rMax:t,max:d,half:s}},__dx:function(e){var r=this;e=+e;var l=r.__df,_=r.__de;e>l?e=l:e<_&&(e=_);var i=(e-_)/(l-_);i=((e=r.__dr(i))-_)/(l-_);var a=r.__dq(),t=a.iLeftL;if(t.html(e),r.__dj){var s=t.height()/2;t.css({bottom:100*i+"%","margin-bottom":0-s+"px"}),a.iLeft.css("bottom",100*i+"%"),a.tracker.css("bottom",100*i+"%")}else{s=t.width()/2;t.css({left:100*i+"%","margin-left":0-s+"px"}),a.iLeft.css("left",100*i+"%"),a.tracker.css("left",100*i+"%")}return e},__dy:function(e){var r=this;e=+e;var l=r.__df,_=r.__de;e>l?e=l:e<_&&(e=_);var i=(e-_)/(l-_);i=((e=r.__dr(i))-_)/(l-_);var a=r.__dq(),t=a.iRightL;if(t.html(e),r.__dj){var s=t.height()/2;t.css({bottom:100*i+"%","margin-bottom":0-s+"px"}),a.iRight.css("bottom",100*i+"%"),a.tracker.css("top",100-100*i+"%")}else{s=t.width()/2;t.css({left:100*i+"%","margin-left":0-s+"px"}),a.iRight.css("left",100*i+"%"),a.tracker.css("right",100-100*i+"%")}return e},val:function(e){var r,l=this;if(e){var _=(e+"").split(","),i=+_[0]||0,a=+_[1]||0;i>a&&(i=(r=[a,i])[0],a=r[1]),l.__a.prop("value",[i,a]),i=l.__dx(i),a=l.__dy(a),l.__dv==i&&l.__dw==a||(l.__dv=i,l.__dw=a,l.__D())}return[+l.__dv,+l.__dw]},__dr:function(e){var r=this.__df,l=this.__de,_=this.__dg;return(0===e?l:1===e?r:Math.round((r-l)*e/_)*_+l).toFixed(this.__dl)},__D:function(){var e=(+this.__dv).toFixed(this.__dl),r=(+this.__dw).toFixed(this.__dl),l=[e,r];this.__a.prop("value",l).trigger({type:"change",value:l,start:e,end:r})},__dz:function(e,r){var l=this;e==l.__dv&&r==l.__dw||(l.__dv=e,l.__dw=r,l.__D())},"__dt<mousedown>":function(e){var r=this;if(!r.__n){var l=i(e.eventTarget),a=l.outerWidth(),s=-1;s=r.__dj?l.parent().height()-a:l.parent().width()-a;var d=parseInt(l.css(r.__dj?"bottom":"left"),10),n=r.__dv,g=r.__dw;r.__dn=1,r.dragdrop(e.eventTarget,function(l){t.clear();var i=-1;(i=r.__dj?d+e.pageY-l.pageY:d+l.pageX-e.pageX)<0?i=0:i>s&&(i=s);var a=i/s,o=r.__dr(a),v=+o;if(e.params.end){var x=+r.__dv;v>=x?(r.__dv!=n&&(n=r.__dx(x)),g=r.__dy(o),_.default.node("right_"+r.id).focus()):(r.__dv!=g&&(g=r.__dy(x)),n=r.__dx(o),_.default.node("left_"+r.id).focus())}else{var z=+r.__dw;v<=z?(r.__dw!=g&&(g=r.__dy(z)),n=r.__dx(o),_.default.node("left_"+r.id).focus()):(r.__dw!=n&&(n=r.__dx(z)),g=r.__dy(o),_.default.node("right_"+r.id).focus())}},function(){r.__dz(n,g),r.__dp=!0,setTimeout(r.wrapAsync(function(){delete r.__dp}),20),delete r.__dn})}},"__do<keydown>":function(e){var r,l=this,i=l.__dg;if(!l.__dn&&(37==e.keyCode||40==e.keyCode?(e.preventDefault(),i=-i,r=!0):39!=e.keyCode&&38!=e.keyCode||(e.preventDefault(),r=!0),r)){var a=l.__dv,t=+a,s=l.__dw,d=+s,n=e.params.start;n?t+=i:d+=i,t>d?(n?_.default.node("right_"+l.id).focus():_.default.node("left_"+l.id).focus(),d!=+a&&(a=l.__dx(d)),t!=+s&&(s=l.__dy(t))):n?a=l.__dx(t):s=l.__dy(d),l.__dz(a,s)}},"__M<contextmenu>":function(e){e.preventDefault()}})});