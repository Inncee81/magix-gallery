define("mx-slider/index",["magix","$","../mx-util/view","../mx-dragdrop/index"],(e,l,r)=>{"use strict";l.__esModule=!0;var i=e("magix"),a=e("$"),_=e("../mx-util/view"),s=e("../mx-dragdrop/index");i.default.applyStyle("_zs_galleryau",':root{--slider-size:6px;--slider-input-width:64px;--slider-line-height:18px;--slider-margin:calc(var(--input-small-height)/2 - var(--slider-size))}[mx-view*="mx-slider/index"],[mx-view*="mx-slider/range"]{position:relative;display:inline-block;outline:0;cursor:pointer}[mx-view*="mx-slider/index"] ._zs_galleryjP,[mx-view*="mx-slider/range"] ._zs_galleryjP{position:absolute;top:50%;right:calc(-10px - var(--slider-input-width));width:var(--slider-input-width);margin-top:calc(1px - var(--input-small-height)/2)}[mx-view*="mx-slider/index"][mx-disabled],[mx-view*="mx-slider/index"][mx-view*="disabled=true"],[mx-view*="mx-slider/range"][mx-disabled],[mx-view*="mx-slider/range"][mx-view*="disabled=true"]{cursor:not-allowed}[mx-view*="mx-slider/index"][mx-disabled] ._zs_galleryjQ ._zs_galleryjR,[mx-view*="mx-slider/index"][mx-view*="disabled=true"] ._zs_galleryjQ ._zs_galleryjR,[mx-view*="mx-slider/range"][mx-disabled] ._zs_galleryjQ ._zs_galleryjR,[mx-view*="mx-slider/range"][mx-view*="disabled=true"] ._zs_galleryjQ ._zs_galleryjR{background-color:#ccc;opacity:.8}[mx-view*="mx-slider/index"][mx-disabled] ._zs_galleryjQ ._zs_galleryjS,[mx-view*="mx-slider/index"][mx-disabled] ._zs_galleryjQ ._zs_galleryjS:before,[mx-view*="mx-slider/index"][mx-view*="disabled=true"] ._zs_galleryjQ ._zs_galleryjS,[mx-view*="mx-slider/index"][mx-view*="disabled=true"] ._zs_galleryjQ ._zs_galleryjS:before,[mx-view*="mx-slider/range"][mx-disabled] ._zs_galleryjQ ._zs_galleryjS,[mx-view*="mx-slider/range"][mx-disabled] ._zs_galleryjQ ._zs_galleryjS:before,[mx-view*="mx-slider/range"][mx-view*="disabled=true"] ._zs_galleryjQ ._zs_galleryjS,[mx-view*="mx-slider/range"][mx-view*="disabled=true"] ._zs_galleryjQ ._zs_galleryjS:before{background-color:#ccc}._zs_galleryjQ{display:inline-block;height:var(--slider-size);position:relative;border-radius:calc(var(--slider-size)/2);background:#f0f0f0}._zs_galleryjQ ._zs_galleryjT{width:var(--slider-size);border-radius:50%;background-color:#ccc;margin-left:calc(var(--slider-size)/-2)}._zs_galleryjQ ._zs_galleryjT,._zs_galleryjQ ._zs_galleryjR{position:absolute;top:0;left:0;height:var(--slider-size)}._zs_galleryjQ ._zs_galleryjR{background-color:var(--color-brand);opacity:.3;border-radius:calc(var(--slider-size)/2)}._zs_galleryjQ ._zs_galleryjS{top:-1px;width:calc(var(--slider-size) + 2px);height:calc(var(--slider-size) + 2px);margin-left:calc((var(--slider-size) + -2px)/-2);outline:0}._zs_galleryjQ ._zs_galleryjS,._zs_galleryjQ ._zs_galleryjS:before{position:absolute;border-radius:50%;background-color:var(--color-brand)}._zs_galleryjQ ._zs_galleryjS:before{content:" ";top:-4px;left:-4px;width:calc(var(--slider-size) + 10px);height:calc(var(--slider-size) + 10px);opacity:.3}._zs_galleryjQ ._zs_galleryjU,._zs_galleryjQ ._zs_galleryjV,._zs_galleryjQ ._zs_galleryjW,._zs_galleryjQ ._zs_galleryjX{position:absolute;font-size:var(--font-size);pointer-events:none;line-height:var(--slider-line-height);white-space:nowrap}._zs_galleryjQ ._zs_galleryjV{top:calc(0px - var(--slider-line-height) - var(--slider-margin))}._zs_galleryjQ ._zs_galleryjU{top:calc(var(--slider-size) + var(--slider-margin));left:0;padding:0 2px}._zs_galleryjQ ._zs_galleryjW,._zs_galleryjQ ._zs_galleryjX{width:50%;top:calc(var(--slider-size) + var(--slider-margin));text-align:center}._zs_galleryjQ ._zs_galleryjX{left:-25%}._zs_galleryjQ ._zs_galleryjW{left:75%}._zs_galleryjY{margin-left:3px;color:#999}[mx-view*="mx-slider/index"][mx-view*="vertical=true"] ._zs_galleryjQ,[mx-view*="mx-slider/range"][mx-view*="vertical=true"] ._zs_galleryjQ{width:var(--slider-size);left:calc(var(--slider-size)*2)}[mx-view*="mx-slider/index"][mx-view*="vertical=true"] ._zs_galleryjQ ._zs_galleryjT,[mx-view*="mx-slider/range"][mx-view*="vertical=true"] ._zs_galleryjQ ._zs_galleryjT{top:auto;margin-left:0;margin-top:calc(var(--slider-size)/-2)}[mx-view*="mx-slider/index"][mx-view*="vertical=true"] ._zs_galleryjQ ._zs_galleryjR,[mx-view*="mx-slider/range"][mx-view*="vertical=true"] ._zs_galleryjQ ._zs_galleryjR{top:auto;width:var(--slider-size);height:auto;bottom:0}[mx-view*="mx-slider/index"][mx-view*="vertical=true"] ._zs_galleryjQ ._zs_galleryjS,[mx-view*="mx-slider/range"][mx-view*="vertical=true"] ._zs_galleryjQ ._zs_galleryjS{top:auto;left:-1px;margin-left:0;margin-bottom:calc((var(--slider-size) + -2px)/-2)}[mx-view*="mx-slider/index"][mx-view*="vertical=true"] ._zs_galleryjQ ._zs_galleryjV,[mx-view*="mx-slider/range"][mx-view*="vertical=true"] ._zs_galleryjQ ._zs_galleryjV{top:auto;right:calc(var(--slider-size) + var(--slider-size))}[mx-view*="mx-slider/index"][mx-view*="vertical=true"] ._zs_galleryjQ ._zs_galleryjU,[mx-view*="mx-slider/range"][mx-view*="vertical=true"] ._zs_galleryjQ ._zs_galleryjU{top:auto;left:calc(var(--slider-size) + var(--slider-size));margin-top:calc(var(--slider-line-height)/-2)}[mx-view*="mx-slider/index"][mx-view*="vertical=true"] ._zs_galleryjQ ._zs_galleryjX,[mx-view*="mx-slider/range"][mx-view*="vertical=true"] ._zs_galleryjQ ._zs_galleryjX{top:auto;right:auto;bottom:0;left:calc(var(--slider-size) + var(--slider-size));width:auto;margin-bottom:calc(var(--slider-line-height)/-2)}[mx-view*="mx-slider/index"][mx-view*="vertical=true"] ._zs_galleryjQ ._zs_galleryjW,[mx-view*="mx-slider/range"][mx-view*="vertical=true"] ._zs_galleryjQ ._zs_galleryjW{top:0;right:auto;bottom:auto;left:calc(var(--slider-size) + var(--slider-size));width:auto;margin-top:calc(var(--slider-line-height)/-2)}');l.default=_.extend({tmpl:function(e,l,r,i,a,_,s,t){if(r||(r=e),!a){var d={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},n=/[&<>"'`]/g,g=function(e){return"&"+d[e]+";"};a=function(e){return""+(null==e?"":e)},i=function(e){return a(e).replace(n,g)}}if(!_){var o={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},v=function(e){return o[e]},m=/[!')(*]/g;_=function(e){return encodeURIComponent(a(e)).replace(m,v)}}if(!t){var x=/[\\'"]/g;t=function(e){return a(e).replace(x,"\\$&")}}var c="",u=e.vertical,p=e.height,z=e.width,y=e.dots,j=e.min,h=e.max,w=e.needInput,f=e.viewId,b=e.disabled;c+='<span class="_zs_galleryjQ" mx-contextmenu="'+l+'__M()" mx-click="'+l+'__dv()" mx-keydown="'+l+'__dr()" style="',c+=u?" height: "+i(p)+"px; ":" width: "+i(z)+"px; ",c+='">';for(var Q=0,k=y.length;Q<k;Q++){var S=y[Q];c+='<span class="_zs_galleryjT" style="',c+=u?" top: "+i(100-S.percent)+"%;  ":" left: "+i(S.percent)+"%; ",c+='"></span><span class="_zs_galleryjU" style="',c+=u?" top: "+i(100-S.percent)+"%;  ":" left: "+i(S.percent)+"%; ",c+='">'+i(S.value)+"</span>"}return c+='<span mxs="_zs_galleryev:_" class="_zs_galleryjR"></span><span mxs="_zs_galleryev:a" class="_zs_galleryjS" mx-mousedown="'+l+'__dw()"></span><span mxs="_zs_galleryev:b" class="_zs_galleryjV"></span><span mxa="_zs_galleryev:_" class="_zs_galleryjX">'+i(j)+'</span><span mxa="_zs_galleryev:a" class="_zs_galleryjW">'+i(h)+"</span></span>",w&&(c+='<input class="input input-small _zs_galleryjP" id="'+i(f)+'_input" ',b&&(c+=' disabled="true" '),c+=' mx-keyup="'+l+'__aC()" mx-change="'+l+'__p()" mx-focusout="'+l+'__ct()"/>'),c},mixins:[s],init:function(e){this.assign(e),this.__a=a("#"+this.id)},assign:function(e){var l=this;l.__cN=+e.width||280,l.__dg=+e.height||280,l.__dh=+e.min||0,l.__di=+e.max||100,l.__dj=+e.step||1,l.__dk=e.tip||"",l.__n=e.disabled+""=="true"||a("#"+l.id)[0].hasAttribute("mx-disabled"),l.__dl=e.showDot+""=="true",l.__dm=e.vertical+""=="true",l.__dn=e.needInput+""=="true"&&!l.__dm;var r,i=(e.step||1)+"",_=i.indexOf(".");return _=_>=0?i.slice(_+1).length:0,l.__do=_,r=e.value?+e.value:(l.__di+l.__dh)/2,l.__dp=r,!0},render:function(){var e=this,l=e.__dh,r=e.__di,i=e.__do,_=e.__cN,s=[];if(e.__dl)for(var t=e.__dj,d=r-l,n=1;l+t*n<r;)s.push({value:(l+t*n).toFixed(i),percent:t*n/d*100}),n++;e.updater.digest({dots:s,min:l.toFixed(i),max:r.toFixed(i),width:_,height:e.__dg,vertical:e.__dm,needInput:e.__dn,disabled:e.__n});var g=s.length;if(g>0){var o=a("#"+e.id+" ._zs_galleryjU");if(!e.__dm){var v=g>0?_/g:_,m=o.outerWidth(),x=0-m/2,c=Math.ceil(m/v);for(n=0;n<o.length;n++){var u=a(o[n]),p=(n+1)%c==0?"inline-block":"none";n+1==o.length&&s[n].percent/100*_+m>=_&&(p="none"),u.css({marginLeft:x,display:p})}}}e.val(e.__dp)},"__dr<keydown>":function(e){var l=this;if(!l.__dq)if(37==e.keyCode||40==e.keyCode){e.preventDefault();var r=+l.__dp;r-=l.__dj,l.val(r)}else if(39==e.keyCode||38==e.keyCode){e.preventDefault();r=+l.__dp;r+=l.__dj,l.val(r)}},"__dv<click>":function(e){var l=this;if(!l.__ds&&!l.__n){var r=l.__a.find("._zs_galleryjQ").offset(),i=l.__dt(),a=((l.__dm?i.rMax-e.pageY+r.top:e.pageX-r.left)-i.half)/i.max,_=l.__du(a);l.val(_)}},__dt:function(){var e=this,l=e.__a.find("._zs_galleryjQ"),r=e.__a.find("._zs_galleryjR"),i=e.__a.find("._zs_galleryjS"),a=e.__a.find("._zs_galleryjV"),_=e.__a.find("._zs_galleryjP"),s=i.outerWidth()/2,t=e.__dm?l.height():l.width();return{rail:l,pLabel:a,inputArea:_,tracker:r,indicator:i,rMax:t,max:t-2*s,half:s}},val:function(e,l){var r=this,i=+e;if(i||0===i){var a=r.__di,_=r.__dh;i>a?i=a:i<_&&(i=_);var s=(i-_)/(a-_);s=((e=r.__du(s))-_)/(a-_);var t=r.__dt(),d=t.pLabel;if(d.html(e+(r.__dk?'<span class="_zs_galleryjY">'+r.__dk+"</span>":"")),t.inputArea&&t.inputArea.length&&t.inputArea.val(e),r.__dm){var n=d.height()/2;d.css({bottom:100*s+"%","margin-bottom":0-n+"px"}),t.indicator.css("bottom",100*s+"%"),t.tracker.css("height",100*s+"%")}else{n=d.width()/2;d.css({left:100*s+"%","margin-left":0-n+"px"}),t.indicator.css("left",100*s+"%"),t.tracker.css("width",100*s+"%")}l||(r.__dp!=e&&r.__D(e),r.__dp=e)}return r.__a.val(+r.__dp),+r.__dp},__du:function(e){var l=this.__di,r=this.__dh,i=this.__dj;return(0===e?r:1===e?l:Math.round((l-r)*e/i)*i+r).toFixed(this.__do)},__D:function(e){var l=(+e).toFixed(this.__do);this.__a.val(l).trigger({type:"change",value:l})},"__dw<mousedown>":function(e){var l=this;if(!l.__n){var r=a(e.eventTarget),i=r.outerWidth(),_=-1;_=l.__dm?r.parent().height()-i:r.parent().width()-i;var t=parseInt(r.css(l.__dm?"bottom":"left"),10),d=l.__dp;l.__dq=1,l.dragdrop(e.eventTarget,function(r){s.clear();var i=-1;(i=l.__dm?t+e.pageY-r.pageY:t+r.pageX-e.pageX)<0?i=0:i>_&&(i=_);var a=i/_;l.val(d=l.__du(a),!0)},function(){l.__dp!=d&&(l.__dp=d,l.__D(d)),l.__ds=!0,setTimeout(l.wrapAsync(function(){delete l.__ds}),20),delete l.__dq})}},"__p<change>":function(e){e.stopPropagation()},"__aC<keyup>":function(e){var l=this;e.stopPropagation(),clearTimeout(l.__dx);var r=a.trim(e.eventTarget.value);l.__dx=setTimeout(l.wrapAsync(function(){a.isNumeric(r)&&l.val(r)}),400)},"__ct<focusout>":function(e){e.stopPropagation(),clearTimeout(this.__dx);var l=a.trim(e.eventTarget.value);a.isNumeric(l)&&this.val(l)},"__M<contextmenu>":function(e){e.preventDefault()}})});