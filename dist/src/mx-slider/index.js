define("mx-slider/index",["magix","$","../mx-util/view","../mx-dragdrop/index"],(e,l,_)=>{"use strict";l.__esModule=!0;var r=e("magix"),a=e("$"),i=e("../mx-util/view"),t=e("../mx-dragdrop/index");r.default.applyStyle("_zs_galleryau",'[mx-view*="mx-slider/index"],[mx-view*="mx-slider/range"]{position:relative;display:inline-block;outline:0;cursor:pointer}[mx-view*="mx-slider/index"] ._zs_galleryjy,[mx-view*="mx-slider/range"] ._zs_galleryjy{position:absolute;top:0;right:-74px;width:64px}[mx-view*="mx-slider/index"][mx-disabled],[mx-view*="mx-slider/index"][mx-view*="disabled=true"],[mx-view*="mx-slider/range"][mx-disabled],[mx-view*="mx-slider/range"][mx-view*="disabled=true"]{cursor:not-allowed}[mx-view*="mx-slider/index"][mx-disabled] ._zs_galleryjz ._zs_galleryjA ._zs_galleryjB,[mx-view*="mx-slider/index"][mx-view*="disabled=true"] ._zs_galleryjz ._zs_galleryjA ._zs_galleryjB,[mx-view*="mx-slider/range"][mx-disabled] ._zs_galleryjz ._zs_galleryjA ._zs_galleryjB,[mx-view*="mx-slider/range"][mx-view*="disabled=true"] ._zs_galleryjz ._zs_galleryjA ._zs_galleryjB{background-color:#ccc;opacity:.8}[mx-view*="mx-slider/index"][mx-disabled] ._zs_galleryjz ._zs_galleryjA ._zs_galleryjC,[mx-view*="mx-slider/index"][mx-disabled] ._zs_galleryjz ._zs_galleryjA ._zs_galleryjC:before,[mx-view*="mx-slider/index"][mx-view*="disabled=true"] ._zs_galleryjz ._zs_galleryjA ._zs_galleryjC,[mx-view*="mx-slider/index"][mx-view*="disabled=true"] ._zs_galleryjz ._zs_galleryjA ._zs_galleryjC:before,[mx-view*="mx-slider/range"][mx-disabled] ._zs_galleryjz ._zs_galleryjA ._zs_galleryjC,[mx-view*="mx-slider/range"][mx-disabled] ._zs_galleryjz ._zs_galleryjA ._zs_galleryjC:before,[mx-view*="mx-slider/range"][mx-view*="disabled=true"] ._zs_galleryjz ._zs_galleryjA ._zs_galleryjC,[mx-view*="mx-slider/range"][mx-view*="disabled=true"] ._zs_galleryjz ._zs_galleryjA ._zs_galleryjC:before{background-color:#ccc}._zs_galleryjz{line-height:var(--input-small-height)}._zs_galleryjA{display:inline-block;height:6px;position:relative;border-radius:3px;background:#f0f0f0;top:-3px}._zs_galleryjA ._zs_galleryjD{width:6px;border-radius:50%;background-color:#ccc;margin-left:-3px}._zs_galleryjA ._zs_galleryjD,._zs_galleryjA ._zs_galleryjB{position:absolute;top:0;left:0;height:6px}._zs_galleryjA ._zs_galleryjB{background-color:var(--color-brand);opacity:.3;border-radius:3px}._zs_galleryjA ._zs_galleryjC{top:-1px;width:8px;height:8px;margin-left:-4px;outline:0}._zs_galleryjA ._zs_galleryjC,._zs_galleryjA ._zs_galleryjC:before{position:absolute;border-radius:50%;background-color:var(--color-brand)}._zs_galleryjA ._zs_galleryjC:before{content:" ";top:-4px;left:-4px;width:16px;height:16px;opacity:.3}._zs_galleryjA ._zs_galleryjE,._zs_galleryjA ._zs_galleryjF,._zs_galleryjA ._zs_galleryjG,._zs_galleryjA ._zs_galleryjH{position:absolute;font-size:var(--font-size);pointer-events:none;line-height:16px;white-space:nowrap}._zs_galleryjA ._zs_galleryjF{top:-22px}._zs_galleryjA ._zs_galleryjE,._zs_galleryjA ._zs_galleryjH{top:12px;left:0}._zs_galleryjA ._zs_galleryjG{top:12px;right:0}._zs_galleryjI{margin-left:3px;color:#999}[mx-view*="mx-slider/index"][mx-view*="vertical=true"] ._zs_galleryjA,[mx-view*="mx-slider/range"][mx-view*="vertical=true"] ._zs_galleryjA{width:6px;left:12px}[mx-view*="mx-slider/index"][mx-view*="vertical=true"] ._zs_galleryjA ._zs_galleryjD,[mx-view*="mx-slider/range"][mx-view*="vertical=true"] ._zs_galleryjA ._zs_galleryjD{top:auto;margin-left:0;margin-top:-3px}[mx-view*="mx-slider/index"][mx-view*="vertical=true"] ._zs_galleryjA ._zs_galleryjB,[mx-view*="mx-slider/range"][mx-view*="vertical=true"] ._zs_galleryjA ._zs_galleryjB{top:auto;width:6px;height:auto;bottom:0}[mx-view*="mx-slider/index"][mx-view*="vertical=true"] ._zs_galleryjA ._zs_galleryjC,[mx-view*="mx-slider/range"][mx-view*="vertical=true"] ._zs_galleryjA ._zs_galleryjC{top:auto;left:-1px;margin-left:0;margin-bottom:-4px}[mx-view*="mx-slider/index"][mx-view*="vertical=true"] ._zs_galleryjA ._zs_galleryjF,[mx-view*="mx-slider/range"][mx-view*="vertical=true"] ._zs_galleryjA ._zs_galleryjF{top:auto;right:17px}[mx-view*="mx-slider/index"][mx-view*="vertical=true"] ._zs_galleryjA ._zs_galleryjE,[mx-view*="mx-slider/range"][mx-view*="vertical=true"] ._zs_galleryjA ._zs_galleryjE{top:auto;left:17px;margin-top:-8px}[mx-view*="mx-slider/index"][mx-view*="vertical=true"] ._zs_galleryjA ._zs_galleryjH,[mx-view*="mx-slider/range"][mx-view*="vertical=true"] ._zs_galleryjA ._zs_galleryjH{top:auto;right:auto;bottom:0;left:17px;margin-bottom:-3px}[mx-view*="mx-slider/index"][mx-view*="vertical=true"] ._zs_galleryjA ._zs_galleryjG,[mx-view*="mx-slider/range"][mx-view*="vertical=true"] ._zs_galleryjA ._zs_galleryjG{top:0;right:auto;bottom:auto;left:17px;margin-top:-3px}');l.default=i.extend({tmpl:function(e,l,_,r,a,i,t,s){if(_||(_=e),!a){var d={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},n=/[&<>"'`]/g,g=function(e){return"&"+d[e]+";"};a=function(e){return""+(null==e?"":e)},r=function(e){return a(e).replace(n,g)}}if(!i){var x={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},o=function(e){return x[e]},m=/[!')(*]/g;i=function(e){return encodeURIComponent(a(e)).replace(m,o)}}if(!s){var p=/[\\'"]/g;s=function(e){return a(e).replace(p,"\\$&")}}var y="",v=e.vertical,u=e.height,z=e.width,c=e.dots,j=e.min,f=e.max,h=e.needInput,w=e.viewId,b=e.disabled;y+='<div mxa="_zs_galleryef:_" class="_zs_galleryjz"><span class="_zs_galleryjA" mx-contextmenu="'+l+'__M()" style="',y+=v?" height: "+r(u)+"px; ":" width: "+r(z)+"px; ",y+='">';for(var A=0,k=c.length;A<k;A++){var C=c[A];y+='<span class="_zs_galleryjD" style="',y+=v?" top: "+r(100-C.percent)+"%;  ":" left: "+r(C.percent)+"%; ",y+='"></span><span class="_zs_galleryjE" style="',y+=v?" top: "+r(100-C.percent)+"%;  ":" left: "+r(C.percent)+"%; ",y+='">'+r(C.value)+"</span>"}return y+='<span mxs="_zs_galleryef:_" class="_zs_galleryjB"></span><span mxs="_zs_galleryef:a" class="_zs_galleryjC" mx-mousedown="'+l+'__ds()"></span><span mxs="_zs_galleryef:b" class="_zs_galleryjF"></span><span mxa="_zs_galleryef:a" class="_zs_galleryjH">'+r(j)+'</span><span mxa="_zs_galleryef:b" class="_zs_galleryjG">'+r(f)+"</span></span></div>",h&&(y+='<input class="input input-small _zs_galleryjy" id="'+r(w)+'_input" ',b&&(y+=' disabled="true" '),y+=' mx-keyup="'+l+'__az()" mx-focusout="'+l+'__cr()"/>'),y},mixins:[t],init:function(e){this.assign(e),this.__a=a("#"+this.id)},assign:function(e){var l=this;l.__cK=+e.width||280,l.__dd=+e.height||280,l.__de=+e.min||0,l.__df=+e.max||100,l.__dg=+e.step||1,l.__dh=e.tip||"",l.__n=e.disabled+""=="true"||a("#"+l.id)[0].hasAttribute("mx-disabled"),l.__di=e.showDot+""=="true",l.__dj=e.vertical+""=="true",l.__dk=e.needInput+""=="true"&&!l.__dj;var _,r=l.__dg+"",i=r.indexOf(".");return i=i>=0?r.slice(i+1).length:0,l.__dl=i,_=e.value?+e.value:(l.__df+l.__de)/2,l.__dm=_,!0},render:function(){var e=this,l=e.__de,_=e.__df,r=e.__dl,i=[];if(e.__di)for(var t=e.__dg,s=_-l,d=Math.floor((_-l-1)/t),n=1;n<=d;n++)i.push({value:(l+t*n).toFixed(r),percent:t*n/s*100});if(e.updater.digest({dots:i,min:l.toFixed(r),max:_.toFixed(r),width:e.__cK,height:e.__dd,vertical:e.__dj,needInput:e.__dk,disabled:e.__n}),i.length>0){var g=a("#"+e.id+" ._zs_galleryjE");e.__dj||g.css({marginLeft:0-g.outerWidth()/2})}e.val(e.__dm);var x=e.__a.find("._zs_galleryjz");e.__dn=x;var o=function(l){if(!e.__do&&!e.__n){var _=x.offset(),r=e.__dp(),a=((e.__dj?r.rMax-l.pageY+_.top:l.pageX-_.left)-r.half)/r.max,i=e.__dq(a);e.val(i)}},m=function(l){if(!e.__dr)if(37==l.keyCode||40==l.keyCode){l.preventDefault();var _=+e.__dm;_-=e.__dg,e.val(_)}else if(39==l.keyCode||38==l.keyCode){l.preventDefault();_=+e.__dm;_+=e.__dg,e.val(_)}};x.on("click",o),x.on("keydown",m),e.on("destroy",function(){x.off("click",o),x.off("keydown",m)})},__dp:function(){var e=this,l=e.__a.find("._zs_galleryjA"),_=e.__a.find("._zs_galleryjB"),r=e.__a.find("._zs_galleryjC"),a=e.__a.find("._zs_galleryjF"),i=e.__a.find("._zs_galleryjy"),t=r.outerWidth()/2,s=e.__dj?l.height():l.width();return{rail:l,pLabel:a,inputArea:i,tracker:_,indicator:r,rMax:s,max:s-2*t,half:t}},val:function(e,l){var _=this,r=+e;if(r||0===r){var a=_.__df,i=_.__de;r>a?r=a:r<i&&(r=i);var t=(r-i)/(a-i);t=((e=_.__dq(t))-i)/(a-i);var s=_.__dp(),d=s.pLabel;d.html(e+(_.__dh?'<span class="_zs_galleryjI">'+_.__dh+"</span>":"")),s.inputArea&&s.inputArea.length&&s.inputArea.val(e);var n=s.rMax*t;if(_.__dj){n-(g=d.height()/2)<0?n=-3:n+g>s.rMax?n=s.rMax-2*g+3:n-=g,d.css("bottom",n+"px"),s.indicator.css("bottom",100*t+"%"),s.tracker.css("height",100*t+"%")}else{var g;n<(g=d.width()/2)?n=0:n+g>s.rMax?n=s.rMax-2*g:n-=g,d.css("left",n+"px"),s.indicator.css("left",100*t+"%"),s.tracker.css("width",100*t+"%")}l||(_.__dm!=e&&_.__D(e),_.__dm=e)}return _.__a.prop("value",+_.__dm),+_.__dm},__dq:function(e){var l=this.__df,_=this.__de,r=this.__dg;return(0===e?_:1===e?l:Math.round((l-_)*e/r)*r+_).toFixed(this.__dl)},__D:function(e){var l=(+e).toFixed(this.__dl);this.__a.prop("value",l).trigger({type:"change",value:l})},"__ds<mousedown>":function(e){var l=this;if(!l.__n){var _=a(e.eventTarget),r=_.outerWidth(),i=-1;i=l.__dj?_.parent().height()-r:_.parent().width()-r;var s=parseInt(_.css(l.__dj?"bottom":"left"),10),d=l.__dm;l.__dr=1,l.dragdrop(e.eventTarget,function(_){t.clear();var r=-1;(r=l.__dj?s+e.pageY-_.pageY:s+_.pageX-e.pageX)<0?r=0:r>i&&(r=i);var a=r/i;l.val(d=l.__dq(a),!0)},function(){l.__dm!=d&&(l.__dm=d,l.__D(d)),l.__do=!0,setTimeout(l.wrapAsync(function(){delete l.__do}),20),delete l.__dr})}},"__az<keyup>":function(e){var l=this;e.stopPropagation(),clearTimeout(l.__dt);var _=a.trim(e.eventTarget.value);l.__dt=setTimeout(l.wrapAsync(function(){a.isNumeric(_)&&l.val(_)}),400)},"__cr<focusout>":function(e){e.stopPropagation();var l=a.trim(e.eventTarget.value);a.isNumeric(l)&&this.val(l)},"__M<contextmenu>":function(e){e.preventDefault()}})});