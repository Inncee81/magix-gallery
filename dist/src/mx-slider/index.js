define("mx-slider/index",["magix","$","../mx-util/view","../mx-dragdrop/index"],(e,l,r)=>{"use strict";l.__esModule=!0;var i=e("magix"),a=e("$"),_=e("../mx-util/view"),s=e("../mx-dragdrop/index");i.default.applyStyle("_zs_galleryau",':root{--slider-size:6px;--slider-input-width:64px;--slider-line-height:18px;--slider-margin:calc(var(--input-small-height)/2 - var(--slider-size))}[mx-view*="mx-slider/index"],[mx-view*="mx-slider/range"]{position:relative;display:inline-block;outline:0;cursor:pointer}[mx-view*="mx-slider/index"] ._zs_galleryjy,[mx-view*="mx-slider/range"] ._zs_galleryjy{position:absolute;top:50%;right:calc(-10px - var(--slider-input-width));width:var(--slider-input-width);margin-top:calc(1px - var(--input-small-height)/2)}[mx-view*="mx-slider/index"][mx-disabled],[mx-view*="mx-slider/index"][mx-view*="disabled=true"],[mx-view*="mx-slider/range"][mx-disabled],[mx-view*="mx-slider/range"][mx-view*="disabled=true"]{cursor:not-allowed}[mx-view*="mx-slider/index"][mx-disabled] ._zs_galleryjz ._zs_galleryjA,[mx-view*="mx-slider/index"][mx-view*="disabled=true"] ._zs_galleryjz ._zs_galleryjA,[mx-view*="mx-slider/range"][mx-disabled] ._zs_galleryjz ._zs_galleryjA,[mx-view*="mx-slider/range"][mx-view*="disabled=true"] ._zs_galleryjz ._zs_galleryjA{background-color:#ccc;opacity:.8}[mx-view*="mx-slider/index"][mx-disabled] ._zs_galleryjz ._zs_galleryjB,[mx-view*="mx-slider/index"][mx-disabled] ._zs_galleryjz ._zs_galleryjB:before,[mx-view*="mx-slider/index"][mx-view*="disabled=true"] ._zs_galleryjz ._zs_galleryjB,[mx-view*="mx-slider/index"][mx-view*="disabled=true"] ._zs_galleryjz ._zs_galleryjB:before,[mx-view*="mx-slider/range"][mx-disabled] ._zs_galleryjz ._zs_galleryjB,[mx-view*="mx-slider/range"][mx-disabled] ._zs_galleryjz ._zs_galleryjB:before,[mx-view*="mx-slider/range"][mx-view*="disabled=true"] ._zs_galleryjz ._zs_galleryjB,[mx-view*="mx-slider/range"][mx-view*="disabled=true"] ._zs_galleryjz ._zs_galleryjB:before{background-color:#ccc}._zs_galleryjz{display:inline-block;height:var(--slider-size);position:relative;border-radius:calc(var(--slider-size)/2);background:#f0f0f0}._zs_galleryjz ._zs_galleryjC{width:var(--slider-size);border-radius:50%;background-color:#ccc;margin-left:calc(var(--slider-size)/-2)}._zs_galleryjz ._zs_galleryjC,._zs_galleryjz ._zs_galleryjA{position:absolute;top:0;left:0;height:var(--slider-size)}._zs_galleryjz ._zs_galleryjA{background-color:var(--color-brand);opacity:.3;border-radius:calc(var(--slider-size)/2)}._zs_galleryjz ._zs_galleryjB{top:-1px;width:calc(var(--slider-size) + 2px);height:calc(var(--slider-size) + 2px);margin-left:calc((var(--slider-size) + -2px)/-2);outline:0}._zs_galleryjz ._zs_galleryjB,._zs_galleryjz ._zs_galleryjB:before{position:absolute;border-radius:50%;background-color:var(--color-brand)}._zs_galleryjz ._zs_galleryjB:before{content:" ";top:-4px;left:-4px;width:calc(var(--slider-size) + 10px);height:calc(var(--slider-size) + 10px);opacity:.3}._zs_galleryjz ._zs_galleryjD,._zs_galleryjz ._zs_galleryjE,._zs_galleryjz ._zs_galleryjF,._zs_galleryjz ._zs_galleryjG{position:absolute;font-size:var(--font-size);pointer-events:none;line-height:var(--slider-line-height);white-space:nowrap}._zs_galleryjz ._zs_galleryjE{top:calc(0px - var(--slider-line-height) - var(--slider-margin))}._zs_galleryjz ._zs_galleryjD{top:calc(var(--slider-size) + var(--slider-margin));left:0;padding:0 2px}._zs_galleryjz ._zs_galleryjF,._zs_galleryjz ._zs_galleryjG{width:50%;top:calc(var(--slider-size) + var(--slider-margin));text-align:center}._zs_galleryjz ._zs_galleryjG{left:-25%}._zs_galleryjz ._zs_galleryjF{left:75%}._zs_galleryjH{margin-left:3px;color:#999}[mx-view*="mx-slider/index"][mx-view*="vertical=true"] ._zs_galleryjz,[mx-view*="mx-slider/range"][mx-view*="vertical=true"] ._zs_galleryjz{width:var(--slider-size);left:calc(var(--slider-size)*2)}[mx-view*="mx-slider/index"][mx-view*="vertical=true"] ._zs_galleryjz ._zs_galleryjC,[mx-view*="mx-slider/range"][mx-view*="vertical=true"] ._zs_galleryjz ._zs_galleryjC{top:auto;margin-left:0;margin-top:calc(var(--slider-size)/-2)}[mx-view*="mx-slider/index"][mx-view*="vertical=true"] ._zs_galleryjz ._zs_galleryjA,[mx-view*="mx-slider/range"][mx-view*="vertical=true"] ._zs_galleryjz ._zs_galleryjA{top:auto;width:var(--slider-size);height:auto;bottom:0}[mx-view*="mx-slider/index"][mx-view*="vertical=true"] ._zs_galleryjz ._zs_galleryjB,[mx-view*="mx-slider/range"][mx-view*="vertical=true"] ._zs_galleryjz ._zs_galleryjB{top:auto;left:-1px;margin-left:0;margin-bottom:calc((var(--slider-size) + -2px)/-2)}[mx-view*="mx-slider/index"][mx-view*="vertical=true"] ._zs_galleryjz ._zs_galleryjE,[mx-view*="mx-slider/range"][mx-view*="vertical=true"] ._zs_galleryjz ._zs_galleryjE{top:auto;right:calc(var(--slider-size) + var(--slider-size))}[mx-view*="mx-slider/index"][mx-view*="vertical=true"] ._zs_galleryjz ._zs_galleryjD,[mx-view*="mx-slider/range"][mx-view*="vertical=true"] ._zs_galleryjz ._zs_galleryjD{top:auto;left:calc(var(--slider-size) + var(--slider-size));margin-top:calc(var(--slider-line-height)/-2)}[mx-view*="mx-slider/index"][mx-view*="vertical=true"] ._zs_galleryjz ._zs_galleryjG,[mx-view*="mx-slider/range"][mx-view*="vertical=true"] ._zs_galleryjz ._zs_galleryjG{top:auto;right:auto;bottom:0;left:calc(var(--slider-size) + var(--slider-size));width:auto;margin-bottom:calc(var(--slider-line-height)/-2)}[mx-view*="mx-slider/index"][mx-view*="vertical=true"] ._zs_galleryjz ._zs_galleryjF,[mx-view*="mx-slider/range"][mx-view*="vertical=true"] ._zs_galleryjz ._zs_galleryjF{top:0;right:auto;bottom:auto;left:calc(var(--slider-size) + var(--slider-size));width:auto;margin-top:calc(var(--slider-line-height)/-2)}');l.default=_.extend({tmpl:function(e,l,r,i,a,_,s,t){if(r||(r=e),!a){var d={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},n=/[&<>"'`]/g,g=function(e){return"&"+d[e]+";"};a=function(e){return""+(null==e?"":e)},i=function(e){return a(e).replace(n,g)}}if(!_){var o={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},z=function(e){return o[e]},m=/[!')(*]/g;_=function(e){return encodeURIComponent(a(e)).replace(m,z)}}if(!t){var v=/[\\'"]/g;t=function(e){return a(e).replace(v,"\\$&")}}var c="",x=e.vertical,u=e.height,p=e.width,y=e.dots,j=e.min,h=e.max,f=e.needInput,w=e.viewId,b=e.disabled;c+='<span class="_zs_galleryjz" mx-contextmenu="'+l+'__M()" mx-click="'+l+'__ds()" mx-keydown="'+l+'__do()" style="',c+=x?" height: "+i(u)+"px; ":" width: "+i(p)+"px; ",c+='">';for(var k=0,A=y.length;k<A;k++){var B=y[k];c+='<span class="_zs_galleryjC" style="',c+=x?" top: "+i(100-B.percent)+"%;  ":" left: "+i(B.percent)+"%; ",c+='"></span><span class="_zs_galleryjD" style="',c+=x?" top: "+i(100-B.percent)+"%;  ":" left: "+i(B.percent)+"%; ",c+='">'+i(B.value)+"</span>"}return c+='<span mxs="_zs_galleryei:_" class="_zs_galleryjA"></span><span mxs="_zs_galleryei:a" class="_zs_galleryjB" mx-mousedown="'+l+'__dt()"></span><span mxs="_zs_galleryei:b" class="_zs_galleryjE"></span><span mxa="_zs_galleryei:_" class="_zs_galleryjG">'+i(j)+'</span><span mxa="_zs_galleryei:a" class="_zs_galleryjF">'+i(h)+"</span></span>",f&&(c+='<input class="input input-small _zs_galleryjy" id="'+i(w)+'_input" ',b&&(c+=' disabled="true" '),c+=' mx-keyup="'+l+'__az()" mx-change="'+l+'__p()" mx-focusout="'+l+'__cq()"/>'),c},mixins:[s],init:function(e){this.assign(e),this.__a=a("#"+this.id)},assign:function(e){var l=this;l.__cK=+e.width||280,l.__dd=+e.height||280,l.__de=+e.min||0,l.__df=+e.max||100,l.__dg=+e.step||1,l.__dh=e.tip||"",l.__n=e.disabled+""=="true"||a("#"+l.id)[0].hasAttribute("mx-disabled"),l.__di=e.showDot+""=="true",l.__dj=e.vertical+""=="true",l.__dk=e.needInput+""=="true"&&!l.__dj;var r,i=(e.step||1)+"",_=i.indexOf(".");return _=_>=0?i.slice(_+1).length:0,l.__dl=_,r=e.value?+e.value:(l.__df+l.__de)/2,l.__dm=r,!0},render:function(){var e=this,l=e.__de,r=e.__df,i=e.__dl,_=e.__cK,s=[];if(e.__di)for(var t=e.__dg,d=r-l,n=1;l+t*n<r;)s.push({value:(l+t*n).toFixed(i),percent:t*n/d*100}),n++;e.updater.digest({dots:s,min:l.toFixed(i),max:r.toFixed(i),width:_,height:e.__dd,vertical:e.__dj,needInput:e.__dk,disabled:e.__n});var g=s.length;if(g>0){var o=a("#"+e.id+" ._zs_galleryjD");if(!e.__dj){var z=g>0?_/g:_,m=o.outerWidth(),v=0-m/2,c=Math.ceil(m/z);for(n=0;n<o.length;n++){var x=a(o[n]),u=(n+1)%c==0?"inline-block":"none";n+1==o.length&&s[n].percent/100*_+m>=_&&(u="none"),x.css({marginLeft:v,display:u})}}}e.val(e.__dm)},"__do<keydown>":function(e){var l=this;if(!l.__dn)if(37==e.keyCode||40==e.keyCode){e.preventDefault();var r=+l.__dm;r-=l.__dg,l.val(r)}else if(39==e.keyCode||38==e.keyCode){e.preventDefault();r=+l.__dm;r+=l.__dg,l.val(r)}},"__ds<click>":function(e){var l=this;if(!l.__dp&&!l.__n){var r=l.__a.find("._zs_galleryjz").offset(),i=l.__dq(),a=((l.__dj?i.rMax-e.pageY+r.top:e.pageX-r.left)-i.half)/i.max,_=l.__dr(a);l.val(_)}},__dq:function(){var e=this,l=e.__a.find("._zs_galleryjz"),r=e.__a.find("._zs_galleryjA"),i=e.__a.find("._zs_galleryjB"),a=e.__a.find("._zs_galleryjE"),_=e.__a.find("._zs_galleryjy"),s=i.outerWidth()/2,t=e.__dj?l.height():l.width();return{rail:l,pLabel:a,inputArea:_,tracker:r,indicator:i,rMax:t,max:t-2*s,half:s}},val:function(e,l){var r=this,i=+e;if(i||0===i){var a=r.__df,_=r.__de;i>a?i=a:i<_&&(i=_);var s=(i-_)/(a-_);s=((e=r.__dr(s))-_)/(a-_);var t=r.__dq(),d=t.pLabel;if(d.html(e+(r.__dh?'<span class="_zs_galleryjH">'+r.__dh+"</span>":"")),t.inputArea&&t.inputArea.length&&t.inputArea.val(e),r.__dj){var n=d.height()/2;d.css({bottom:100*s+"%","margin-bottom":0-n+"px"}),t.indicator.css("bottom",100*s+"%"),t.tracker.css("height",100*s+"%")}else{n=d.width()/2;d.css({left:100*s+"%","margin-left":0-n+"px"}),t.indicator.css("left",100*s+"%"),t.tracker.css("width",100*s+"%")}l||(r.__dm!=e&&r.__D(e),r.__dm=e)}return r.__a.val(+r.__dm),+r.__dm},__dr:function(e){var l=this.__df,r=this.__de,i=this.__dg;return(0===e?r:1===e?l:Math.round((l-r)*e/i)*i+r).toFixed(this.__dl)},__D:function(e){var l=(+e).toFixed(this.__dl);this.__a.val(l).trigger({type:"change",value:l})},"__dt<mousedown>":function(e){var l=this;if(!l.__n){var r=a(e.eventTarget),i=r.outerWidth(),_=-1;_=l.__dj?r.parent().height()-i:r.parent().width()-i;var t=parseInt(r.css(l.__dj?"bottom":"left"),10),d=l.__dm;l.__dn=1,l.dragdrop(e.eventTarget,function(r){s.clear();var i=-1;(i=l.__dj?t+e.pageY-r.pageY:t+r.pageX-e.pageX)<0?i=0:i>_&&(i=_);var a=i/_;l.val(d=l.__dr(a),!0)},function(){l.__dm!=d&&(l.__dm=d,l.__D(d)),l.__dp=!0,setTimeout(l.wrapAsync(function(){delete l.__dp}),20),delete l.__dn})}},"__p<change>":function(e){e.stopPropagation()},"__az<keyup>":function(e){var l=this;e.stopPropagation(),clearTimeout(l.__du);var r=a.trim(e.eventTarget.value);l.__du=setTimeout(l.wrapAsync(function(){a.isNumeric(r)&&l.val(r)}),400)},"__cq<focusout>":function(e){e.stopPropagation(),clearTimeout(this.__du);var l=a.trim(e.eventTarget.value);a.isNumeric(l)&&this.val(l)},"__M<contextmenu>":function(e){e.preventDefault()}})});