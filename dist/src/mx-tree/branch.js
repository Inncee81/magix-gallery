define("mx-tree/branch",["magix","$"],(e,t,r)=>{var i=e("magix"),n=e("$"),l=i.Vframe;i.applyStyle("_zs_galleryaF",':root{--mx-tree-oper-size:calc(var(--font-size) + 2px)}._zs_gallerykR{position:relative;height:32px;line-height:20px;padding-bottom:12px;background-color:#fff;overflow:hidden;transition:height .2s}._zs_gallerykR ._zs_gallerykS{float:left;width:var(--mx-tree-oper-size);height:var(--mx-tree-oper-size);margin-right:5px;line-height:var(--mx-tree-oper-size);font-size:var(--mx-tree-oper-size);color:#ccc;transition:color var(--duration);-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-select:none}._zs_gallerykR ._zs_gallerykT{cursor:pointer}._zs_gallerykR ._zs_gallerykT:hover{color:#666}._zs_gallerykU ._zs_gallerykR{height:0;padding-bottom:0}._zs_gallerykV{position:relative}._zs_gallerykW{padding-left:calc(var(--mx-tree-oper-size) + 5px)}._zs_gallerykX,._zs_gallerykX ._zs_gallerykV{position:relative}._zs_gallerykX ._zs_gallerykV:after{content:"";position:absolute;top:22px;left:calc(var(--mx-tree-oper-size)/2);bottom:2px;width:1px;background-color:var(--color-border)}._zs_gallerykX ._zs_gallerykV:last-child:after{content:none}'),r.exports=i.View.extend({tmpl:function(e,t,r,i,n,l,a,s){if(r||(r=e),!n){var o={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},c=/[&<>"'`]/g,_=function(e){return"&"+o[e]+";"};n=function(e){return""+(null==e?"":e)},i=function(e){return n(e).replace(c,_)}}if(!l){var d={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},g=function(e){return d[e]},h=/[!')(*]/g;l=function(e){return encodeURIComponent(n(e)).replace(h,g)}}if(!s){var p=/[\\'"]/g;s=function(e){return n(e).replace(p,"\\$&")}}a||(a=function(e,t,r,i){for(i=e[u];--i;)if(e[r=u+i]===t)return r;return e[r=u+e[u]++]=t,r});for(var u="",f="",v=e.list,m=e.needExpand,x=e.readOnly,k=e.viewId,y=e.valueKey,z=e.textKey,b=e.closeMap,w=0,V=v.length;w<V;w++){var R=v[w];f+='<div mxv mxa="_zs_galleryft:_" class="_zs_gallerykV"><div mxv mxa="_zs_galleryft:a" class="_zs_gallerykR clearfix">',m&&(f+=" ",R.children&&R.children.length>0?(f+='<i class="mc-iconfont _zs_gallerykS _zs_gallerykT" mx-click="'+t+"__p({index:"+i(w)+'})">',R.close?f+="&#xe65b;":f+="&#xe65a;",f+="</i>"):(f+=" ",x&&(f+='<i mxs="_zs_galleryft:_" class="mc-iconfont _zs_gallerykS">&#xe732;</i>'),f+=" "),f+=" "),f+='<label mxv mxa="_zs_galleryft:b" class="fl">',x||(f+='<input class="checkbox" type="checkbox" id="cb_'+i(k)+"_"+i(w)+'" value="'+i(R[y])+'" name="'+i(k)+'" mx-change="'+t+"__bX({index:"+i(w)+'})"/>'),f+=i(R[z])+"</label></div>",R.children&&R.children.length>0&&(f+='<div mxv="readOnly,needExpand,list,closeMap" id="'+i(k)+"_"+i(w)+'" class="',R.close&&(f+=" _zs_gallerykU "),f+=" ",R.isAll||(f+=" _zs_gallerykW "),f+='" mx-view="mx-tree/branch?textKey='+l(z)+"&valueKey="+l(y)+"&readOnly="+a(r,x)+"&needExpand="+a(r,m)+"&list="+a(r,R.children)+"&closeMap="+a(r,b)+'"></div>'),f+="</div>"}return f},init:function(e){this.updater.set(e)},render:function(){this.updater.digest({viewId:this.id})},__fl:function(){var e,t,r=this.id;return n("#"+r+' input[name="'+r+'"]').each(function(r,i){i.indeterminate?e=t=!0:i.checked?e=!0:t=!0}),e&&t?3:e?2:1},__fm:function(e){var t=this.owner.parent(),r=0;if(t){for(var i=t.children(),a=0;a<i.length;a++)if(i[a]==e){var s=l.get(i[a]);s&&(r|=s.invoke("__fl"));break}var o=n("#cb_"+e);3===r?o.prop("indeterminate",!0):(o.prop("indeterminate",!1),o.prop("checked",2==r)),t.invoke("__fm",[t.id])}},__bW:function(e){var t=this.id;n("#"+t+' input[name="'+t+'"]').prop("indeterminate",!1).prop("checked",e);for(var r=0,i=this.owner.children();r<i.length;r++){var a=i[r],s=l.get(a);s&&s.invoke("__bW",[e])}},"__bX<change>":function(e){var t=l.get(this.id+"_"+e.params.index);t&&t.invoke("__bW",[e.eventTarget.checked]),this.__fm(this.id)},"__p<click>":function(e){e.stopPropagation();var t=n(e.eventTarget),r=e.params.index,i=n("#"+this.id+"_"+r);i.toggleClass("_zs_gallerykU");var l=this.updater.get("list"),a=this.updater.get("closeMap"),s=l[r].value;i.hasClass("_zs_gallerykU")?(t.html("&#xe65b;"),a[s]=!0):(t.html("&#xe65a;"),a[s]=!1)},setValues:function(e){e=e.map(function(e){return e+""});var t=this.id;n("#"+t+' input[name="'+t+'"]').each(function(t,r){e.indexOf(r.value+"")>-1&&(r.checked=!0)}),this.__fm(t)},getValues:function(){return this.get("value")},getItems:function(){return this.get("item")},get:function(e){var t=this.id,r=[];return this.updater.get("list").forEach(function(i,l){if(0==(i.children||[]).length){var a=n("#cb_"+t+"_"+l);a[0].checked&&("item"==e?r.push(i):r.push(a[0].value))}}),r}})});