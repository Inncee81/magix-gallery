define("mx-form/rule",["$","../mx-medusa/util"],(require,exports,module)=>{var $=require("$"),ByteLen=function(r){return r.replace(/[^\x00-\xff]/g,"xl").length},I18n=require("../mx-medusa/util"),isMobile=function(r){var i={cm:/^(?:0?1)(?:3[456789]|47|5[0124789]|78|8[23478]|9[89])\d{8}$/,cu:/^(?:0?1)(?:3[012]|45|5[356]|66|7[56]|8[356])\d{8}$/,ce:/^(?:0?1)(?:33|49|53|7[37]|8[019])\d{8}$/,cn:/^(?:0?1)(?:70)\d{8}$/,hk:/^(?:0?[1569])(?:\d{7}|\d{8}|\d{12})$/,macao:/^6\d{7}$/,tw:/^(?:0?[679])(?:\d{7}|\d{8}|\d{10})$/},e=!1;for(var t in i)i[t].test(r)&&(e=!0);return e};module.exports={email:function(r,i){var e=!0,t=I18n["form.check.email"],n=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/,a=[];if((r=$.trim(r))&&($.isArray(i)?(i[0]&&(e=n.test(r)),i[1]&&(t=i[1]),i[2]&&$.isArray(i[2])&&(a=i[2])):i&&(e=n.test(r))),e&&a.length>0){for(var l=!1,u=r.substring(r.indexOf("@")+1),v=0;v<a.length;v++)if(a[v]==u){l=!0;break}l||(e=!1)}return{valid:e,tip:t}},url:function(r,i){var e=!0,t=I18n["form.check.url"],n=/(http|ftp|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&:\/~\+#]*[\w\-\@?^=%&\/~\+#])?/;return(r=$.trim(r))&&($.isArray(i)?(i[0]&&(e=n.test(r)),i[1]&&(t=i[1])):i&&(e=n.test(r))),{valid:e,tip:t}},english:function(r,i){var e=!0,t=I18n["form.check.english"],n=/^[A-Za-z]+$/;return(r=$.trim(r))&&($.isArray(i)?(i[0]&&(e=n.test(r)),i[1]&&(t=i[1])):i&&(e=n.test(r))),{valid:e,tip:t}},chinese:function(r,i){var e=!0,t=I18n["form.check.chinese"],n=/^[\u0391-\uFFE5]+$/;return(r=$.trim(r))&&($.isArray(i)?(i[0]&&(e=n.test(r)),i[1]&&(t=i[1])):i&&(e=n.test(r))),{valid:e,tip:t}},mobile:function(r,i){var e=!0,t=I18n["form.check.mobile"];return(r=$.trim(r))&&($.isArray(i)?(i[0]&&(e=isMobile(r)),i[1]&&(t=i[1])):i&&(e=isMobile(r))),{valid:e,tip:t}},currency:function(r,i){var e=!0,t=I18n["form.check.currency"],n=/^(([1-9]\d*)|0)(\.\d{1,2})?$/;return(r=$.trim(r))&&($.isArray(i)?(i[0]&&(e=n.test(r)),i[1]&&(t=i[1])):i&&(e=n.test(r))),{valid:e,tip:t}},trim:function(r,i){var e=!0,t=I18n["form.check.trim"];return $.isArray(i)?(i[0]&&(e=/\s/.test(r)),i[1]&&(t=i[1])):i&&(e=/\s/.test(r)),{valid:!e,tip:t}},required:function(r,i){var e=!0,t=I18n["form.check.required"];return r=$.trim(r),$.isArray(i)?(i[0]&&(e=""!=r),i[1]&&(t=i[1])):i&&(e=""!=r),{valid:e,tip:t}},number:function(r,i){var e=!0,t=I18n["form.check.number"];return(r=$.trim(r))&&i&&(e=r.indexOf(".")==r.lastIndexOf(".")&&r.indexOf(".")!=r.length-1&&/^-?[\d\.]+$/.test(r)),{valid:e,tip:t}},int:function(r,i){var e=!0,t=I18n["form.check.int"];return(r=$.trim(r))&&i&&(e=/^-?\d+$/.test(r)),{valid:e,tip:t}},posint:function(r,i){var e=!0,t=I18n["form.check.posint"],n=/^[0-9]*[1-9][0-9]*$/;return(r=$.trim(r))&&($.isArray(i)?(i[0]&&(e=n.test(r)),i[1]&&(t=i[1])):i&&(e=n.test(r))),{valid:e,tip:t}},negint:function(r,i){var e=!0,t=I18n["form.check.negint"],n=/^-[0-9]*[1-9][0-9]*$/;return(r=$.trim(r))&&($.isArray(i)?(i[0]&&(e=n.test(r)),i[1]&&(t=i[1])):i&&(e=n.test(r))),{valid:e,tip:t}},length:function(r,i){var e=!0,t=I18n["form.word.between"];if(r=$.trim(r)){var n=i[0],a=i[1],l=r.length;e=l>=n&&l<=a,t=t.replace("${min}",n).replace("${max}",a).replace("${current}",l)}return{valid:e,tip:t}},minlength:function(r,i){var e=!0,t=[I18n["form.less"],i,I18n["form.word"]].join(" ");return(r=$.trim(r))&&($.isArray(i)?(e=r.length>=i[0],i[1]&&(t=i[1])):e=r.length>=i),{valid:e,tip:t}},maxlength:function(r,i){var e=!0,t=[I18n["form.more"],i,I18n["form.word"]].join(" ");return(r=$.trim(r))&&($.isArray(i)?(e=r.length<=i[0],i[1]&&(t=i[1])):e=r.length<=i),{valid:e,tip:t}},blength:function(r,i){var e=!0,t=I18n["form.char.between"];if(r=$.trim(r)){var n=i[0],a=i[1],l=ByteLen(r);e=l>=n&&l<=a,t=t.replace("${min}",n).replace("${max}",a).replace("${current}",l)}return{valid:e,tip:t}},bminlength:function(r,i){r=$.trim(r);var e=ByteLen(r),t=!0,n=I18n["form.less"]+" "+i+" "+I18n["form.char"];return r&&($.isArray(i)?(t=e>=i[0],i[1]&&(n=i[1])):t=e>=i),{valid:t,tip:n}},bmaxlength:function(r,i){r=$.trim(r);var e=ByteLen(r),t=!0,n=I18n["form.more"]+" "+i+" "+I18n["form.char"];return r&&($.isArray(i)?(t=e<=i[0],i[1]&&(n=i[1])):t=e<=i),{valid:t,tip:n}},equalto:function(r,i){var e,t=I18n["form.check.equal"];return $.isArray(i)?(e=i[0],t=i[1]?i[1]:t.replace("${rule}",i[0])):(e=i,t=t.replace("${rule}",i)),{valid:$("#"+e).val()==r,tip:t}},unequalto:function(r,i){var e,t=I18n["form.check.unequal"];$.isArray(i)?(e=i[0],i[1]&&(t=i[1])):e=i;var n=[];return(e=e.split(",")).forEach(function(i){$("#"+i).val()==r&&n.push(i)}),t=t.replace("${rule}",n.join(",")),{valid:0==n.length,tip:t}},pattern:function(r,i){var e=!0,t=I18n["form.check.pattern"];if(r=$.trim(r)){var n=void 0;$.isArray(i)?(n=new RegExp(i[0]),i[1]&&(t=i[1])):n=new RegExp(i),e=n.test(r)}return{valid:e,tip:t}},range:function(val,rule){var valid=!0,min=rule[0],max=rule[1],tip=rule[2]||I18n["form.check.range"];return val=$.trim(val),val&&(valid=+val>=+min&&+val<=+max),{valid:valid,tip:eval("`"+tip+"`")}},rangeborder:function(val,rule){var valid=!0,min=rule[0],max=rule[1],tip=rule[2]||I18n["form.check.range.border"];return val=$.trim(val),val&&(valid=+val>+min&&+val<+max),{valid:valid,tip:eval("`"+tip+"`")}},max:function(val,rule){var valid=!0,max,tip=I18n["form.max"];return $.isArray(rule)?(max=rule[0],rule[1]&&(tip=rule[1])):max=rule,val=$.trim(val),val&&(valid=+val<=+max),{valid:valid,tip:eval("`"+tip+"`")}},maxborder:function(val,rule){var valid=!0,max,tip=I18n["form.max.border"];return $.isArray(rule)?(max=rule[0],rule[1]&&(tip=rule[1])):max=rule,val=$.trim(val),val&&(valid=+val<+max),{valid:valid,tip:eval("`"+tip+"`")}},min:function(val,rule){var valid=!0,min,tip=I18n["form.min"];return $.isArray(rule)?(min=rule[0],rule[1]&&(tip=rule[1])):min=rule,val=$.trim(val),val&&(valid=+val>=+min),{valid:valid,tip:eval("`"+tip+"`")}},minborder:function(val,rule){var valid=!0,min,tip=I18n["form.min.border"];return $.isArray(rule)?(min=rule[0],rule[1]&&(tip=rule[1])):min=rule,val=$.trim(val),val&&(valid=+val>=+min),{valid:valid,tip:eval("`"+tip+"`")}}}});