define("mx-effects/progress",["magix","../mx-util/view"],(e,l,r)=>{"use strict";l.__esModule=!0;var a=e("magix"),t=e("../mx-util/view");a.default.applyStyle("_zs_galleryO",'[mx-view*="mx-effects/progress"]{display:inline-block}._zs_galleryeV,._zs_galleryeW{position:relative;background:#f0f0f0}._zs_galleryeV ._zs_galleryeX,._zs_galleryeW ._zs_galleryeX{position:absolute;top:0;left:0;width:0;height:100%;transition:width var(--duration)}._zs_galleryeV ._zs_galleryeY,._zs_galleryeW ._zs_galleryeY{position:absolute;width:60px;height:24px;line-height:24px;font-family:Tahoma;color:#999;transition:all var(--duration)}._zs_galleryeV ._zs_galleryeZ-right,._zs_galleryeW ._zs_galleryeZ-right{top:-9px;left:100%;padding-left:10px;text-align:left}._zs_galleryeV ._zs_galleryeZ-left,._zs_galleryeW ._zs_galleryeZ-left{top:-9px;left:-60px;padding-right:10px;text-align:right}._zs_galleryeV ._zs_galleryeZ-top,._zs_galleryeW ._zs_galleryeZ-top{top:-24px;margin-left:-30px;text-align:center}._zs_galleryeV ._zs_galleryeZ-bottom,._zs_galleryeW ._zs_galleryeZ-bottom{bottom:-24px;margin-left:-30px;text-align:center}._zs_galleryeW{height:6px}._zs_galleryeW,._zs_galleryeW ._zs_galleryeX{border-radius:3px}._zs_galleryeW ._zs_galleryeX{background:var(--color-brand)}._zs_galleryeW._zs_galleryf_ ._zs_galleryeX{border-top-left-radius:3px;border-bottom-left-radius:3px;border-top-right-radius:0;border-bottom-right-radius:0}._zs_galleryeV{height:12px;border-radius:6px}._zs_galleryeV ._zs_galleryeX{border-radius:6px;background:var(--color-brand);background-size:24px 12px}._zs_galleryfa{position:relative}._zs_galleryfa ._zs_galleryfb{display:inline-block;width:4px;height:14px;margin-right:3px;border-radius:2px}._zs_galleryfa ._zs_galleryfb:last-child{margin-right:0}._zs_galleryfa ._zs_galleryfc ._zs_galleryfb{background-color:#f0f0f0}._zs_galleryfa ._zs_galleryfd{position:absolute;top:0;left:0}._zs_galleryfa ._zs_galleryfd ._zs_galleryfb{background-color:var(--color-brand)}._zs_galleryfe{position:relative}._zs_galleryfe ._zs_galleryff,._zs_galleryfe ._zs_galleryfg{position:absolute;top:0;left:50%}._zs_galleryfe ._zs_galleryfg{z-index:4;text-align:center;font-family:Tahoma;font-size:14px;color:#666}._zs_galleryfe ._zs_galleryff{z-index:2;border-radius:50%}._zs_galleryfe ._zs_galleryfh{position:relative;z-index:3}._zs_galleryfe ._zs_galleryfh ._zs_galleryfi{border-radius:50%;position:absolute;top:0;transform:rotate(-135deg);text-indent:1px}._zs_galleryfe ._zs_galleryfh ._zs_galleryfj{position:absolute;top:0;overflow:hidden}._zs_galleryfe ._zs_galleryfh ._zs_galleryfj._zs_galleryfk{left:0}._zs_galleryfe ._zs_galleryfh ._zs_galleryfj._zs_galleryfm{right:0}'),l.default=t.extend({tmpl:function(e,l,r,a,t,s,i,_){if(r||(r=e),!t){var g={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},o=/[&<>"'`]/g,d=function(e){return"&"+g[e]+";"};t=function(e){return""+(null==e?"":e)},a=function(e){return t(e).replace(o,d)}}if(!s){var n={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},y=function(e){return n[e]},f=/[!')(*]/g;s=function(e){return encodeURIComponent(t(e)).replace(f,y)}}if(!_){var p=/[\\'"]/g;_=function(e){return t(e).replace(p,"\\$&")}}var z="",c=e.type,h=e.width,x=e.border,b=e.viewId,u=e.color,v=e.text,m=e.num,w=e.vs,k=e.colorVs,W=e.numRemain,V=e.colorGradient,Z=e.placement,X=e.color1,I=e.color2,Y=e.degree,j=e.baseOpacity;if("circle"==c&&(z+='<div mxa="_zs_galleryb[:_" class="_zs_galleryfe"><div class="_zs_galleryff" style="width: '+a(h)+"px; height: "+a(h)+"px; margin-left: "+a(0-h/2)+"px; border: "+a(x)+'px solid #f0f0f0;"></div><div id="'+a(b)+'_circle" class="_zs_galleryfh" style="width: '+a(h+2*x)+"px; height: "+a(h+2*x)+'px;"><div class="_zs_galleryfj _zs_galleryfk" style="width: '+a(h/2+x)+"px; height: "+a(h+2*x)+'px;"><div class="_zs_galleryfi" style="left: '+a(x)+"px; width: "+a(h)+"px; height: "+a(h)+"px; border: "+a(x)+"px solid transparent; border-bottom: "+a(x)+"px solid "+a(u)+"; border-left: "+a(x)+"px solid "+a(u)+';"></div></div><div class="_zs_galleryfj _zs_galleryfm" style="width: '+a(h/2+x)+"px; height: "+a(h+2*x)+'px;"><div class="_zs_galleryfi" style="right: '+a(x)+"px; width: "+a(h)+"px; height: "+a(h)+"px; border: "+a(x)+"px solid transparent; border-top: "+a(x)+"px solid "+a(u)+"; border-right: "+a(x)+"px solid "+a(u)+';"></div></div></div>',v&&(z+='<div class="_zs_galleryfg" style="width: '+a(h)+"px; height: "+a(h)+"px; margin-left: "+a(0-h/2)+"px; line-height: "+a(h)+'px;">'+a(m)+"</div>"),z+="</div>"),z+=" ","line"==c&&(z+=" ",w?(z+='<div class="_zs_galleryeW _zs_galleryf_" style="width: '+a(h)+"px; ",k&&(z+=" background: "+a(k)+"; "),z+='"><div class="_zs_galleryeX" style="width: '+a(m)+"; background: "+a(u)+';"></div><div mxa="_zs_galleryb[:a" class="_zs_galleryeY _zs_galleryeZ-left">'+a(m)+'</div><div mxa="_zs_galleryb[:b" class="_zs_galleryeY _zs_galleryeZ-right">'+a(W)+"</div></div>"):(z+='<div class="_zs_galleryeW" style="width: '+a(h)+'px;"><div class="_zs_galleryeX" style="width: '+a(m)+"; ",z+=V?" background: linear-gradient(to right, "+a(u)+", "+a(V)+"); ":" background: "+a(u)+"; ",z+='"></div>',v&&(z+='<div class="_zs_galleryeY _zs_galleryeZ-'+a(Z)+'" ',"top"!=Z&&"bottom"!=Z||(z+=' style="left: '+a(m)+';" '),z+=">"+a(m)+"</div>"),z+="</div>"),z+=" "),z+=" ","gradient"==c&&(z+='<div class="_zs_galleryeV" style="width: '+a(h)+'px;"><div class="_zs_galleryeX" style="width: '+a(m)+"; background: linear-gradient(45deg, "+a(X)+" 33%, "+a(I)+" 34%, "+a(I)+" 59%, "+a(X)+' 60%); background-size: 24px 12px;"></div>',v&&(z+='<div class="_zs_galleryeY _zs_galleryeZ-'+a(Z)+'" ',"top"!=Z&&"bottom"!=Z||(z+=' style="left: '+a(m)+';" '),z+=">"+a(m)+"</div>"),z+="</div>"),z+=" ","degree"==c){z+='<div mxa="_zs_galleryb[:c" class="_zs_galleryfa"><div mxa="_zs_galleryb[:d" class="_zs_galleryfc">';for(var M=0;M<10;M+=1)z+='<span mxs="_zs_galleryb[:_" class="_zs_galleryfb"></span>';z+='</div><div mxa="_zs_galleryb[:e" class="_zs_galleryfd">';for(M=0;M<Y;M+=1)z+='<span class="_zs_galleryfb" style="opacity: '+a(j+M*(1-j)/9)+"; ",u&&(z+=" background-color: "+a(u)+"; "),z+='"></span>';z+="</div></div>"}return z},init:function(e){this.updater.snapshot(),this.assign(e)},assign:function(e){var l=this.updater.altered(),r=+e.num||0,a=r+"",t=a.indexOf(".");(t=t>=0?a.slice(t+1).length:0)>2&&(t=2),r<0&&(r=0),r>100&&(r=100);var s,i,_,g=e.type||"line",o=e.textPlacement||"top",d=0,n=e.baseOpacity||.08,y=e.border||8,f=e.color||"",p=e.colorGradient||"",z=e.colorVs||"",c=this.__cs("--color-brand","#4d7fff");switch(g){case"degree":d=parseInt(r/10);break;case"circle":f||(f=c),s=e.width||120;break;case"gradient":if(f=f||c){var h=this.__b(f);i="rgba("+h.r+", "+h.g+", "+h.b+", 0.4)",_="rgba("+h.r+", "+h.g+", "+h.b+", 0.2)"}case"line":s=e.width||200}return this.updater.set({viewId:this.id,placement:o,originNum:r,num:r.toFixed(t)+"%",numRemain:(100-r).toFixed(t)+"%",color:f,colorGradient:p,colorVs:z,color1:i,color2:_,type:g,text:e.text+""!="false",vs:e.vs+""=="true",degree:d,baseOpacity:+n,width:+s,border:+y,gradient:"gradient"==g}),l||(l=this.updater.altered()),!!l&&(this.updater.snapshot(),!0)},render:function(){this.updater.digest();var e=this.updater.get("type"),l=this.updater.get("originNum");if("circle"==e){var r,a,t=$("#"+this.id+"_circle"),s=t.find("._zs_galleryfm ._zs_galleryfi"),i=t.find("._zs_galleryfk ._zs_galleryfi"),_=Math.ceil(360*l/100);_>180?a=_-(r=180):(r=_,a=0);var g=Math.ceil(1e3*l/100),o=Math.floor(g*r/_),d=Math.floor(g*a/_);s.animate({textIndent:0},{step:function(e,l){var a=(1-e)*r-135;$(this).css({"-webkit-transform":"rotate("+a+"deg)",transform:"rotate("+a+"deg)"})},duration:o,done:function(){a>0&&i.animate({textIndent:0},{step:function(e,l){var r=(1-e)*a-135;$(this).css({"-webkit-transform":"rotate("+r+"deg)",transform:"rotate("+r+"deg)"})},duration:d},"linear")}},"linear")}}})});