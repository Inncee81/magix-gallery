define("mx-dropdown/content",["magix","../mx-medusa/util"],(e,t,a)=>{var l=e("magix"),s=e("../mx-medusa/util");l.applyStyle("_zs_galleryI","._zs_galleryew{min-width:600px}._zs_galleryew ._zs_galleryex{float:left;width:25%}._zs_galleryew ._zs_galleryey{margin-bottom:10px}._zs_galleryez{padding-top:10px;padding-left:18px;padding-right:18px;line-height:16px}._zs_galleryez ._zs_galleryeA{float:left;padding-right:20px;color:#999}._zs_galleryez ._zs_galleryeA:hover{color:var(--color-brand)}._zs_galleryez._zs_galleryeB{padding-left:12px;padding-right:12px}._zs_galleryeC ._zs_galleryeD{height:auto}._zs_galleryeE img{display:none}"),a.exports=l.View.extend({tmpl:function(e,t,a,l,s,i,c,r){if(a||(a=e),!s){var n={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},o=/[&<>"'`]/g,u=function(e){return"&"+n[e]+";"};s=function(e){return""+(null==e?"":e)},l=function(e){return s(e).replace(o,u)}}if(!i){var d={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},_=function(e){return d[e]},p=/[!')(*]/g;i=function(e){return encodeURIComponent(s(e)).replace(p,_)}}if(!r){var m=/[\\'"]/g;r=function(e){return s(e).replace(m,"\\$&")}}c||(c=function(e,t,a,l){for(l=e[h];--l;)if(e[a=h+l]===t)return a;return e[a=h+e[h]++]=t,a});var h="",x="",f=e.searchbox,g=e.text,v=e.keyword,y=e.spm,b=e.multiple,k=e.allHide,z=e.height,w=e.parents,E=e.hasGroups;if(f&&(x+='<div mxv mxa="_zs_gallerya|:_" class="mx-output-search"><div mxv mxa="_zs_gallerya|:a" class="search-box" style="width: 100%;"><i mxs="_zs_gallerya|:_" class="mc-iconfont search-icon">&#xe651;</i><input class="input search-input" placeholder="'+l(g.search)+'" value="'+l(v)+'" mx-keyup="'+t+'__j()" mx-paste="'+t+'__j()" mx-change="'+t+'__p()" mx-focusin="'+t+'__p()" mx-focusout="'+t+'__p()" ',y&&(x+=' data-spm-click="'+l(y)+'_s" '),x+="/></div></div>"),x+=" ",b&&(x+='<div mxa="_zs_gallerya|:b" class="_zs_galleryez _zs_galleryeB clearfix"><a class="_zs_galleryeA" href="javascript:;" mx-click="'+t+'__cb({checked:true})" ',y&&(x+=' data-spm-click="'+l(y)+'_a" '),x+=">"+l(g.select)+'</a><a class="_zs_galleryeA" href="javascript:;" mx-click="'+t+'__cb({checked:false})" ',y&&(x+=' data-spm-click="'+l(y)+'_ua" '),x+=">"+l(g.unselect)+"</a></div>"),x+=" ",k)x+='<div mxa="_zs_gallerya|:c" class="text-center color-9 pt20 pb20">'+l(g.empty)+"</div>";else{x+='<ul mxv class="mx-output-list" style="max-height:'+l(z)+'px;">';for(var I=0,j=w.length;I<j;I++){var A=w[I];if(x+=" ",!A.hide){x+=" ",E&&(x+='<li class="mx-output-header" title="'+l(A.text)+'">'+l(A.text)+"</li>"),x+=" ";for(var O=0,C=A.list,L=C.length;O<L;O++){var G=C[O];x+=" ",G.hide||(x+='<li mxv class="mx-output-item" title="'+l(G.text)+'">',b?(x+='<label mxv class="mx-output-link ',G.disabled&&(x+=" mx-output-link-disabled "),x+='"><input type="checkbox" class="checkbox" ',G.selected&&(x+=' checked="true" '),x+=" ",G.disabled&&(x+=' disabled="true" '),x+=' mx-focusout="'+t+'__p()" mx-change="'+t+"__cc({parentIndex:'"+l(r(I))+"',itemIndex:'"+l(r(O))+"'})\" ",y&&(x+=' data-spm-click="'+l(y)+l(G.value)+'" '),x+="/>"+l(G.text)+"</label>"):(x+='<span class="mx-output-link ',G.selected&&(x+=" mx-output-link-active "),x+=" ",G.disabled&&(x+=" mx-output-link-disabled "),x+='" ',G.disabled||(x+=' mx-click="'+t+"__ah({item:'"+c(a,G)+"'})\" ",y&&(x+=' data-spm-click="'+l(y)+l(G.value)+'" '),x+=" "),x+=">"+l(G.text)+"</span>"),x+="</li>"),x+=" "}x+=" "}x+=" "}x+="</ul>"}return x+=" ",b&&(x+='<div mxa="_zs_gallerya|:d" class="mx-output-footer"><a mxa="_zs_gallerya|:e" href="javascript:;" class="btn btn-small btn-brand mr10" mx-click="'+t+'__aS()">'+l(g.submit)+'</a><a mxa="_zs_gallerya|:f" href="javascript:;" class="btn btn-small" mx-click="'+t+'__P()">'+l(g.cancel)+"</a></div>"),x},init:function(e){this.viewOptions=e;var t=e.data,a=$.extend(!0,[],t.parents),l=(t.selectedItems||[]).map(function(e){return e.value+""});a.forEach(function(e){e.list.forEach(function(e){e.selected=l.indexOf(e.value+"")>-1})}),this.updater.set({parents:a,hasGroups:t.hasGroups,searchbox:t.searchbox,multiple:t.multiple,spm:t.spm,height:t.height,keyword:t.keyword||"",text:{search:s["dropdown.search"],select:s["select.all"],unselect:s["unselect.all"],submit:s["dialog.submit"],cancel:s["dialog.cancel"],empty:s["empty.text"]}})},render:function(){var e=this,t=e.updater.get("keyword");e.__c_(e.__ca=t,function(t){e.updater.digest(t)})},"__ah<click>":function(e){var t=this.viewOptions;t.submit&&t.submit({keyword:this.updater.get("keyword"),selectedItems:[e.params.item]})},"__cb<click>":function(e){var t=e.params.checked,a=this.updater.get("parents");a.forEach(function(e){e.list.forEach(function(e){e.disabled||(e.selected=t)})}),this.updater.digest({parents:a})},"__cc<change>":function(e){var t=e.params.parentIndex,a=e.params.itemIndex,l=this.updater.get("parents");l[t].list[a].selected=!l[t].list[a].selected,this.updater.digest({parents:l})},"__aS<click>":function(e){var t=this.viewOptions,a=this.updater.get(),l=a.parents,s=a.keyword,i=[];l.forEach(function(e){e.list.forEach(function(e){e.selected&&i.push(e)})}),t.submit&&t.submit({keyword:s,selectedItems:i})},"__P<click>":function(e){var t=this.viewOptions;t.cancel&&t.cancel()},__c_:function(e,t){var a,l=this.updater.get().parents;if(e){a=!0;var s=(e+"").toLocaleLowerCase();l.forEach(function(e){var t=!0;e.list.forEach(function(e){var a=(e.text+"").toLocaleLowerCase();e.hide=a.indexOf(s)<0,t=t&&e.hide}),e.hide=t,a=a&&t})}else a=!1,l.forEach(function(e){e.hide=!1,e.list.forEach(function(e){e.hide=!1})});t({parents:l,allHide:a})},"__j<keyup,paste>":function(e){var t=this;clearTimeout(t.__cd);var a=$.trim(e.eventTarget.value);t.updater.set({keyword:a}),t.__cd=setTimeout(t.wrapAsync(function(){a!=t.__ca&&t.__c_(t.__ca=a,function(e){t.updater.digest(e)})}),250)},"__p<change,focusin,focusout>":function(e){e.stopPropagation()}})});