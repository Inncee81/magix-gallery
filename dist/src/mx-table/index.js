define("mx-table/index",["magix","$"],(e,t,i)=>{var _=e("magix"),l=e("$");_.applyStyle("_zs_galleryaz",'[mx-view*="mx-table/excel"],[mx-view*="mx-table/index"]{position:relative}[mx-view*="mx-table/excel"] table,[mx-view*="mx-table/index"] table{table-layout:auto}[mx-view*="mx-table/excel"] ._zs_galleryke,[mx-view*="mx-table/excel"] ._zs_gallerykf,[mx-view*="mx-table/index"] ._zs_galleryke,[mx-view*="mx-table/index"] ._zs_gallerykf{position:absolute;left:0;right:0;overflow-x:scroll;overflow-y:hidden}[mx-view*="mx-table/excel"] ._zs_gallerykf,[mx-view*="mx-table/index"] ._zs_gallerykf{top:0;z-index:1;-ms-overflow-style:none;overflow:auto}[mx-view*="mx-table/excel"] ._zs_gallerykf::-webkit-scrollbar,[mx-view*="mx-table/index"] ._zs_gallerykf::-webkit-scrollbar{display:none;width:0;height:0}[mx-view*="mx-table/excel"] ._zs_gallerykf::-webkit-scrollbar-thumb,[mx-view*="mx-table/index"] ._zs_gallerykf::-webkit-scrollbar-thumb{background-color:transparent}[mx-view*="mx-table/excel"] ._zs_galleryke,[mx-view*="mx-table/index"] ._zs_galleryke{display:none;z-index:2;opacity:.3}[mx-view*="mx-table/excel"] ._zs_galleryke ._zs_gallerykg,[mx-view*="mx-table/index"] ._zs_galleryke ._zs_gallerykg{height:1px}[mx-view*="mx-table/excel"] ._zs_galleryke::-webkit-scrollbar,[mx-view*="mx-table/index"] ._zs_galleryke::-webkit-scrollbar{width:14px;height:14px}[mx-view*="mx-table/excel"] ._zs_galleryke::-webkit-scrollbar-thumb,[mx-view*="mx-table/index"] ._zs_galleryke::-webkit-scrollbar-thumb{background-color:var(--color-brand);border-radius:7px}[mx-view*="mx-table/excel"] ._zs_gallerykh,[mx-view*="mx-table/index"] ._zs_gallerykh{box-shadow:3px 0 4px rgba(0,0,0,.06)}'),i.exports=_.View.extend({init:function(e){var t=this;t.__dL=0;var i=l("#"+t.id);t.__a=i;var _=i.find('table[left="true"]');_&&_.length>0?(t.__dM=_,t.__dN=t.__dO(_,"left"),t.__dP=_.find("thead"),t.__dQ=i.find('table[center="true"]')):t.__dQ=i.find("table"),t.__dR=t.__dO(t.__dQ,"main"),t.__dS=t.__dQ.find("thead"),t.__dT=e.sticky+""=="true",t.__dU=e.stickyEnd+""=="true",t.__dV=e.stickyInterval||0,t.__dW=e.rowHoverClass||"hover-tr",e.scrollWrapper&&(t.__cI=l("#"+e.scrollWrapper)),t.assign()},assign:function(){return!0},render:function(){var e=this;e.__dX(),e.__dY(e.__dL,"add"),_.task&&_.task(e.__dX,[],e)},__dO:function(e,t){t=this.id+"_"+t,e.attr("id",t+"_table");var i=e.parent("div");return i.attr(t,t),i},__dX:function(){var e=this,t=e.__dM;e.__dQ;if(t){e.__dZ();var i=e.__dR;i.addClass("_zs_gallerykf"),i.css("left",t.outerWidth()),e.__e_(),e.__ea()}e.__eb(),e.__ec(),e.__ed()},__ec:function(){var e,t,i=this,_=i.id,s=i.__dN;if(i.__cI?(e=i.__cI,t=function(){i.__ee(e)}):(e=l(window),t=function(){i.__ef(e)}),s&&s.length>0&&s.hasClass("_zs_gallerykh")){i.__eg=!0;var r=i.__dR,a=i.__dQ,o=r.width(),n=a.width(),d=l("#"+_+"_scrollbar");if(d&&d.length)d.css({width:o}),d.find("._zs_gallerykg").width(n);else{var h='<div id="'+_+'_scrollbar" class="_zs_galleryke" style="width:'+o+'px;"><div class="_zs_gallerykg" style="width:'+n+'px;"><div><div>';r.after(l(h)),d=l("#"+_+"_scrollbar")}var c=function(){r[0].scrollLeft=d[0].scrollLeft},f=function(){var e=r[0].scrollLeft;d[0].scrollLeft=e,i.__eh=e};d.off("scroll",c).on("scroll",c),r.off("scroll",f).on("scroll",f),i.on("destroy",function(){e.off("scroll.custombar",t)}),e.off("scroll.custombar",t).on("scroll.custombar",t),t(),i.__eh&&(r[0].scrollLeft=i.__eh,d[0].scrollLeft=i.__eh)}else{i.__eg=!1;var g=l("#"+_+"_scrollbar");g&&g.length&&g.remove()}},__ed:function(){var e=this,t=e.__a,i=e.__dS,_=e.__dP;if(e.__dT)if(e.__cI){var s=e.__cI,r=function(){var i=s.scrollTop(),_=t.height()-s.height();i>=0&&i<=_?e.__ei(s,i):e.__ej(s)};e.on("destroy",function(){s.off("scroll.customsticky",r)}),s.on("scroll.customsticky",r),r()}else{var a=l(window),o=e.__dS.height(),n=+e.__dV,d=function(){var i=a.scrollTop(),_=t.offset().top-n,l=_+t.height()-o;i>=_&&i<=l?e.__ei(a,i-_):e.__ej(a)};e.on("destroy",function(){a.off("scroll.sticky")}),e.__dU?a.on("scroll.sticky",function(){e.__ej(a),clearTimeout(e.__ek),e.__ek=setTimeout(e.wrapAsync(function(){var l=a.scrollTop(),s=t.offset().top-n,r=s+t.height()-o;if(l>=s&&l<=r){e.__ei(a,l-s-o);i.animate({top:l-s},200),_&&_.animate({top:l-s},200)}else e.__ej(a)}),250)}):a.on("scroll.sticky",d),d()}},__ei:function(e,t){var i=this.__dR,_=this.__dS,l=this.__dN,s=this.__dP,r=_.height();i.css({paddingTop:r}),_.css({position:"absolute",zIndex:80,top:t}),s&&(l.css({paddingTop:r}),s.css({position:"absolute",zIndex:80,top:t}))},__ej:function(e){var t=this.__dR,i=this.__dS,_=this.__dN,l=this.__dP;t.css({paddingTop:0}),i.css({position:"initial",zIndex:"auto",top:"auto"}),l&&(_.css({paddingTop:0}),l.css({position:"initial",zIndex:"auto",top:"auto"}))},__eb:function(){var e=function(e){for(var t=e.find("tbody>tr"),i=e.find("thead>tr"),_=[],s=e.find("thead>tr:first-child>th"),r=0;r<s.length;r++)for(var a=s.eq(r),o=+a.attr("colspan")||1,n=a.outerWidth(),d=0;d<o;d++)_.push(n/o);var h=t.length;if(h>0)for(r=0;r<h;r++){var c=l(t[r]).find("td"),f=0;for(d=0;d<c.length;d++){o=+(p=c.eq(d)).attr("colspan")||1,n=0;for(var g=0;g<o;g++)n+=_[g+f];p.css("width",n),f+=o}}var v=[];for(r=0;r<i.length;r++){var x=l(i[r]).find("th"),b=(f=0,[]);for(d=0;d<x.length;d++){o=+(p=x.eq(d)).attr("colspan")||1;var p,m=+p.attr("rowspan")||1;b.push({x:f,y:r,colspan:o,rowspan:m,left:p.offset().left}),f+=o}v.push(b)}for(var u=0;u<v.length-1;u++){b=v[u];for(var w=0;w<b.length;w++){var y=b[w];if(y.rowspan>1)for(var k=u+1;k<v.length&&y.rowspan>k-u;k++)for(var z=v[k],T=0;T<z.length;T++){var I=z[T];I.left>y.left&&(I.x+=y.colspan)}}}for(r=0;r<i.length;r++){for(x=l(i[r]).find("th"),d=0;d<x.length;d++){n=0;var Q=v[r][d];for(g=0;g<Q.colspan;g++)n+=_[Q.x+g];x.eq(d).css("width",n)}v.push(b)}};e(this.__dQ);var t=this.__dM;t&&e(t)},__el:function(e){var t=e.find("thead>tr:first-child>th"),i=e.attr("width");if(!i){i=0;for(var _=t.length;_--;){var l,s=t.eq(_),r=120,a=s.attr("style");if(a)(l=a.match(/width\s*:\s*([\d\.]+)px/))&&(r=+l[1]);else r=(l=s.attr("width"))?+l:s.outerWidth();i+=r}}return+i},__dZ:function(){var e=this.__dM,t=this.__dN,i=this.__el(e);e.css("width",i),e.find("thead").css("width",i),t.css("width",e.outerWidth())},__e_:function(){var e=this,t=e.__a,i=e.__dQ,_=e.__dM,l=t.width()-_.outerWidth(),s=e.__el(i),r=e.__dN;s>l?(i.css("width",s),i.find("thead").css("width",s),r.css({position:"relative","z-index":2}),r.addClass("_zs_gallerykh")):(i.css("width",l),i.find("thead").css("width",l),r.removeClass("_zs_gallerykh"))},__ea:function(){for(var e=this.__dQ,t=this.__dM,i=e.find("tbody>tr"),_=t.find("tbody>tr"),s=0;s<_.length;s++){var r=Math.max(l(_[s]).height(),l(i[s]).height());l(_[s]).height(r),l(i[s]).height(r)}var a=e.find("thead>tr"),o=t.find("thead>tr"),n=function(e){for(var t=0,i=0;i<e.length;i++)t+=l(e[i]).height();return t},d=Math.max(n(a),n(o));1==a.length&&a.height(d),1==o.length&&o.height(d)},"$doc<htmlchanged>":function(e){this.owner&&this.owner.pId==e.vId&&this.__em()},"$doc<navslidend,tableresize>":function(e){this.__em()},"$win<resize>":function(e){this.__em()},__em:function(){this.__en(),_.task&&_.task(this.__en,[],this)},__en:function(){var e=this;e.__dM&&(e.__e_(),e.__ea(),e.__ec()),e.__eb()},__dY:function(e,t){var i=this,_=i.__dW,l=i.__dQ.find("tbody>tr");if(0!=l.length){t=t+"Class";var s=l.eq(e);s&&s.length&&"none"!=s.css("display")||(e=0,i.__dL=e,i.__a.attr("data-hover",e),s=l.eq(e)),s[t](_);var r=s.next(".operation-tr"),a=r&&r.length;a&&r[t]("operation-tr-open");var o=i.__dM;if(o){var n=o.find("tbody>tr").eq(e);if(n[t](_),a)n.next(".operation-tr")[t]("operation-tr-open")}}},"$tbody>tr<mouseover>":function(e){var t=this,i=(t.__dW,e.eventTarget);if(!_.inside(e.relatedTarget,i)&&!l(i).hasClass("operation-tr")){t.__dY(t.__dL,"remove");var s=l(i).parents("tbody").find("tr").index(i);t.__dL=s,t.__dY(s,"add")}},__ee:function(e){if(this.__eg){var t,i=e.scrollTop(),_=this.__dN,s=this.__dQ,r=l("#"+this.id+"_scrollbar"),a=r.find("._zs_gallerykg"),o=r.height(),n=(a.height(),_.width());t=s.height()>e.height()?e.height()-o+i:e.height()-o,r.css({display:"block",position:"absolute",left:n,top:t})}},__ef:function(e){if(this.__eg){var t,i=e.scrollTop(),_=e.height(),s=this.__dN,r=this.__dQ.find("tbody"),a=l("#"+this.id+"_scrollbar"),o=a.find("._zs_gallerykg"),n=a.height(),d=o.height(),h=r.offset().top,c=h+r.height()+n-d;if(c<i||h>i+_)a.css({display:"none"});else if(i<=(t=c)&&t<=i+_){var f=s.width();a.css({display:"block",position:"absolute",left:f,bottom:d-n})}else{f=s.offset().left+s.width();a.css({display:"block",position:"fixed",left:f,bottom:0})}}}})});