define("mx-table/index",["magix","$"],(t,e,i)=>{var _=t("magix"),l=t("$"),s=/width\s*:\s*(\d+)px/;_.applyStyle("_zs_galleryaz",'[mx-view*="mx-table/excel"],[mx-view*="mx-table/index"]{position:relative}[mx-view*="mx-table/excel"] table,[mx-view*="mx-table/index"] table{table-layout:auto}[mx-view*="mx-table/excel"] ._zs_gallerykg,[mx-view*="mx-table/excel"] ._zs_gallerykh,[mx-view*="mx-table/index"] ._zs_gallerykg,[mx-view*="mx-table/index"] ._zs_gallerykh{position:absolute;left:0;right:0;overflow-x:scroll;overflow-y:hidden}[mx-view*="mx-table/excel"] ._zs_gallerykh,[mx-view*="mx-table/index"] ._zs_gallerykh{top:0;z-index:1;-ms-overflow-style:none;overflow:auto}[mx-view*="mx-table/excel"] ._zs_gallerykh::-webkit-scrollbar,[mx-view*="mx-table/index"] ._zs_gallerykh::-webkit-scrollbar{display:none;width:0;height:0}[mx-view*="mx-table/excel"] ._zs_gallerykh::-webkit-scrollbar-thumb,[mx-view*="mx-table/index"] ._zs_gallerykh::-webkit-scrollbar-thumb{background-color:transparent}[mx-view*="mx-table/excel"] ._zs_gallerykg,[mx-view*="mx-table/index"] ._zs_gallerykg{display:none;z-index:2;opacity:.3}[mx-view*="mx-table/excel"] ._zs_gallerykg ._zs_galleryki,[mx-view*="mx-table/index"] ._zs_gallerykg ._zs_galleryki{height:1px}[mx-view*="mx-table/excel"] ._zs_gallerykg::-webkit-scrollbar,[mx-view*="mx-table/index"] ._zs_gallerykg::-webkit-scrollbar{width:14px;height:14px}[mx-view*="mx-table/excel"] ._zs_gallerykg::-webkit-scrollbar-thumb,[mx-view*="mx-table/index"] ._zs_gallerykg::-webkit-scrollbar-thumb{background-color:var(--color-brand);border-radius:7px}[mx-view*="mx-table/excel"] ._zs_gallerykj,[mx-view*="mx-table/index"] ._zs_gallerykj{box-shadow:3px 0 4px rgba(0,0,0,.06)}'),i.exports=_.View.extend({init:function(t){var e=this;e.__dL=0;var i=l("#"+e.id);e.__a=i;var _=i.find('table[left="true"]');_&&_.length>0?(e.__dM=_,e.__dN=e.__dO(_,"left"),e.__dP=_.find("thead"),e.__dQ=i.find('table[center="true"]')):e.__dQ=i.find("table"),e.__dR=e.__dO(e.__dQ,"main"),e.__dS=e.__dQ.find("thead"),e.__dT=t.sticky+""=="true",e.__dU=t.stickyEnd+""=="true",e.__dV=t.stickyInterval||0,e.__dW=t.rowHoverClass||"hover-tr",t.scrollWrapper&&(e.__bO=l("#"+t.scrollWrapper)),e.assign()},assign:function(){return!0},render:function(){var t=this;t.__dX(),t.__dY(t.__dL,"add"),_.task&&_.task(t.__dX,[],t)},__dO:function(t,e){e=this.id+"_"+e,t.attr("id",e+"_table");var i=t.parent("div");return i.attr(e,e),i},__dX:function(){var t=this,e=t.__dM;t.__dQ;if(e){t.__dZ();var i=t.__dR;i.addClass("_zs_gallerykh"),i.css("left",e.outerWidth()),t.__e_(),t.__ea()}t.__eb(),t.__ec(),t.__ed()},__ec:function(){var t,e,i=this,_=i.id,s=i.__dN;if(i.__bO?(t=i.__bO,e=function(){i.__ee(t)}):(t=l(window),e=function(){i.__ef(t)}),s&&s.length>0&&s.hasClass("_zs_gallerykj")){i.__eg=!0;var r=i.__dR,a=i.__dQ,o=r.width(),n=a.width(),d=l("#"+_+"_scrollbar");if(d&&d.length)d.css({width:o}),d.find("._zs_galleryki").width(n);else{var h='<div id="'+_+'_scrollbar" class="_zs_gallerykg" style="width:'+o+'px;"><div class="_zs_galleryki" style="width:'+n+'px;"><div><div>';r.after(l(h)),d=l("#"+_+"_scrollbar")}var c=function(){r[0].scrollLeft=d[0].scrollLeft},f=function(){var t=r[0].scrollLeft;d[0].scrollLeft=t,i.__eh=t};d.off("scroll",c).on("scroll",c),r.off("scroll",f).on("scroll",f),i.on("destroy",function(){t.off("scroll.custombar",e)}),t.off("scroll.custombar",e).on("scroll.custombar",e),e(),i.__eh&&(r[0].scrollLeft=i.__eh,d[0].scrollLeft=i.__eh)}else{i.__eg=!1;var g=l("#"+_+"_scrollbar");g&&g.length&&g.remove()}},__ed:function(){var t=this,e=t.__a,i=t.__dS,_=t.__dP;if(t.__dT)if(t.__bO){var s=t.__bO,r=function(){var i=s.scrollTop(),_=e.height()-s.height();i>=0&&i<=_?t.__ei(s,i):t.__ej(s)};t.on("destroy",function(){s.off("scroll.customsticky",r)}),s.on("scroll.customsticky",r),r()}else{var a=l(window),o=t.__dS.height(),n=+t.__dV,d=function(){var i=a.scrollTop(),_=e.offset().top-n,l=_+e.height()-o;i>=_&&i<=l?t.__ei(a,i-_):t.__ej(a)};t.on("destroy",function(){a.off("scroll.sticky")}),t.__dU?a.on("scroll.sticky",function(){t.__ej(a),clearTimeout(t.__ek),t.__ek=setTimeout(t.wrapAsync(function(){var l=a.scrollTop(),s=e.offset().top-n,r=s+e.height()-o;if(l>=s&&l<=r){t.__ei(a,l-s-o);i.animate({top:l-s},200),_&&_.animate({top:l-s},200)}else t.__ej(a)}),250)}):a.on("scroll.sticky",d),d()}},__ei:function(t,e){var i=this.__dR,_=this.__dS,l=this.__dN,s=this.__dP,r=_.height();i.css({paddingTop:r}),_.css({position:"absolute",zIndex:80,top:e}),s&&(l.css({paddingTop:r}),s.css({position:"absolute",zIndex:80,top:e}))},__ej:function(t){var e=this.__dR,i=this.__dS,_=this.__dN,l=this.__dP;e.css({paddingTop:0}),i.css({position:"initial",zIndex:"auto",top:"auto"}),l&&(_.css({paddingTop:0}),l.css({position:"initial",zIndex:"auto",top:"auto"}))},__eb:function(){var t=function(t){for(var e=t.find("tbody>tr"),i=t.find("thead>tr"),_=[],s=t.find("thead>tr:first-child>th"),r=0;r<s.length;r++)for(var a=s.eq(r),o=+a.attr("colspan")||1,n=a.outerWidth(),d=0;d<o;d++)_.push(n/o);var h=e.length;if(h>0)for(r=0;r<h;r++){var c=l(e[r]).find("td"),f=0;for(d=0;d<c.length;d++){o=+(p=c.eq(d)).attr("colspan")||1,n=0;for(var g=0;g<o;g++)n+=_[g+f];p.css("width",n),f+=o}}var v=[];for(r=0;r<i.length;r++){var x=l(i[r]).find("th"),b=(f=0,[]);for(d=0;d<x.length;d++){o=+(p=x.eq(d)).attr("colspan")||1;var p,m=+p.attr("rowspan")||1;b.push({x:f,y:r,colspan:o,rowspan:m,left:p.offset().left}),f+=o}v.push(b)}for(var u=0;u<v.length-1;u++){b=v[u];for(var w=0;w<b.length;w++){var y=b[w];if(y.rowspan>1)for(var k=u+1;k<v.length&&y.rowspan>k-u;k++)for(var z=v[k],T=0;T<z.length;T++){var Q=z[T];Q.left>y.left&&(Q.x+=y.colspan)}}}for(r=0;r<i.length;r++){for(x=l(i[r]).find("th"),d=0;d<x.length;d++){n=0;var L=v[r][d];for(g=0;g<L.colspan;g++)n+=_[L.x+g];x.eq(d).css("width",n)}v.push(b)}};t(this.__dQ);var e=this.__dM;e&&t(e)},__el:function(t){var e=t.find("thead>tr:first-child>th"),i=t.attr("width");if(!i){i=0;for(var _=e.length;_--;){var l,r=e.eq(_),a=120,o=r.attr("style");if(o)(l=o.match(s))&&(a=parseInt(l[1]));else a=(l=r.attr("width"))?+l:r.outerWidth();i+=a}}return+i},__dZ:function(){var t=this.__dM,e=this.__dN,i=this.__el(t);t.css("width",i),t.find("thead").css("width",i),e.css("width",t.outerWidth())},__e_:function(){var t=this,e=t.__a,i=t.__dQ,_=t.__dM,l=e.width()-_.outerWidth(),s=t.__el(i),r=t.__dN;s>l?(i.css("width",s),i.find("thead").css("width",s),r.css({position:"relative","z-index":2}),r.addClass("_zs_gallerykj")):(i.css("width",l),i.find("thead").css("width",l),r.removeClass("_zs_gallerykj"))},__ea:function(){for(var t=this.__dQ,e=this.__dM,i=t.find("tbody>tr"),_=e.find("tbody>tr"),s=0;s<_.length;s++){var r=Math.max(l(_[s]).height(),l(i[s]).height());l(_[s]).height(r),l(i[s]).height(r)}var a=t.find("thead>tr"),o=e.find("thead>tr"),n=function(t){for(var e=0,i=0;i<t.length;i++)e+=l(t[i]).height();return e},d=Math.max(n(a),n(o));1==a.length&&a.height(d),1==o.length&&o.height(d)},"$doc<htmlchanged>":function(t){this.owner&&this.owner.pId==t.vId&&this.__em()},"$doc<navslidend,tableresize>":function(t){this.__em()},"$win<resize>":function(t){this.__em()},__em:function(){this.__en(),_.task&&_.task(this.__en,[],this)},__en:function(){var t=this;t.__dM&&(t.__e_(),t.__ea(),t.__ec()),t.__eb()},__dY:function(t,e){var i=this,_=i.__dW,l=i.__dQ.find("tbody>tr");if(0!=l.length){e=e+"Class";var s=l.eq(t);s&&s.length&&"none"!=s.css("display")||(t=0,i.__dL=t,i.__a.attr("data-hover",t),s=l.eq(t)),s[e](_);var r=s.next(".operation-tr"),a=r&&r.length;a&&r[e]("operation-tr-open");var o=i.__dM;if(o){var n=o.find("tbody>tr").eq(t);if(n[e](_),a)n.next(".operation-tr")[e]("operation-tr-open")}}},"$tbody>tr<mouseover>":function(t){var e=this,i=(e.__dW,t.eventTarget);if(!_.inside(t.relatedTarget,i)&&!l(i).hasClass("operation-tr")){e.__dY(e.__dL,"remove");var s=l(i).parents("tbody").find("tr").index(i);e.__dL=s,e.__dY(s,"add")}},__ee:function(t){if(this.__eg){var e,i=t.scrollTop(),_=this.__dN,s=this.__dQ,r=l("#"+this.id+"_scrollbar"),a=r.find("._zs_galleryki"),o=r.height(),n=(a.height(),_.width());e=s.height()>t.height()?t.height()-o+i:t.height()-o,r.css({display:"block",position:"absolute",left:n,top:e})}},__ef:function(t){if(this.__eg){var e,i=t.scrollTop(),_=t.height(),s=this.__dN,r=this.__dQ.find("tbody"),a=l("#"+this.id+"_scrollbar"),o=a.find("._zs_galleryki"),n=a.height(),d=o.height(),h=r.offset().top,c=h+r.height()+n-d;if(c<i||h>i+_)a.css({display:"none"});else if(i<=(e=c)&&e<=i+_){var f=s.width();a.css({display:"block",position:"absolute",left:f,bottom:d-n})}else{f=s.offset().left+s.width();a.css({display:"block",position:"fixed",left:f,bottom:0})}}}})});