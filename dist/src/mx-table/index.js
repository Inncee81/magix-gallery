define("mx-table/index",["magix","$"],(t,e,_)=>{var i=t("magix"),l=t("$"),r=/width\s*:\s*(\d+)px/;i.applyStyle("_zs_galleryaz",'[mx-view*="mx-table/excel"],[mx-view*="mx-table/index"]{position:relative}[mx-view*="mx-table/excel"] table,[mx-view*="mx-table/index"] table{table-layout:auto}[mx-view*="mx-table/excel"] ._zs_gallerykq,[mx-view*="mx-table/excel"] ._zs_gallerykr,[mx-view*="mx-table/index"] ._zs_gallerykq,[mx-view*="mx-table/index"] ._zs_gallerykr{position:absolute;left:0;right:0;overflow-x:scroll;overflow-y:hidden}[mx-view*="mx-table/excel"] ._zs_gallerykr,[mx-view*="mx-table/index"] ._zs_gallerykr{top:0;z-index:1;-ms-overflow-style:none;overflow:auto}[mx-view*="mx-table/excel"] ._zs_gallerykr::-webkit-scrollbar,[mx-view*="mx-table/index"] ._zs_gallerykr::-webkit-scrollbar{display:none;width:0;height:0}[mx-view*="mx-table/excel"] ._zs_gallerykr::-webkit-scrollbar-thumb,[mx-view*="mx-table/index"] ._zs_gallerykr::-webkit-scrollbar-thumb{background-color:transparent}[mx-view*="mx-table/excel"] ._zs_gallerykq,[mx-view*="mx-table/index"] ._zs_gallerykq{display:none;z-index:2;opacity:.3}[mx-view*="mx-table/excel"] ._zs_gallerykq ._zs_galleryks,[mx-view*="mx-table/index"] ._zs_gallerykq ._zs_galleryks{height:1px}[mx-view*="mx-table/excel"] ._zs_gallerykq::-webkit-scrollbar,[mx-view*="mx-table/index"] ._zs_gallerykq::-webkit-scrollbar{width:14px;height:14px}[mx-view*="mx-table/excel"] ._zs_gallerykq::-webkit-scrollbar-thumb,[mx-view*="mx-table/index"] ._zs_gallerykq::-webkit-scrollbar-thumb{background-color:var(--color-brand);border-radius:7px}[mx-view*="mx-table/excel"] ._zs_gallerykt,[mx-view*="mx-table/index"] ._zs_gallerykt{box-shadow:3px 0 4px rgba(0,0,0,.06)}'),_.exports=i.View.extend({init:function(t){var e=this;e.__dJ=0;var _=l("#"+e.id);e.__a=_;var i=_.find('table[left="true"]');i&&i.length>0?(e.__dK=i,e.__dL=e.__dM(i,"left"),e.__dN=i.find("thead"),e.__dO=_.find('table[center="true"]')):e.__dO=_.find("table"),e.__dP=e.__dM(e.__dO,"main"),e.__dQ=e.__dO.find("thead"),e.__dR=t.sticky+""=="true",e.__dS=t.stickyEnd+""=="true",e.__dT=t.stickyInterval||0,e.__dU=t.rowHoverClass||"hover-tr",t.scrollWrapper&&(e.__bL=l("#"+t.scrollWrapper)),e.assign()},assign:function(){return!0},render:function(){var t=this;t.__dV(),t.__dW(t.__dJ,"add"),i.task&&i.task(t.__dV,[],t)},__dM:function(t,e){e=this.id+"_"+e,t.attr("id",e+"_table");var _=t.parent("div");return _.attr(e,e),_},__dV:function(){var t=this,e=t.__dK;t.__dO;if(e){t.__dX();var _=t.__dP;_.addClass("_zs_gallerykr"),_.css("left",e.outerWidth()),t.__dY(),t.__dZ()}t.__e_(),t.__ea(),t.__eb()},__ea:function(){var t,e,_=this,i=_.id,r=_.__dL;if(_.__bL?(t=_.__bL,e=function(){_.__ec(t)}):(t=l(window),e=function(){_.__ed(t)}),r&&r.length>0&&r.hasClass("_zs_gallerykt")){_.__ee=!0;var s=_.__dP,a=_.__dO,o=s.width(),d=a.width(),n=l("#"+i+"_scrollbar");if(n&&n.length)n.css({width:o}),n.find("._zs_galleryks").width(d);else{var h='<div id="'+i+'_scrollbar" class="_zs_gallerykq" style="width:'+o+'px;"><div class="_zs_galleryks" style="width:'+d+'px;"><div><div>';s.after(l(h)),n=l("#"+i+"_scrollbar")}var c=function(){s[0].scrollLeft=n[0].scrollLeft},f=function(){var t=s[0].scrollLeft;n[0].scrollLeft=t,_.__ef=t};n.off("scroll",c).on("scroll",c),s.off("scroll",f).on("scroll",f),_.on("destroy",function(){t.off("scroll.custombar",e)}),t.off("scroll.custombar",e).on("scroll.custombar",e),e(),_.__ef&&(s[0].scrollLeft=_.__ef,n[0].scrollLeft=_.__ef)}else{_.__ee=!1;var v=l("#"+i+"_scrollbar");v&&v.length&&v.remove()}},__eb:function(){var t=this,e=t.__a,_=t.__dQ,i=t.__dN;if(t.__dR)if(t.__bL){var r=t.__bL,s=function(){var _=r.scrollTop(),i=e.height()-r.height();_>=0&&_<=i?t.__eg(r,_):t.__eh(r)};t.on("destroy",function(){r.off("scroll.customsticky",s)}),r.on("scroll.customsticky",s),s()}else{var a=l(window),o=t.__dQ.height(),d=+t.__dT,n=function(){var _=a.scrollTop(),i=e.offset().top-d,l=i+e.height()-o;_>=i&&_<=l?t.__eg(a,_-i):t.__eh(a)};t.on("destroy",function(){a.off("scroll.sticky")}),t.__dS?a.on("scroll.sticky",function(){t.__eh(a),clearTimeout(t.__ei),t.__ei=setTimeout(t.wrapAsync(function(){var l=a.scrollTop(),r=e.offset().top-d,s=r+e.height()-o;if(l>=r&&l<=s){t.__eg(a,l-r-o);_.animate({top:l-r},200),i&&i.animate({top:l-r},200)}else t.__eh(a)}),250)}):a.on("scroll.sticky",n),n()}},__eg:function(t,e){var _=this.__dP,i=this.__dQ,l=this.__dL,r=this.__dN,s=i.height();_.css({paddingTop:s}),i.css({position:"absolute",zIndex:80,top:e}),r&&(l.css({paddingTop:s}),r.css({position:"absolute",zIndex:80,top:e}))},__eh:function(t){var e=this.__dP,_=this.__dQ,i=this.__dL,l=this.__dN;e.css({paddingTop:0}),_.css({position:"initial",zIndex:"auto",top:"auto"}),l&&(i.css({paddingTop:0}),l.css({position:"initial",zIndex:"auto",top:"auto"}))},__e_:function(){var t=function(t){for(var e=t.find("tbody>tr"),_=t.find("thead>tr"),i=[],r=t.find("thead>tr:first-child>th"),s=0;s<r.length;s++)for(var a=r.eq(s),o=+a.attr("colspan")||1,d=a.outerWidth(),n=0;n<o;n++)i.push(d/o);var h=e.length;if(h>0)for(s=0;s<h;s++){var c=l(e[s]).find("td"),f=0;for(n=0;n<c.length;n++){o=+(p=c.eq(n)).attr("colspan")||1,d=0;for(var v=0;v<o;v++)d+=i[v+f];p.css("width",d),f+=o}}var x=[];for(s=0;s<_.length;s++){var g=l(_[s]).find("th"),b=(f=0,[]);for(n=0;n<g.length;n++){o=+(p=g.eq(n)).attr("colspan")||1;var p,u=+p.attr("rowspan")||1;b.push({x:f,y:s,colspan:o,rowspan:u,left:p.offset().left}),f+=o}x.push(b)}for(var m=0;m<x.length-1;m++){b=x[m];for(var w=0;w<b.length;w++){var y=b[w];if(y.rowspan>1)for(var k=m+1;k<x.length&&y.rowspan>k-m;k++)for(var z=x[k],q=0;q<z.length;q++){var L=z[q];L.left>y.left&&(L.x+=y.colspan)}}}for(s=0;s<_.length;s++){for(g=l(_[s]).find("th"),n=0;n<g.length;n++){d=0;var T=x[s][n];for(v=0;v<T.colspan;v++)d+=i[T.x+v];g.eq(n).css("width",d)}x.push(b)}};t(this.__dO);var e=this.__dK;e&&t(e)},__ej:function(t){var e=t.find("thead>tr:first-child>th"),_=t.attr("width");if(!_){_=0;for(var i=e.length;i--;){var l,s=e.eq(i),a=120,o=s.attr("style");if(o)(l=o.match(r))&&(a=parseInt(l[1]));else a=(l=s.attr("width"))?+l:s.outerWidth();_+=a}}return+_},__dX:function(){var t=this.__dK,e=this.__dL,_=this.__ej(t);t.css("width",_),t.find("thead").css("width",_),e.css("width",t.outerWidth())},__dY:function(){var t=this,e=t.__a,_=t.__dO,i=t.__dK,l=e.width()-i.outerWidth(),r=t.__ej(_),s=t.__dL;r>l?(_.css("width",r),_.find("thead").css("width",r),s.css({position:"relative","z-index":2}),s.addClass("_zs_gallerykt")):(_.css("width",l),_.find("thead").css("width",l),s.removeClass("_zs_gallerykt"))},__dZ:function(){for(var t=this.__dO,e=this.__dK,_=t.find("tbody>tr"),i=e.find("tbody>tr"),r=0;r<i.length;r++){var s=Math.max(l(i[r]).height(),l(_[r]).height());l(i[r]).height(s),l(_[r]).height(s)}var a=t.find("thead>tr"),o=e.find("thead>tr"),d=function(t){for(var e=0,_=0;_<t.length;_++)e+=l(t[_]).height();return e},n=Math.max(d(a),d(o));1==a.length&&a.height(n),1==o.length&&o.height(n)},"$doc<htmlchanged>":function(t){this.owner&&this.owner.pId==t.vId&&this.__ek()},"$doc<navslidend,tableresize>":function(t){this.__ek()},"$win<resize>":function(t){this.__ek()},__ek:function(){this.__el(),i.task&&i.task(this.__el,[],this)},__el:function(){var t=this;t.__dK&&(t.__dY(),t.__dZ(),t.__ea()),t.__e_()},__dW:function(t,e){var _=this,i=_.__dU,l=_.__dO.find("tbody>tr");if(0!=l.length){e=e+"Class";var r=l.eq(t);r&&r.length&&"none"!=r.css("display")||(t=0,_.__dJ=t,_.__a.attr("data-hover",t),r=l.eq(t)),r[e](i);var s=r.next(".operation-tr"),a=s&&s.length;a&&s[e]("operation-tr-open");var o=_.__dK;if(o){var d=o.find("tbody>tr").eq(t);if(d[e](i),a)d.next(".operation-tr")[e]("operation-tr-open")}}},"$tbody>tr<mouseover>":function(t){var e=this,_=(e.__dU,t.eventTarget);if(!i.inside(t.relatedTarget,_)&&!l(_).hasClass("operation-tr")){e.__dW(e.__dJ,"remove");var r=l(_).parents("tbody").find("tr").index(_);e.__dJ=r,e.__dW(r,"add")}},__ec:function(t){if(this.__ee){var e,_=t.scrollTop(),i=this.__dL,r=this.__dO,s=l("#"+this.id+"_scrollbar"),a=s.find("._zs_galleryks"),o=s.height(),d=(a.height(),i.width());e=r.height()>t.height()?t.height()-o+_:t.height()-o,s.css({display:"block",position:"absolute",left:d,top:e})}},__ed:function(t){if(this.__ee){var e,_=t.scrollTop(),i=t.height(),r=this.__dL,s=this.__dO.find("tbody"),a=l("#"+this.id+"_scrollbar"),o=a.find("._zs_galleryks"),d=a.height(),n=o.height(),h=s.offset().top,c=h+s.height()+d-n;if(c<_||h>_+i)a.css({display:"none"});else if(_<=(e=c)&&e<=_+i){var f=r.width();a.css({display:"block",position:"absolute",left:f,bottom:n-d})}else{f=r.offset().left+r.width();a.css({display:"block",position:"fixed",left:f,bottom:0})}}}})});