define("mx-table/index",["magix","$"],(t,e,i)=>{var _=t("magix"),l=t("$"),r=/width\s*:\s*(\d+)px/;_.applyStyle("_zs_galleryaB",'[mx-view*="mx-table/excel"],[mx-view*="mx-table/index"]{position:relative}[mx-view*="mx-table/excel"] table,[mx-view*="mx-table/index"] table{table-layout:auto}[mx-view*="mx-table/excel"] ._zs_gallerykv,[mx-view*="mx-table/excel"] ._zs_gallerykw,[mx-view*="mx-table/index"] ._zs_gallerykv,[mx-view*="mx-table/index"] ._zs_gallerykw{position:absolute;left:0;right:0;overflow-x:scroll;overflow-y:hidden}[mx-view*="mx-table/excel"] ._zs_gallerykw,[mx-view*="mx-table/index"] ._zs_gallerykw{top:0;z-index:1;-ms-overflow-style:none;overflow:auto}[mx-view*="mx-table/excel"] ._zs_gallerykw::-webkit-scrollbar,[mx-view*="mx-table/index"] ._zs_gallerykw::-webkit-scrollbar{display:none;width:0;height:0}[mx-view*="mx-table/excel"] ._zs_gallerykw::-webkit-scrollbar-thumb,[mx-view*="mx-table/index"] ._zs_gallerykw::-webkit-scrollbar-thumb{background-color:transparent}[mx-view*="mx-table/excel"] ._zs_gallerykv,[mx-view*="mx-table/index"] ._zs_gallerykv{display:none;z-index:2;opacity:.3}[mx-view*="mx-table/excel"] ._zs_gallerykv ._zs_gallerykx,[mx-view*="mx-table/index"] ._zs_gallerykv ._zs_gallerykx{height:1px}[mx-view*="mx-table/excel"] ._zs_gallerykv::-webkit-scrollbar,[mx-view*="mx-table/index"] ._zs_gallerykv::-webkit-scrollbar{width:14px;height:14px}[mx-view*="mx-table/excel"] ._zs_gallerykv::-webkit-scrollbar-thumb,[mx-view*="mx-table/index"] ._zs_gallerykv::-webkit-scrollbar-thumb{background-color:var(--color-brand);border-radius:7px}[mx-view*="mx-table/excel"] ._zs_galleryky,[mx-view*="mx-table/index"] ._zs_galleryky{box-shadow:3px 0 4px rgba(0,0,0,.06)}'),i.exports=_.View.extend({init:function(t){var e=this;e.__dH=0;var i=l("#"+e.id);e.__a=i;var _=i.find('table[left="true"]');_&&_.length>0?(e.__dI=_,e.__dJ=e.__dK(_,"left"),e.__dL=_.find("thead"),e.__dM=i.find('table[center="true"]')):e.__dM=i.find("table"),e.__dN=e.__dK(e.__dM,"main"),e.__dO=e.__dM.find("thead"),e.__dP=t.sticky+""=="true",e.__dQ=t.stickyEnd+""=="true",e.__dR=t.stickyInterval||0,e.__dS=t.rowHoverClass||"hover-tr",t.scrollWrapper&&(e.__bL=l("#"+t.scrollWrapper)),e.assign()},assign:function(){return!0},render:function(){var t=this;t.__dT(),t.__dU(t.__dH,"add"),_.task&&_.task(t.__dT,[],t)},__dK:function(t,e){e=this.id+"_"+e,t.attr("id",e+"_table");var i=t.parent("div");return i.attr(e,e),i},__dT:function(){var t=this,e=t.__dI;t.__dM;if(e){t.__dV();var i=t.__dN;i.addClass("_zs_gallerykw"),i.css("left",e.outerWidth()),t.__dW(),t.__dX()}t.__dY(),t.__dZ(),t.__e_()},__dZ:function(){var t,e,i=this,_=i.id,r=i.__dJ;if(i.__bL?(t=i.__bL,e=function(){i.__ea(t)}):(t=l(window),e=function(){i.__eb(t)}),r&&r.length>0&&r.hasClass("_zs_galleryky")){i.__ec=!0;var s=i.__dN,a=i.__dM,o=s.width(),d=a.width(),n=l("#"+_+"_scrollbar");if(n&&n.length)n.css({width:o}),n.find("._zs_gallerykx").width(d);else{var h='<div id="'+_+'_scrollbar" class="_zs_gallerykv" style="width:'+o+'px;"><div class="_zs_gallerykx" style="width:'+d+'px;"><div><div>';s.after(l(h)),n=l("#"+_+"_scrollbar")}var c=function(){s[0].scrollLeft=n[0].scrollLeft},f=function(){var t=s[0].scrollLeft;n[0].scrollLeft=t,i.__ed=t};n.off("scroll",c).on("scroll",c),s.off("scroll",f).on("scroll",f),i.on("destroy",function(){t.off("scroll.custombar",e)}),t.off("scroll.custombar",e).on("scroll.custombar",e),e(),i.__ed&&(s[0].scrollLeft=i.__ed,n[0].scrollLeft=i.__ed)}else{i.__ec=!1;var v=l("#"+_+"_scrollbar");v&&v.length&&v.remove()}},__e_:function(){var t=this,e=t.__a,i=t.__dO,_=t.__dL;if(t.__dP)if(t.__bL){var r=t.__bL,s=function(){var i=r.scrollTop(),_=e.height()-r.height();i>=0&&i<=_?t.__ee(r,i):t.__ef(r)};t.on("destroy",function(){r.off("scroll.customsticky",s)}),r.on("scroll.customsticky",s),s()}else{var a=l(window),o=t.__dO.height(),d=+t.__dR,n=function(){var i=a.scrollTop(),_=e.offset().top-d,l=_+e.height()-o;i>=_&&i<=l?t.__ee(a,i-_):t.__ef(a)};t.on("destroy",function(){a.off("scroll.sticky")}),t.__dQ?a.on("scroll.sticky",function(){t.__ef(a),clearTimeout(t.__eg),t.__eg=setTimeout(t.wrapAsync(function(){var l=a.scrollTop(),r=e.offset().top-d,s=r+e.height()-o;if(l>=r&&l<=s){t.__ee(a,l-r-o);i.animate({top:l-r},200),_&&_.animate({top:l-r},200)}else t.__ef(a)}),250)}):a.on("scroll.sticky",n),n()}},__ee:function(t,e){var i=this.__dN,_=this.__dO,l=this.__dJ,r=this.__dL,s=_.height();i.css({paddingTop:s}),_.css({position:"absolute",zIndex:80,top:e}),r&&(l.css({paddingTop:s}),r.css({position:"absolute",zIndex:80,top:e}))},__ef:function(t){var e=this.__dN,i=this.__dO,_=this.__dJ,l=this.__dL;e.css({paddingTop:0}),i.css({position:"initial",zIndex:"auto",top:"auto"}),l&&(_.css({paddingTop:0}),l.css({position:"initial",zIndex:"auto",top:"auto"}))},__dY:function(){var t=function(t){var e=t.find("tbody>tr"),i=e.length,_=t.find("thead>tr"),r=[];if(i>0){for(var s=t.find("tbody>tr:first-child>td"),a=0;a<s.length;a++)for(var o=+(w=s.eq(a)).attr("colspan")||1,d=w.outerWidth(),n=0;n<o;n++)r.push(d/o);for(a=0;a<i;a++){var h=l(e[a]).find("td"),c=0;for(n=0;n<h.length;n++){o=+(w=h.eq(n)).attr("colspan")||1,d=0;for(var f=0;f<o;f++)d+=r[f+c];w.css("width",d),c+=o}}}else{var v=t.find("thead>tr:first-child>th");for(a=0;a<v.length;a++){var x=v.eq(a);for(o=+x.attr("colspan")||1,d=x.outerWidth(),n=0;n<o;n++)r.push(d/o)}}var g=[];for(a=0;a<_.length;a++){var b=l(_[a]).find("th"),p=(c=0,[]);for(n=0;n<b.length;n++){o=+(w=b.eq(n)).attr("colspan")||1;var w,u=+w.attr("rowspan")||1;p.push({x:c,y:a,colspan:o,rowspan:u,left:w.offset().left}),c+=o}g.push(p)}for(var m=0;m<g.length-1;m++){p=g[m];for(var y=0;y<p.length;y++){var k=p[y];if(k.rowspan>1)for(var z=m+1;z<g.length&&k.rowspan>z-m;z++)for(var I=g[z],T=0;T<I.length;T++){var L=I[T];L.left>k.left&&(L.x+=k.colspan)}}}for(a=0;a<_.length;a++){for(b=l(_[a]).find("th"),n=0;n<b.length;n++){d=0;var M=g[a][n];for(f=0;f<M.colspan;f++)d+=r[M.x+f];b.eq(n).css("width",d)}g.push(p)}};t(this.__dM);var e=this.__dI;e&&t(e)},__eh:function(t){var e=t.find("thead>tr:first-child>th"),i=t.attr("width");if(!i){i=0;for(var _=e.length;_--;){var l,s=e.eq(_),a=120,o=s.attr("style");if(o)(l=o.match(r))&&(a=parseInt(l[1]));else a=(l=s.attr("width"))?+l:s.outerWidth();i+=a}}return+i},__dV:function(){var t=this.__dI,e=this.__dJ,i=this.__eh(t);t.css("width",i),t.find("thead").css("width",i),e.css("width",t.outerWidth())},__dW:function(){var t=this,e=t.__a,i=t.__dM,_=t.__dI,l=e.width()-_.outerWidth(),r=t.__eh(i),s=t.__dJ;r>l?(i.css("width",r),i.find("thead").css("width",r),s.css({position:"relative","z-index":2}),s.addClass("_zs_galleryky")):(i.css("width",l),i.find("thead").css("width",l),s.removeClass("_zs_galleryky"))},__dX:function(){for(var t=this.__dM,e=this.__dI,i=t.find("tbody>tr"),_=e.find("tbody>tr"),r=0;r<_.length;r++){var s=Math.max(l(_[r]).height(),l(i[r]).height());l(_[r]).height(s),l(i[r]).height(s)}var a=t.find("thead>tr"),o=e.find("thead>tr"),d=function(t){for(var e=0,i=0;i<t.length;i++)e+=l(t[i]).height();return e},n=Math.max(d(a),d(o));1==a.length&&a.height(n),1==o.length&&o.height(n)},"$doc<htmlchanged>":function(t){this.owner&&this.owner.pId==t.vId&&this.__ei()},"$doc<navslidend,tableresize>":function(t){this.__ei()},"$win<resize>":function(t){this.__ei()},__ei:function(){this.__ej(),_.task&&_.task(this.__ej,[],this)},__ej:function(){var t=this;t.__dI&&(t.__dW(),t.__dX(),t.__dZ()),t.__dY()},__dU:function(t,e){var i=this,_=i.__dS,l=i.__dM.find("tbody>tr");if(0!=l.length){e=e+"Class";var r=l.eq(t);r&&r.length&&"none"!=r.css("display")||(t=0,i.__dH=t,i.__a.attr("data-hover",t),r=l.eq(t)),r[e](_);var s=r.next(".operation-tr"),a=s&&s.length;a&&s[e]("operation-tr-open");var o=i.__dI;if(o){var d=o.find("tbody>tr").eq(t);if(d[e](_),a)d.next(".operation-tr")[e]("operation-tr-open")}}},"$tbody>tr<mouseover>":function(t){var e=this,i=(e.__dS,t.eventTarget);if(!_.inside(t.relatedTarget,i)&&!l(i).hasClass("operation-tr")){e.__dU(e.__dH,"remove");var r=l(i).parents("tbody").find("tr").index(i);e.__dH=r,e.__dU(r,"add")}},__ea:function(t){if(this.__ec){var e,i=t.scrollTop(),_=this.__dJ,r=this.__dM,s=l("#"+this.id+"_scrollbar"),a=s.find("._zs_gallerykx"),o=s.height(),d=(a.height(),_.width());e=r.height()>t.height()?t.height()-o+i:t.height()-o,s.css({display:"block",position:"absolute",left:d,top:e})}},__eb:function(t){if(this.__ec){var e,i=t.scrollTop(),_=t.height(),r=this.__dJ,s=this.__dM.find("tbody"),a=l("#"+this.id+"_scrollbar"),o=a.find("._zs_gallerykx"),d=a.height(),n=o.height(),h=s.offset().top,c=h+s.height()+d-n;if(c<i||h>i+_)a.css({display:"none"});else if(i<=(e=c)&&e<=i+_){var f=r.width();a.css({display:"block",position:"absolute",left:f,bottom:n-d})}else{f=r.offset().left+r.width();a.css({display:"block",position:"fixed",left:f,bottom:0})}}}})});