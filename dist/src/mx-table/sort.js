define("mx-table/sort",["$","magix"],(r,e,t)=>{var a=r("$"),o=r("magix"),s=o.Router,i={desc:"&#xe606;",asc:"&#xe607;",default:"&#xe608;"};t.exports={ctor:function(){var r=this,e=function(){for(var e=s.parse().params,t=a("#"+r.id).find('[mx-view*="mx-table/index"]'),d=0;d<t.length;d++){for(var c=t[d],n=!1,l=0;l<d;l++){var f=t[l];if(o.inside(c,f)){n=!0;break}}if(!n)for(var v=c.querySelectorAll("[sort-trigger]"),p=0;p<v.length;p++){var x=a(v[p]),m=x.closest('[mx-view*="mx-table/index"]');if(m[0]==c){var y=x.attr("sort-trigger"),u=x.attr("order-field-key")||"orderField",g=x.attr("sort-field")||e[u],b=x.attr("order-by-key")||"orderBy",k=x.attr("sort-orderby")||e[b]||"default",h=void 0;h=g==y?i[k]:i.default;var w=m.attr("mxa");r["@{"+w+".order.field.key}"]=u,r["@{"+w+".order.field}"]=g,r["@{"+w+".order.by.key}"]=b,r["@{"+w+".order.by}"]=k,x.html('<i class="mc-iconfont displacement-2 cursor-pointer">'+h+"</i>")}}}};r.on("rendered",e),r.on("domready",e)},sort:function(r,e,t){r=r||[];var a=s.parse().params;t=t||"orderBy";var o=a[e=e||"orderField"],i=a[t];if(!o)return r;for(var d=[],c=0;c<r.length;c++){var n=r[c];n[o]||(d.push(n),r.splice(c--,1))}return(r=r.sort(function(r,e){var t,a=r[o]+"",s=e[o]+"";if(isNaN(parseInt(a))||isNaN(parseInt(s)))switch(i){case"desc":t=s.toUpperCase()<a.toUpperCase()?-1:1;break;case"asc":t=a.toUpperCase()<s.toUpperCase()?-1:1}else switch(i){case"desc":t=+s-+a;break;case"asc":t=+a-+s}return t})).concat(d)},"$[sort-trigger]<click>":function(r){var e,t,o=this,i=(a("#"+o.id),a(r.eventTarget)),d=i.attr("sort-trigger"),c=i.closest('[mx-view*="mx-table/index"]').attr("mxa"),n=o["@{"+c+".order.field}"],l=o["@{"+c+".order.by}"],f=d;e=n==d?"asc"==l?"desc":"asc":"desc",s.to(((t={})[o["@{"+c+".order.field.key}"]]=f,t[o["@{"+c+".order.by.key}"]]=e,t))}}});