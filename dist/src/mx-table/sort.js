define("mx-table/sort",["$","magix"],(e,r,t)=>{var a=e("$"),i=e("magix").Router,o={desc:"&#xe606;",asc:"&#xe607;",default:"&#xe608;"};t.exports={ctor:function(){var e=this,r=function(){var r=i.parse().params;a("#"+e.id).find('[mx-view*="mx-table/index"]').each(function(t,i){var s=i.id;i.vframe.pId==e.id&&(i=a(i)).find("[sort-trigger]").each(function(t,i){var d=(i=a(i)).closest('[mx-view*="mx-table/index"]');if(s==d[0].id){var c=i.attr("sort-trigger"),n=i.attr("order-field-key")||"orderField",f=i.attr("sort-field")||r[n],l=i.attr("order-by-key")||"orderBy",p=i.attr("sort-orderby")||r[l]||"default",v=void 0;v=f==c?o[p]:o.default,e["@{"+s+".order.field.key}"]=n,e["@{"+s+".order.field}"]=f,e["@{"+s+".order.by.key}"]=l,e["@{"+s+".order.by}"]=p,i.html('<i class="mc-iconfont displacement-2 cursor-pointer">'+v+"</i>")}})})};e.on("rendered",r),e.on("domready",r)},sort:function(e,r,t){e=e||[];var a=i.parse().params;t=t||"orderBy";var o=a[r=r||"orderField"],s=a[t];if(!o)return e;for(var d=[],c=0;c<e.length;c++){var n=e[c];n[o]||(d.push(n),e.splice(c--,1))}return(e=e.sort(function(e,r){var t,a=e[o]+"",i=r[o]+"";if(isNaN(parseInt(a))||isNaN(parseInt(i)))switch(s){case"desc":t=i.toUpperCase()<a.toUpperCase()?-1:1;break;case"asc":t=a.toUpperCase()<i.toUpperCase()?-1:1}else switch(s){case"desc":t=+i-+a;break;case"asc":t=+a-+i}return t})).concat(d)},"$[sort-trigger]<click>":function(e){var r,t,o=this,s=(a("#"+o.id),a(e.eventTarget)),d=s.attr("sort-trigger"),c=s.closest('[mx-view*="mx-table/index"]')[0].id,n=o["@{"+c+".order.field}"],f=o["@{"+c+".order.by}"],l=d;r=n==d?"asc"==f?"desc":"asc":"desc",i.to(((t={})[o["@{"+c+".order.field.key}"]]=l,t[o["@{"+c+".order.by.key}"]]=r,t))}}});