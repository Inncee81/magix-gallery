define("mx-collapse/index",["magix","$"],(e,l,r)=>{var a=e("magix"),t=e("$");a.applyStyle("_zs_galleryA","._zs_gallerydk{border-radius:var(--border-radius);border:1px solid var(--color-border);overflow:hidden}._zs_gallerydk ._zs_gallerydl{border-bottom:1px solid var(--color-border)}._zs_gallerydk ._zs_gallerydl ._zs_gallerydm{cursor:pointer;position:relative;padding:10px 24px;background-color:var(--color-bg)}._zs_gallerydk ._zs_gallerydl ._zs_gallerydm ._zs_gallerydn>*{position:absolute;top:50%;left:20px;width:20px;height:20px;text-align:center;line-height:20px;margin-top:-10px;transition:all var(--duration);color:#999}._zs_gallerydk ._zs_gallerydl ._zs_gallerydm ._zs_gallerydo{margin-left:20px}._zs_gallerydk ._zs_gallerydl ._zs_gallerydp{display:none;border-top:1px solid var(--color-border);overflow:hidden;transition:height var(--duration),opacity var(--duration)}._zs_gallerydk ._zs_gallerydl ._zs_gallerydp ._zs_gallerydq{padding:10px 24px}._zs_gallerydk ._zs_gallerydl ._zs_gallerydp ._zs_gallerydo{line-height:22px}._zs_gallerydk ._zs_gallerydl:last-child{border-bottom:0}._zs_gallerydk ._zs_gallerydl._zs_gallerydr ._zs_gallerydm{opacity:.5;cursor:not-allowed}._zs_gallerydk ._zs_gallerydl._zs_galleryds ._zs_gallerydm ._zs_gallerydn>*{transform:rotate(90deg)}"),r.exports=a.View.extend({tmpl:function(e,l,r,a,t,i,n,d){if(r||(r=e),!t){var s={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},o=/[&<>"'`]/g,_=function(e){return"&"+s[e]+";"};t=function(e){return""+(null==e?"":e)},a=function(e){return t(e).replace(o,_)}}if(!i){var g={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},p=function(e){return g[e]},y=/[!')(*]/g;i=function(e){return encodeURIComponent(t(e)).replace(y,p)}}if(!d){var c=/[\\'"]/g;d=function(e){return t(e).replace(c,"\\$&")}}n||(n=function(e,l,r,a){for(a=e[u];--a;)if(e[r=u+a]===l)return r;return e[r=u+e[u]++]=l,r});var u="",z="",x=e.list,f=e.viewId;z+='<div mxv mxa="_zs_galleryay:_" class="_zs_gallerydk">';for(var h=0,v=x.length;h<v;h++){var m=x[h];z+='<div mxv class="_zs_gallerydl ',m.expand&&(z+=" _zs_galleryds "),z+=" ",m.disabled&&(z+=" _zs_gallerydr "),z+='"><div class="_zs_gallerydm" ',m.disabled||(z+=' mx-click="'+l+"toggle({index: "+a(h)+'})" '),z+='><span mxa="_zs_galleryay:a" class="_zs_gallerydn">'+t(m.arrow)+'</span><span mxa="_zs_galleryay:b" class="_zs_gallerydo">'+a(m.title)+"</span></div>",m.disabled||(z+='<div mxv class="_zs_gallerydp" id="'+a(f)+"_content_"+a(h)+'" style="',m.height&&(z+=" \n                display: block; \n                ",m.expand?z+=" \n                    opacity: 1; height: "+a(m.height)+"px; \n                ":z+=" \n                    opacity: 0; height: 0; border-top: 0 none; \n                ",z+=" \n            "),z+='"><div mxv="list" class="_zs_gallerydq" mx-view="'+a(m.view)+"?data="+n(r,m)+'"></div></div>'),z+="</div>"}return z+="</div>"},init:function(e){var l=this;l.__a=t("#"+l.id),l.updater.snapshot(),l.assign(e),l.owner.oncreated=function(){if(!l.$init){l.$init=1;var e=l.id,r=l.updater.get("list");r.forEach(function(l,r){var a=t("#"+e+"_content_"+r);l.height=a.outerHeight()}),l.updater.digest({list:r})}},l.ondestroy=function(){l.owner.off("created")}},assign:function(e){var l=this.updater.altered();return this.updater.set({viewId:this.id,onlyOne:e.onlyOne+""!="false",originList:e.list||[]}),l||(l=this.updater.altered()),!!l&&(this.updater.snapshot(),!0)},render:function(){this.$init=null;var e=this.updater.get("originList"),l=t.extend(!0,[],e),r=!1;if(l.forEach(function(e,l){e.arrow||(e.arrow='<span class="mc-iconfont" style="font-size: 14px;">&#xe602;</span>'),e.view||(e.view="mx-collapse/content"),e.expand=e.expand||!1,e.disabled&&(e.expand=!1),r=r||e.expand}),!r)for(var a=0;a<l.length;a++)if(!l[a].disabled){l[a].expand=!0;break}this.updater.digest({list:l}),r||this.__af()},__af:function(){var e=this.updater.get("list");this.__a.trigger({type:"change",expands:e.map(function(e){return e.expand})})},"toggle<click>":function(e){var l=e.params.index,r=this.updater.get(),a=r.list,t=r.onlyOne;a.forEach(function(e,r){r==l?e.expand=!e.expand:t&&(e.expand=!1)}),this.updater.digest({list:a}),this.__af()}})});