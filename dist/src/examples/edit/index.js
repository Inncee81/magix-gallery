define("examples/edit/index",["magix","./theme","$","mx-form/index","mx-form/validator","mx-dialog/index","mx-color/picker","mx-popover/index"],(e,t,r)=>{e("mx-color/picker"),e("mx-popover/index");var a=e("magix"),i=e("./theme"),l=(e("$"),e("mx-form/index")),o=e("mx-form/validator"),s=e("mx-dialog/index");a.applyStyle("_zs_galleryd",'._zs_galleryaf{display:inline-block;width:var(--input-height);height:var(--input-height);border-radius:50%;vertical-align:middle}:root{--edit-theme-width:126px;--edit-nav-size:20px;--edit-group-height:50px;--edit-wrapper-height:calc(var(--edit-group-height)*2 + 800px)}._zs_galleryag{float:left;text-align:center}._zs_galleryah{position:relative;height:var(--edit-wrapper-height)}._zs_galleryai{position:absolute;z-index:3;top:calc(0px - var(--edit-nav-size));left:0;height:var(--edit-nav-size);text-align:center;transition:left var(--duration)}._zs_galleryai ._zs_galleryaj,._zs_galleryai ._zs_galleryak{display:inline-block;width:0;height:0;border-left:var(--edit-nav-size) solid transparent;border-bottom:var(--edit-nav-size) solid var(--color-border);border-right:var(--edit-nav-size) solid transparent;border-top:0 solid transparent}._zs_galleryai ._zs_galleryak{position:absolute;top:1px;left:50%;margin-left:calc(0px - var(--edit-nav-size));border-color:transparent transparent #fff}._zs_galleryal{position:absolute;z-index:2;top:0;left:0;height:100%;padding-left:15px;border:1px solid var(--color-border);border-radius:var(--border-radius)}._zs_galleryal ._zs_galleryam{float:left;width:120px;height:90px}._zs_galleryal ._zs_galleryan{position:relative;top:1px;margin-left:3px;color:#999;font-size:14px}._zs_galleryal ._zs_galleryao{height:var(--edit-group-height);line-height:var(--edit-group-height);font-size:calc(var(--font-size) + 2px)}._zs_galleryal ._zs_galleryap{width:100px;border-radius:var(--border-radius)}._zs_galleryal ._zs_galleryap [mx-view*="mx-color/picker"],._zs_galleryal ._zs_galleryap [mx-view*="mx-color/picker"] .mx-trigger{background-color:transparent}._zs_galleryaq{padding:0 20px}._zs_galleryaq ._zs_galleryar{width:100%;height:var(--edit-wrapper-height);border:1px solid var(--color-border)}._zs_galleryas{position:relative;padding-left:calc(var(--font-size)*15)}._zs_galleryas ._zs_galleryat{position:absolute;top:0;left:0;width:calc(var(--font-size)*15)}._zs_galleryau{position:relative;height:36px;white-space:nowrap}._zs_galleryau ._zs_galleryav{position:absolute;top:18px;left:0;color:#999}._zs_galleryau ._zs_galleryaw{font-size:12px;color:#999}'),r.exports=i.extend({tmpl:function(e,t,r,a,i,l,o,s){if(r||(r=e),!i){var n={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},p=/[&<>"'`]/g,d=function(e){return"&"+n[e]+";"};i=function(e){return""+(null==e?"":e)},a=function(e){return i(e).replace(p,d)}}if(!l){var c={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},v=function(e){return c[e]},g=/[!')(*]/g;l=function(e){return encodeURIComponent(i(e)).replace(g,v)}}if(!s){var h=/[\\'"]/g;s=function(e){return i(e).replace(h,"\\$&")}}o||(o=function(e,t,r,a){for(a=e[y];--a;)if(e[r=y+a]===t)return r;return e[r=y+e[y]++]=t,r});var y="",x="",_=e.themes,m=e.itemWidth,f=e.custom,u=e.cur,b=e.list,z=e.viewId;x+='<div mxs="_zs_galleryf:_" class="tip-content has-border has-highlight mb20 mr20"><div class="clearfix lh24"><div class="fl">操作说明：</div><div class="fl"><div>1. 选择预置主题（钻展/直通车/超级推荐）或者自定义一个颜色作为项目品牌色；</div><div>2. 系统根据品牌色计算出默认色值，可在此基础上进行调整；</div><div>3. 左侧编辑区域列举可设置的变量，支持修改</div><div>4. 右侧iframe嵌入脚手架列举常见场景，与左侧设置的变量实时联动，帮您真实复原应用场景；</div></div></div><div class="clearfix lh24 _zs_galleryas"><div class="_zs_galleryat">关于项目配置和组件配置的说明：</div><div>超级推荐仿照Facebook，趋于将组件颜色统一化，只通过导航颜色区分不同品牌，后续只需要配置项目色值，组件色值所有都统一。</div><div>对于老项目项目品牌色 = 组件品牌色，老项目要做成品牌色变更是比较难的，故过渡阶段兼容配置，项目品牌和组件品牌可分别设置。</div><div>单个操作项说明可hover名称查看</div></div></div><div mxa="_zs_galleryf:_" class="clearfix mb30">';for(var k=0,w=_.length;k<w;k++){var E=_[k];x+='<div class="_zs_galleryag" style="width: '+a(m)+'px;"><div><a href="javascript:;" class="_zs_galleryaf" style="'+a(E.styles)+'" mx-click="'+t+"selectTheme({cur:"+a(k)+'})"></a></div><div mxa="_zs_galleryf:a" class="mt10">'+a(E.text)+"</div></div>"}x+='<div class="_zs_galleryag" style="width: '+a(m)+'px;"><div mx-change="'+t+'changeColor()" mx-view="mx-color/picker?dot=true&color='+l(f)+'"></div><div mxs="_zs_galleryf:a" class="text-center mt10">自定义</div></div><a mxs="_zs_galleryf:b" href="javascript:;" class="fl ml20 btn btn-brand" mx-click="'+t+'copy()">复制我的定制主题</a></div><div mxv class="_zs_galleryah" style="padding-left: '+a(4*m)+'px;"><div class="_zs_galleryai" style="left:'+a(m*u)+"px; width: "+a(m)+'px;"><span mxs="_zs_galleryf:c" class="_zs_galleryaj"></span><span mxs="_zs_galleryf:d" class="_zs_galleryak"></span></div><div mxv class="_zs_galleryal" style="width: '+a(4*m)+'px;">';for(var I=0,T=b.length;I<T;I++){var j=b[I];x+='<div mxa="_zs_galleryf:b" class="_zs_galleryao">'+a(j.text)+'<span class="mc-iconfont color-9" mx-view="mx-popover/index?content='+l(j.tip)+"&width=400&offset="+o(r,{left:140})+'">&#xe629;</span></div><div mxv mxa="_zs_galleryf:c" class="clearfix">';for(var V=0,W=j.subs,q=W.length;V<q;V++){var C=W[V];x+='<div mxv mxa="_zs_galleryf:d" class="_zs_galleryam"><div mxa="_zs_galleryf:e" class="_zs_galleryau mb5"><div mxa="_zs_galleryf:f" class="color-6">'+a(C.text)+'<span class="mc-iconfont _zs_galleryaw" mx-view="mx-popover/index?content='+l(C.tip)+"&width=320&offset="+o(r,{left:80})+'">&#xe629;</span></div><div mxa="_zs_galleryf:g" class="_zs_galleryav">'+a(C.key)+"</div></div>","color"==C.type&&(x+='<div mxv class="_zs_galleryap" style="background-color: '+a(C.value)+';"><div mxv="list" mxe="'+t+"_0_"+a(I)+"_"+a(V)+'" mxc="[{p:\'list.'+a(I)+".subs."+a(V)+".value',a:'color'}]\" mx-change=\""+t+"sync({key:'"+a(s(C.key))+'\'})" mx-view="mx-color/picker?color='+o(r,C.value)+'"></div></div>'),x+=" ","text"==C.type&&(x+='<div mxv><input mxe="'+t+"_1_"+a(I)+"_"+a(V)+'" mxc="[{p:\'list.'+a(I)+".subs."+a(V)+'.value\'}]" class="w100" value="'+a(C.value)+'" mx-change="'+t+"sync({key:'"+a(s(C.key))+"'})\"/></div>"),x+="</div>",C.gap&&(x+='<div mxs="_zs_galleryf:e" class="_zs_galleryam"></div>'),x+=" "}x+="</div>"}return x+='</div><div mxa="_zs_galleryf:h" class="_zs_galleryaq"><iframe src="https://mo.m.taobao.com/page_201904221752051#!/example/second1" class="_zs_galleryar" sandbox="allow-forms allow-popups allow-pointer-lock allow-same-origin allow-scripts" id="frame_'+a(z)+'" width="100%" height="770" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" border="0"></iframe></div></div>'},mixins:[l,o,s],init:function(e){this.initTheme();this.updater.set({viewId:this.id,custom:"#51a300",cur:2,itemWidth:126,list:[{text:"项目配置",tip:"超级推荐仿照Facebook，趋于将组件颜色统一化，只通过导航颜色区分不同品牌，后续只需要配置项目色值，组件色值所有都统一。<br/>对于老项目项目品牌色 = 组件品牌色，项目要做成品牌色变更是比较难的，故过渡阶段兼容配置，项目品牌和组件品牌可分别设置。",subs:[{type:"color",key:"--app-brand",text:"项目品牌色",tip:"项目品牌色，支持渐变，主要用于项目顶部和侧边导航，自定义时默认为项目品牌色 = 组件品牌色"},{type:"color",key:"--app-brand-gradient",text:"项目品牌渐变",tip:"项目品牌色，支持渐变，主要用于项目顶部和侧边导航，自定义时默认为项目品牌色 = 组件品牌色"},{type:"color",key:"--app-nav-bg",text:"项目侧边导航背景",tip:"项目侧边导航背景色"},{type:"color",key:"--app-bg",text:"项目背景",tip:"项目采用卡片色设计，白框底部背景色"}]},{text:"组件配置",tip:"超级推荐仿照Facebook，趋于将组件颜色统一化，只通过导航颜色区分不同品牌，后续只需要配置项目色值，组件色值所有都统一。<br/>对于老项目项目品牌色 = 组件品牌色，项目要做成品牌色变更是比较难的，故过渡阶段兼容配置，项目品牌和组件品牌可分别设置。",subs:[{type:"color",key:"--color-brand",text:"品牌色",tip:"组件品牌色，组件基本色值都基于品牌色产生"},{type:"color",key:"--color-brand-hover",text:"品牌色hover",tip:"组件品牌色hover色值，默认品牌色亮度减少10%"},{type:"color",key:"--color-brand-light",text:"品牌色20%",tip:"主要应用于表格单行hover操作行背景值，开关浅色，滑动轴浅色；默认组件品牌色透明20%"},{type:"color",key:"--color-brand-opacity",text:"品牌色10%",tip:"主要应用于表格单行hover显示行背景值，下拉选项选中态背景色；默认组件品牌色透明10%"},{type:"color",key:"--color-brand-vs",text:"品牌色对比色",tip:"品牌色对比色，常用与报表对比场景"},{type:"color",key:"--border-highlight",text:"组件边框色",tip:"input，dropdown，calendar等组件的边框颜色；默认#e6e6e6"},{type:"color",key:"--border-highlight-hover",text:"组件边框hover色",tip:"input，dropdown，calendar等组件的边框hover颜色；默认#ccc",gap:!0},{type:"color",key:"--btn-brand-text",text:"深底按钮文字",tip:"深底色按钮文字颜色"},{type:"color",key:"--btn-brand",text:"深底按钮",tip:"深底按钮色，支持渐变，默认等于品牌色"},{type:"color",key:"--btn-brand-gradient",text:"深底按钮渐变",tip:"深底按钮色，支持渐变，默认等于品牌色",gap:!0},{type:"color",key:"--btn-brand-text-hover",text:"深底按钮hover文字",tip:"深底色按钮hover时文字颜色"},{type:"color",key:"--btn-brand-hover",text:"深底按钮hover",tip:"深底按钮hover色值，支持渐变，默认等于品牌色hover"},{type:"color",key:"--btn-brand-gradient-hover",text:"深底按钮hover渐变",tip:"深底按钮hover色值，支持渐变，默认等于品牌色hover",gap:!0},{type:"color",key:"--btn-border",text:"浅底按钮边框",tip:"浅底色按钮边框颜色，默认为品牌色"},{type:"color",key:"--btn-bg",text:"浅底按钮背景",tip:"浅底按钮背景色，默认为品牌色10%"},{type:"color",key:"--btn-text",text:"浅底按钮文字",tip:"浅底按钮文字颜色，默认#333",gap:!0},{type:"color",key:"--btn-border-hover",text:"浅底按钮hover边框",tip:"浅底按钮hover时边框颜色，默认为品牌色"},{type:"color",key:"--btn-bg-hover",text:"浅底按钮hover背景",tip:"浅底按钮hover时背景颜色，默认为品牌色20%"},{type:"color",key:"--btn-text-hover",text:"浅底按钮hover文字",tip:"浅底按钮hover文字颜色，默认#333"},{type:"text",key:"--btn-border-radius",text:"按钮圆角",tip:"按钮圆角，默认4px"},{type:"color",key:"--color-warn",text:"黄色警告",tip:"警告场景提示颜色"},{type:"color",key:"--color-red",text:"红色错误",tip:"错误场景提示颜色"},{type:"color",key:"--color-green",text:"绿色通过",tip:"通过场景提示颜色",gap:!0},{type:"text",key:"--font-size",text:"字体",tip:'字体大小，默认12px，组件基于此参数计算节点大小，<span class="color-brand">注：修改字体联动修改正常组件行高，小号组件行高</span>'},{type:"text",key:"--line-height",text:"文本行高",tip:"文本行高，默认1.5"},{type:"text",key:"--input-height",text:"正常组件行高",tip:"input，btn，dropdown，calendar等等组件的trigger节点行高，默认 = 字体 + 20"},{type:"text",key:"--input-small-height",text:"小号组件行高",tip:"小号input，小号btn，dropdown下拉列表单个选项，默认 = 字体 + 14"}]}]})},render:function(){this.setValues()},setValues:function(e){var t=this.updater.get(),r=t.list,a=t.cur,i=t.custom,l=t.themes,o={};if(3==a)o=this.___({"--color-brand":i});else{var s=l[a];o=s.colors}(r.forEach(function(e){e.subs.forEach(function(e){e.value=o[e.key]||""})}),this.updater.digest({list:r}),e)&&document.getElementById("frame_"+this.id).contentWindow.postMessage({type:"changeTheme",colors:o},"*")},"selectTheme<click>":function(e){var t=e.params.cur;this.updater.set({cur:t}),this.setValues(!0)},"changeColor<change>":function(e){this.updater.set({custom:e.color,cur:3}),this.setValues(!0)},"sync<change>":function(e){var t=this.updater.get("list"),r={};if(t.forEach(function(e){e.subs.forEach(function(e){r[e.key]=e.value})}),"--font-size"==e.params.key){var a=r["--font-size"].replace("px","");r["--input-height"]=+a+20+"px",r["--input-small-height"]=+a+14+"px"}t.forEach(function(e){e.subs.forEach(function(e){e.value=r[e.key]})}),this.updater.digest({list:t}),document.getElementById("frame_"+this.id).contentWindow.postMessage({type:"changeTheme",colors:r},"*")},"copy<click>":function(e){var t=this.updater.get("list"),r={};t.forEach(function(e){e.subs.forEach(function(e){r[e.key]=e.value})}),this.mxModal("examples/edit/copy",{colors:r},{header:{title:"复制我的定制主题"},footer:{enter:!1},width:800})}})});