define("mx-popmenu/index",["magix","../mx-util/monitor","mx-popover/base","$"],(_,e,r)=>{var a=_("magix"),t=(a.Vframe,_("../mx-util/monitor")),n=_("mx-popover/base"),o=_("$");a.applyStyle("_zs_galleryZ","._zs_gallerygF,._zs_gallerygG,._zs_gallerygH,._zs_gallerygI,._zs_gallerygJ,._zs_gallerygK,._zs_gallerygL,._zs_gallerygM,._zs_gallerygN,._zs_gallerygO,._zs_gallerygP,._zs_gallerygQ{opacity:0;transition:transform .15s,opacity .15s;transform:scale(0)}._zs_gallerygG,._zs_gallerygN{transform-origin:0 0}._zs_gallerygH,._zs_gallerygK{transform-origin:100% 0}._zs_gallerygF{transform-origin:50% 0}._zs_gallerygL,._zs_gallerygP{transform-origin:0 100%}._zs_gallerygI,._zs_gallerygQ{transform-origin:100% 100%}._zs_gallerygO{transform-origin:50% 100%}._zs_gallerygJ{transform-origin:100% 50%}._zs_gallerygM{transform-origin:0 50%}._zs_gallerygR{opacity:1;transform:scale(1)}._zs_gallerygS{display:none}._zs_gallerygT,._zs_gallerygU{position:absolute;z-index:999999;height:auto;border-radius:var(--border-radius);font-size:12px;line-height:22px;white-space:normal;font-weight:400;font-family:Helvetica,Arial,Microsoft Yahei,Hiragino Sans GB,Heiti SC,WenQuanYi Micro Hei,sans-serif}._zs_gallerygT{background-color:#fff;color:#333}._zs_gallerygT ._zs_gallerygV{padding:10px;word-break:break-all}._zs_gallerygU{background-color:rgba(33,33,33,.72);color:#fff}._zs_gallerygU ._zs_gallerygV{padding:4px 10px}"),r.exports=n.extend({tmpl:function(_,e,r,a,t,n,o,i){if(r||(r=_),!t){var l={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},s=/[&<>"'`]/g,g=function(_){return"&"+l[_]+";"};t=function(_){return""+(null==_?"":_)},function(_){return t(_).replace(s,g)}}if(!n){var c={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},u=function(_){return c[_]},f=/[!')(*]/g;n=function(_){return encodeURIComponent(t(_)).replace(f,u)}}if(!i){var y=/[\\'"]/g;i=function(_){return t(_).replace(y,"\\$&")}}var m="",p=_.trigger;return m+=t(p)+""},init:function(_){var e=this;t.__h();var r=o("#"+e.id);e.__cK=r.html(),e.__a=r,e.__bO=_.triggerType||"hover";var a=function(){clearTimeout(e.__bN),e.__bM=setTimeout(e.wrapAsync(function(){e.__o()}),e.constants.showDelay)},n=_.place||"bc";switch(e.__bO){case"click":r.click(a);break;case"contextmenu":n="bl",e.__cL={left:r.width()/2,top:0-r.height()/2-10},r.contextmenu(function(_){_.preventDefault(),a()});break;case"hover":r.hover(a,function(){e.__bP()})}var i={t:"top",l:"left",r:"right",b:"bottom",c:"center"},l=n.split(""),s=i[l[0]],g=i[l[1]];e.__cC=s,e.__cD=g,e.__cE=e.constants.classNames[[s,g].join("-")]+" _zs_gallerygT mx-shadow",e.__bL=!1,e.__cF=!1,e.__cG=!1,e.__bK=_.scrollWrapper,e.__cM=_.menus||[],e.__cI=_.width?_.width+"px":"auto",e.__cJ="left",e.bindScroll(),e.on("destroy",function(){e.__bM&&clearTimeout(e.__bM),e.__bN&&clearTimeout(e.__bN),o("#popover_"+e.id).remove(),t.__i(e),t.__j()})},render:function(){this.updater.digest({trigger:this.__cK})},__bT:function(){var _=this,e=_.__cE,r=_.__cI,a=_.id,t={menus:_.__cM},n='<div class="_zs_gallerygS '+e+'" id="popover_'+a+'"\n                style="width: '+r+';"></div>';o(document.body).append(n);var i=_.owner.mountVframe("popover_"+a,"");i.on("created",function(){var e=_.__bR();e.removeClass("_zs_gallerygS"),"hover"==_.__bO&&e.hover(function(){clearTimeout(_.__bN)},function(){_.__bP()})}),i.mountView("mx-popmenu/content",{data:t,submit:function(e){_.__n(),_.__a.trigger({type:"change",selected:e})}})},__l:function(_){return a.inside(_,this.id)||a.inside(_,"popover_"+this.id)},__o:function(){var _=this;(clearTimeout(_.__bM),_.__bL||(_.__bL=!0,_.__bT()),_.__cG)||(_.__cG=!0,_.__bR().addClass("_zs_gallerygR"),t.__q(_))},__bP:function(){var _=this;clearTimeout(_.__bM),clearTimeout(_.__bN),_.__bN=setTimeout(_.wrapAsync(function(){_.__n()}),_.constants.hideDelay),t.__i(_)},__n:function(){var _=this;(clearTimeout(_.__bN),_.__cG)&&(_.__cG=!1,o("#popover_"+_.id).removeClass("_zs_gallerygR"),t.__i(_))}})});