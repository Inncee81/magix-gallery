define("mx-popmenu/index",["magix","../mx-util/monitor","mx-popover/base","$"],(_,r,e)=>{var a=_("magix"),t=(a.Vframe,_("../mx-util/monitor")),l=_("mx-popover/base"),o=_("$");a.applyStyle("_zs_galleryZ","._zs_gallerygG,._zs_gallerygH,._zs_gallerygI,._zs_gallerygJ,._zs_gallerygK,._zs_gallerygL,._zs_gallerygM,._zs_gallerygN,._zs_gallerygO,._zs_gallerygP,._zs_gallerygQ,._zs_gallerygR{opacity:0;transition:transform .15s,opacity .15s;transform:scale(0)}._zs_gallerygH,._zs_gallerygO{transform-origin:0 0}._zs_gallerygI,._zs_gallerygL{transform-origin:100% 0}._zs_gallerygG{transform-origin:50% 0}._zs_gallerygM,._zs_gallerygQ{transform-origin:0 100%}._zs_gallerygJ,._zs_gallerygR{transform-origin:100% 100%}._zs_gallerygP{transform-origin:50% 100%}._zs_gallerygK{transform-origin:100% 50%}._zs_gallerygN{transform-origin:0 50%}._zs_gallerygS{opacity:1;transform:scale(1)}._zs_gallerygT{display:none}._zs_gallerygU,._zs_gallerygV{position:absolute;z-index:999999;height:auto;border-radius:var(--border-radius);font-size:12px;line-height:22px;white-space:normal;font-weight:400;font-family:Helvetica,Arial,Microsoft Yahei,Hiragino Sans GB,Heiti SC,WenQuanYi Micro Hei,sans-serif}._zs_gallerygU{background-color:#fff;color:#333}._zs_gallerygU ._zs_gallerygW{padding:10px;word-break:break-all}._zs_gallerygV{background-color:rgba(33,33,33,.72);color:#fff}._zs_gallerygV ._zs_gallerygW{padding:4px 10px}"),e.exports=l.extend({tmpl:function(_,r,e,a,t,l,o,n){if(e||(e=_),!t){var i={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},s=/[&<>"'`]/g,g=function(_){return"&"+i[_]+";"};t=function(_){return""+(null==_?"":_)},function(_){return t(_).replace(s,g)}}if(!l){var c={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},u=function(_){return c[_]},f=/[!')(*]/g;l=function(_){return encodeURIComponent(t(_)).replace(f,u)}}if(!n){var m=/[\\'"]/g;n=function(_){return t(_).replace(m,"\\$&")}}var y="",p=_.trigger;return y+=t(p)+""},init:function(_){var r=this;t.__k();var e=o("#"+r.id);r.__cM=e.html(),r.__a=e,r.__bS=_.triggerType||"hover";var a=function(){clearTimeout(r.__bR),r.__bQ=setTimeout(r.wrapAsync(function(){r.__r()}),r.constants.showDelay)},l=_.place||"bc";switch(r.__bS){case"click":e.click(a);break;case"contextmenu":l="bl",r.__cN={left:e.width()/2,top:0-e.height()/2-10},e.contextmenu(function(_){_.preventDefault(),a()});break;case"hover":e.hover(a,function(){r.__bT()})}var n={t:"top",l:"left",r:"right",b:"bottom",c:"center"},i=l.split(""),s=n[i[0]],g=n[i[1]];r.__cE=s,r.__cF=g,r.__cG=r.constants.classNames[[s,g].join("-")]+" _zs_gallerygU mx-shadow",r.__bP=!1,r.__cH=!1,r.__cI=!1,r.__bO=_.scrollWrapper,r.__cO=_.menus||[],r.__cK=_.width?_.width+"px":"auto",r.__cL="left",r.bindScroll(),r.on("destroy",function(){r.__bQ&&clearTimeout(r.__bQ),r.__bR&&clearTimeout(r.__bR),o("#popover_"+r.id).remove(),t.__l(r),t.__m()})},render:function(){this.updater.digest({trigger:this.__cM})},__bX:function(){var _=this,r=_.__cG,e=_.__cK,a=_.id,t={menus:_.__cO},l='<div class="_zs_gallerygT '+r+'" id="popover_'+a+'"\n                style="width: '+e+';"></div>';o(document.body).append(l);var n=_.owner.mountVframe("popover_"+a,"");n.on("created",function(){var r=_.__bV();r.removeClass("_zs_gallerygT"),"hover"==_.__bS&&r.hover(function(){clearTimeout(_.__bR)},function(){_.__bT()})}),n.mountView("mx-popmenu/content",{data:t,submit:function(r){_.__q(),_.__a.trigger({type:"change",selected:r})}})},__o:function(_){return a.inside(_,this.id)||a.inside(_,"popover_"+this.id)},__r:function(){var _=this;(clearTimeout(_.__bQ),_.__bP||(_.__bP=!0,_.__bX()),_.__cI)||(_.__cI=!0,_.__bV().addClass("_zs_gallerygS"),t.__t(_))},__bT:function(){var _=this;clearTimeout(_.__bQ),clearTimeout(_.__bR),_.__bR=setTimeout(_.wrapAsync(function(){_.__q()}),_.constants.hideDelay),t.__l(_)},__q:function(){var _=this;(clearTimeout(_.__bR),_.__cI)&&(_.__cI=!1,o("#popover_"+_.id).removeClass("_zs_gallerygS"),t.__l(_))}})});