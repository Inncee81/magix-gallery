define("mx-popmenu/index",["magix","../mx-util/monitor","mx-popover/base","$"],(_,r,e)=>{var i=_("magix"),a=(i.Vframe,_("../mx-util/monitor")),t=_("mx-popover/base"),n=_("$");i.applyStyle("_zs_galleryaj","._zs_galleryin,._zs_galleryio,._zs_galleryip,._zs_galleryiq,._zs_galleryir,._zs_galleryis,._zs_galleryit,._zs_galleryiu,._zs_galleryiv,._zs_galleryiw,._zs_galleryix,._zs_galleryiy{opacity:0;transition:transform .15s,opacity .15s;transform:scale(0)}._zs_galleryio,._zs_galleryiv{transform-origin:0 0}._zs_galleryip,._zs_galleryis{transform-origin:100% 0}._zs_galleryin{transform-origin:50% 0}._zs_galleryit,._zs_galleryix{transform-origin:0 100%}._zs_galleryiq,._zs_galleryiy{transform-origin:100% 100%}._zs_galleryiw{transform-origin:50% 100%}._zs_galleryir{transform-origin:100% 50%}._zs_galleryiu{transform-origin:0 50%}._zs_galleryiz{opacity:1;transform:scale(1)}._zs_galleryiA{display:none}._zs_galleryiB,._zs_galleryiC{position:absolute;z-index:9999;height:auto;border-radius:var(--border-radius);font-size:12px;line-height:22px;white-space:normal;font-weight:400;font-family:Helvetica,Arial,Microsoft Yahei,Hiragino Sans GB,Heiti SC,WenQuanYi Micro Hei,sans-serif}._zs_galleryiB{background-color:#fff;color:#333}._zs_galleryiB ._zs_galleryiD{padding:10px;word-break:break-all}._zs_galleryiC{background-color:rgba(33,33,33,.72);color:#fff}._zs_galleryiC ._zs_galleryiD{padding:4px 10px}"),e.exports=t.extend({tmpl:function(_,r,e,i,a,t,n,o){if(e||(e=_),!a){var l={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},s=/[&<>"'`]/g,c=function(_){return"&"+l[_]+";"};a=function(_){return""+(null==_?"":_)},function(_){return a(_).replace(s,c)}}if(!t){var g={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},u=function(_){return g[_]},y=/[!')(*]/g;t=function(_){return encodeURIComponent(a(_)).replace(y,u)}}if(!o){var f=/[\\'"]/g;o=function(_){return a(_).replace(f,"\\$&")}}var p="",m=_.trigger;return p+=a(m)+""},init:function(_){var r=this;a.__h();var e=n("#"+r.id);r.__cI=e.html(),r.__a=e,r.__bP=_.triggerType||"hover";var i=function(){clearTimeout(r.__bO),r.__bN=setTimeout(r.wrapAsync(function(){r.__o()}),r.constants.showDelay)},t=_.place||"bc";switch(r.__bP){case"click":e.click(i);break;case"contextmenu":t="bl",r.__cJ={left:e.width()/2,top:0-e.height()/2-10},e.contextmenu(function(_){_.preventDefault(),i()});break;case"hover":e.hover(i,function(){r.__bQ()})}var o={t:"top",l:"left",r:"right",b:"bottom",c:"center"},l=t.split(""),s=o[l[0]],c=o[l[1]];r.__cA=s,r.__cB=c,r.__cC=r.constants.classNames[[s,c].join("-")]+" _zs_galleryiB mx-shadow",r.__bM=!1,r.__cD=!1,r.__cE=!1,r.__bL=_.scrollWrapper,r.__cK=_.menus||[],r.__cG=_.width?_.width+"px":"auto",r.__cH="left",r.bindScroll(),r.on("destroy",function(){r.__bN&&clearTimeout(r.__bN),r.__bO&&clearTimeout(r.__bO),n("#popover_"+r.id).remove(),a.__i(r),a.__j()})},render:function(){this.updater.digest({trigger:this.__cI})},__bU:function(){var _=this,r=_.__cC,e=_.__cG,i=_.id,a={menus:_.__cK},t='<div class="_zs_galleryiA '+r+'" id="popover_'+i+'"\n                style="width: '+e+';"></div>';n(document.body).append(t);var o=_.owner.mountVframe("popover_"+i,"");o.on("created",function(){var r=_.__bS();r.removeClass("_zs_galleryiA"),"hover"==_.__bP&&r.hover(function(){clearTimeout(_.__bO)},function(){_.__bQ()})}),o.mountView("mx-popmenu/content",{data:a,submit:function(r){_.__n(),_.__a.trigger({type:"change",selected:r})}})},__l:function(_){return i.inside(_,this.id)||i.inside(_,"popover_"+this.id)},__o:function(){var _=this;(clearTimeout(_.__bN),_.__bM||(_.__bM=!0,_.__bU()),_.__cE)||(_.__cE=!0,_.__bS().addClass("_zs_galleryiz"),a.__q(_))},__bQ:function(){var _=this;clearTimeout(_.__bN),clearTimeout(_.__bO),_.__bO=setTimeout(_.wrapAsync(function(){_.__n()}),_.constants.hideDelay),a.__i(_)},__n:function(){var _=this;(clearTimeout(_.__bO),_.__cE)&&(_.__cE=!1,n("#popover_"+_.id).removeClass("_zs_galleryiz"),a.__i(_))}})});