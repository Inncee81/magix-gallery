define("mx-popmenu/index",["magix","../mx-util/monitor","mx-popover/base","$"],(_,r,e)=>{var a=_("magix"),l=(a.Vframe,_("../mx-util/monitor")),t=_("mx-popover/base"),o=_("$");a.applyStyle("_zs_gallerya_","._zs_gallerygW,._zs_gallerygX,._zs_gallerygY,._zs_gallerygZ,._zs_galleryh_,._zs_galleryha,._zs_galleryhb,._zs_galleryhc,._zs_galleryhd,._zs_galleryhe,._zs_galleryhf,._zs_galleryhg{opacity:0;transition:transform .15s,opacity .15s;transform:scale(0)}._zs_gallerygX,._zs_galleryhd{transform-origin:0 0}._zs_gallerygY,._zs_galleryha{transform-origin:100% 0}._zs_gallerygW{transform-origin:50% 0}._zs_galleryhb,._zs_galleryhf{transform-origin:0 100%}._zs_gallerygZ,._zs_galleryhg{transform-origin:100% 100%}._zs_galleryhe{transform-origin:50% 100%}._zs_galleryh_{transform-origin:100% 50%}._zs_galleryhc{transform-origin:0 50%}._zs_galleryhh{opacity:1;transform:scale(1)}._zs_galleryhi{display:none}._zs_galleryhj,._zs_galleryhk{position:absolute;z-index:999999;height:auto;border-radius:var(--border-radius);font-size:12px;line-height:22px;white-space:normal;font-weight:400;font-family:var(--font-family)}._zs_galleryhj{background-color:#fff;color:#333}._zs_galleryhj ._zs_galleryhl{padding:10px;word-break:break-all}._zs_galleryhk{background-color:rgba(33,33,33,.72);color:#fff}._zs_galleryhk ._zs_galleryhl{padding:4px 10px}"),e.exports=t.extend({tmpl:function(_,r,e,a,l,t,o,n){if(e||(e=_),!l){var i={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},s=/[&<>"'`]/g,c=function(_){return"&"+i[_]+";"};l=function(_){return""+(null==_?"":_)},function(_){return l(_).replace(s,c)}}if(!t){var g={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},h=function(_){return g[_]},u=/[!')(*]/g;t=function(_){return encodeURIComponent(l(_)).replace(u,h)}}if(!n){var f=/[\\'"]/g;n=function(_){return l(_).replace(f,"\\$&")}}var m="",y=_.trigger;return m+=l(y)+""},init:function(_){var r=this;l.__k();var e=o("#"+r.id);r.__cP=e.html(),r.__a=e,r.__bU=_.triggerType||"hover";var a=function(){clearTimeout(r.__bT),r.__bS=setTimeout(r.wrapAsync(function(){r.__r()}),r.constants.showDelay)},t=_.place||"bc";switch(r.__bU){case"click":e.click(a);break;case"contextmenu":t="bl",r.__cQ={left:e.width()/2,top:0-e.height()/2-10},e.contextmenu(function(_){_.preventDefault(),a()});break;case"hover":e.hover(a,function(){r.__bV()})}var n={t:"top",l:"left",r:"right",b:"bottom",c:"center"},i=t.split(""),s=n[i[0]],c=n[i[1]];r.__cG=s,r.__cH=c,r.__cI=r.constants.classNames[[s,c].join("-")]+" _zs_galleryhj mx-shadow",r.__bR=!1,r.__cJ=!1,r.__cK=!1,r.__cL=_.scrollWrapper,r.__cR=_.menus||[],r.__cN=_.width?_.width+"px":"auto",r.__cO="left",r.bindScroll(),r.on("destroy",function(){r.__bS&&clearTimeout(r.__bS),r.__bT&&clearTimeout(r.__bT),o("#popover_"+r.id).remove(),l.__l(r),l.__m()})},render:function(){this.updater.digest({trigger:this.__cP})},__bZ:function(){var _=this,r=_.__cI,e=_.__cN,a=_.id,l={menus:_.__cR},t='<div class="_zs_galleryhi '+r+'" id="popover_'+a+'"\n                style="width: '+e+';"></div>';o(document.body).append(t);var n=_.owner.mountVframe("popover_"+a,"");n.on("created",function(){var r=_.__bX();r.removeClass("_zs_galleryhi"),"hover"==_.__bU&&r.hover(function(){clearTimeout(_.__bT)},function(){_.__bV()})}),n.mountView("mx-popmenu/content",{data:l,submit:function(r){_.__q(),_.__a.trigger({type:"change",selected:r})}})},__o:function(_){return a.inside(_,this.id)||a.inside(_,"popover_"+this.id)},__r:function(){var _=this;(clearTimeout(_.__bS),_.__bR||(_.__bR=!0,_.__bZ()),_.__cK)||(_.__cK=!0,_.__bX().addClass("_zs_galleryhh"),l.__t(_))},__bV:function(){var _=this;clearTimeout(_.__bS),clearTimeout(_.__bT),_.__bT=setTimeout(_.wrapAsync(function(){_.__q()}),_.constants.hideDelay),l.__l(_)},__q:function(){var _=this;(clearTimeout(_.__bT),_.__cK)&&(_.__cK=!1,o("#popover_"+_.id).removeClass("_zs_galleryhh"),l.__l(_))}})});