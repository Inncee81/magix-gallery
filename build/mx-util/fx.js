define("mx-util/fx",["magix","./runner"],(t,n,e)=>{var r=t("magix"),i=t("./runner"),s=function(t){return t},a=Date.now||function(){return(new Date).getTime()},f=r.Base.extend({ctor:function(t,n){var e=this;e["@{alg.fn}"]&&!n||(n=n||s,e["@{alg.fn}"]=function(t,r){return t+(r-t)*n(e["@{current.timespan}"]/e["@{item.timespan}"])}),e["@{task.list}"]=[],e["@{interval}"]=t},"@{run}":function(t,n){this["@{destroyed}"]||(this["@{task.list}"].push({"@{timespan}":t,"@{fn}":n}),this["@{for.runner.fn}"]||this["@{start.work}"]())},"@{start.work}":function(){var t=this,n=t["@{task.list}"].shift();n?(t["@{item.timespan}"]=n["@{timespan}"],t["@{item.fn}"]=n["@{fn}"],t["@{now.time}"]=a(),t["@{for.runner.fn}"]||i["@{task.add}"](t["@{interval}"],t["@{for.runner.fn}"]=function(n){t["@{current.timespan}"]=Date.now()-t["@{now.time}"],t["@{current.timespan}"]>t["@{item.timespan}"]&&(t["@{current.timespan}"]=t["@{item.timespan}"],n=1);try{t["@{item.fn}"](t["@{alg.fn}"])}catch(t){n=t}n&&t["@{start.work}"]()})):t["@{stop}"]()},"@{stop}":function(){this["@{for.runner.fn}"]&&(i["@{task.remove}"](this["@{for.runner.fn}"]),delete this["@{for.runner.fn}"],this.fire("stop"))},destroy:function(){this["@{stop}"](),this["@{task.list}"]=[],this["@{destroyed}"]=1}});e.exports={"@{getFX}":function(){var t=new f;return this.capture(r.guid("@{fx}"),t),t}}});