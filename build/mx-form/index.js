define("mx-form/index",["magix","$","./util"],(e,t,i)=>{var r=e("magix"),a=e("$"),p=e("./util");i.exports={ctor:function(){var e=this,t=e.updater;e.on("domready",function(){for(var i=0,r=a('input[type="checkbox"][mxe^="'+e.id+'"],input[type="radio"][mxe^="'+e.id+'"]');i<r.length;i++)for(var o=r[i],n=(o=a(o)).attr("mxc"),s=0,c=t.parse(n);s<c.length;s++){for(var f=c[s],d=f.p.split("."),h=d.pop(),l=(f.f,t.get());l&&d.length;){l=l[d.shift()]}if(!d.length){if(void 0===l)return;var v=l[h];if(!0===v)o.prop("checked",v);else{var m=o.val();a.isArray(v)?p.indexOf(v,m)>=0&&o.prop("checked",!0):a.isPlainObject(v)?v[m]&&o.prop("checked",!0):v==m&&o.prop("checked",!0)}}}})},fromKeys:function(e,t){t=(t+"").split(",");for(var i={},a=0,p=void 0;a<t.length;a++)i[p=t[a]]=r.has(e,p)?e[p]:"";return i},"$[mxc]<change,focusout>":function(e){var t=a(e.eventTarget),i=t.attr("mxe");if(i&&i.startsWith(this.id)){for(var o=t.attr("mxc"),n=this.updater,s=n.parse(o),c=n.$k,f=!1,d=0,h=s;d<h.length;d++){for(var l=h[d],v=l.p.split("."),m=l.f||{},x=v.pop(),g=void 0,u=void 0,k=void 0,y=n.get();y&&v.length;)g=v.shift(),k||(k=g),y=y[g];if(k=k||x,t.attr("mx-view")&&t.attr("mx-view").indexOf("mx-calendar/rangepicker")>-1)u=JSON.parse(t.val())[l.a];else if("checkbox"==t.prop("type")){var O=y[x],b=t.prop("checked");if(!0===O||!1===O)u=b;else if(u=t.val(),a.isArray(O)){var $=t.prop("name");if($)O=[],p.addCheckbox($,O,m);else{var T=p.indexOf(O,u);b?-1===T&&O.push(u):T>-1&&O.splice(T,1)}u=O}else a.isPlainObject(O)?(b?O[u]=u:delete O[u],u=O):u=b?u:""}else if("radio"==t.prop("type")){var j=t.prop("name");u=a("input[name="+j+"]:checked").val()}else u=t.val();y&&(!l.a||r.has(e,l.a)||u)&&(r.has(e,l.a)&&(u=e[l.a]),y[x]=u,"change"==e.type&&(m.refresh&&(f=!0),!f&&m.silent||(c&&(c[k]=1),n.$c=1)))}f&&"change"===e.type&&(clearTimeout(this["@{digest.timer}"]),this["@{digest.timer}"]=setTimeout(function(){n.digest()},0))}}}});