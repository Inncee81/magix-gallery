<<<<<<< HEAD
define("mx-table/__test__/6",["magix","__test__/example","$","../index","mx-pagination/index","mx-copy/index","__test__/hl"],(t,e,a)=>{t("../index"),t("mx-pagination/index"),t("mx-copy/index"),t("__test__/hl");var n=t("magix"),r=t("__test__/example");t("$");a.exports=r.extend({tmpl:function(t,e,a,n,r,i,l,s){if(a||(a=t),!r){var d={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},_=/[&<>"'`]/g,g=function(t){return"&"+d[t]+";"};r=function(t){return""+(null==t?"":t)},n=function(t){return r(t).replace(_,g)}}if(!i){var c={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},o=function(t){return c[t]},p=/[!')(*]/g;i=function(t){return encodeURIComponent(r(t)).replace(p,o)}}if(!s){var x=/[\\'"]/g;s=function(t){return r(t).replace(x,"\\$&")}}l||(l=function(t,e,a,n){for(n=t[m];--n;)if(t[a=m+n]===e)return a;return t[a=m+t[m]++]=e,a});var f,u,h,m="",$="",v=t.list,b=t.groups,y=t.len,j=t.viewId,k=t.text1,z=t.text2;try{if($+='<div mxv mxa="_zs_galleryeC:_" class="_zs_gallery___test___layout_-example"><div mxv mxa="_zs_galleryeC:a" class="_zs_gallery___test___layout_-eg-content"><div mxs="_zs_galleryeC:_" class="mb20 clearfix lh22"><div class="color-9 fl">该示例：</div><div class="fl"><div>删除完之后有空状态</div><div>表头二级分组 + 分栏 + 吸顶 + 宽度配置在th上</div><div>渲染表格涉及的数据都绑定到组件上 &lt;mx-table sticky="true" list="&#123;&#123;@list&#125;&#125;" groups="&#123;&#123;@groups&#125;&#125;"&gt;&lt;/mx-table&gt;</div></div></div><div mxv mxa="_zs_galleryeC:b" class="mb20">',h=12,u="if (list.length > 0)",f="<%if (list.length > 0) {%>",v.length>0){$+='<div mxv="list,groups" mx-view="mx-table/index?sticky=true&list=',h=14,u="@list",$+=(f="<%@list%>",l(a,v)+"&groups="),h=14,u="@groups",$+=(f="<%@groups%>",l(a,b)+'"><div><table mxa="_zs_galleryeC:c" class="table" left="true" width="500"><thead mxs="_zs_galleryeC:a"><tr><th></th><th>固定1</th><th>固定2</th><th>固定3</th></tr></thead><tbody>'),h=26,u="each list as item index",f="<%for (var index = 0, $art_cydstfja$art_c = list.length; index < $art_cydstfja$art_c; index++) {        var item = list[index]%>";for(var w=0,C=v.length;w<C;w++){var q=v[w];if($+='<tr><td><a href="javascript:;" mx-click="'+e+"toggle({index:",h=29,u="=index",$+=(f="<%=index%>",n(w)+'})" class="link-brand">'),h=31,u="if item.expand",f="<%if (item.expand) {%>",q.expand?($+="收起",h=31,u="else",f="<%}        else {%>"):($+="展开",h=31,u="/if",f="<%}%>"),$+="</a></td><td>",h=34,u="=item.fixed1",$+=(f="<%=item.fixed1%>",n(q.fixed1)+"</td><td>"),h=35,u="=item.fixed2",$+=(f="<%=item.fixed2%>",n(q.fixed2)+"</td><td>"),h=36,u="=item.fixed3",$+=(f="<%=item.fixed3%>",n(q.fixed3)+'</td></tr><tr mxa="_zs_galleryeC:d" class="operation-tr"><td mxa="_zs_galleryeC:e" colspan="4"><a href="javascript:;" class="btn btn-white btn-small mr10" mx-click="'+e+"change({index:"),h=40,u="=index",$+=(f="<%=index%>",n(w)+'})">修改固定1数据</a><a href="javascript:;" class="btn btn-white btn-small" mx-click="'+e+"delete({index:"),h=41,u="=index",$+=(f="<%=index%>",n(w)+'})">移除</a></td></tr>'),h=44,u="if item.expand",f="<%if (item.expand) {%>",q.expand){$+='<tr mxs="_zs_galleryeC:b" class="thead"><td class="sub-mask sub-mask-first"></td><td>子表格固定1</td><td>子表格固定2</td><td>子表格固定3</td></tr>',h=52,u="each item.subs as sub subIndex",f="<%for (var subIndex = 0, $art_objancrnfe$art_obj = item.subs, $art_cyohihzygf$art_c = $art_objancrnfe$art_obj.length; subIndex < $art_cyohihzygf$art_c; subIndex++) {                var sub = $art_objancrnfe$art_obj[subIndex]%>";for(var I=0,M=q.subs,F=M.length;I<F;I++){var E=M[I];$+='<tr><td mxs="_zs_galleryeC:c" class="sub-mask"></td><td>',h=55,u="=sub.fixed1",$+=(f="<%=sub.fixed1%>",n(E.fixed1)+"</td><td>"),h=56,u="=sub.fixed2",$+=(f="<%=sub.fixed2%>",n(E.fixed2)+"</td><td>"),h=57,u="=sub.fixed3",$+=(f="<%=sub.fixed3%>",n(E.fixed3)+'</td></tr><tr mxs="_zs_galleryeC:d" class="operation-tr"><td class="sub-mask"></td><td colspan="3"><a href="javascript:;" class="btn btn-white btn-small">操作</a></td></tr>'),h=65,u="/each",f="<%}%>"}$+=" ",h=66,u="/if",f="<%}%>"}$+=" ",h=67,u="/each",f="<%}%>"}$+='</tbody></table></div><div><table mxa="_zs_galleryeC:f" class="table" center="true" width="1200"><thead><tr>',h=75,u="each groups as group",f="<%for (var $art_iszxjpfyoks$art_i = 0, $art_clffuuzlwdk$art_c = groups.length; $art_iszxjpfyoks$art_i < $art_clffuuzlwdk$art_c; $art_iszxjpfyoks$art_i++) {        var group = groups[$art_iszxjpfyoks$art_i]%>";for(var N=0,A=b.length;N<A;N++){var H=b[N];$+='<th class="field-group" colspan="',h=76,u="=group.fields.length",$+=(f="<%=group.fields.length%>",n(H.fields.length)+'"><div mxa="_zs_galleryeC:g" class="group-name">'),h=77,u="=group.name",$+=(f="<%=group.name%>",n(H.name)+"</div></th>"),h=79,u="/each",f="<%}%>"}$+="</tr><tr>",h=82,u="each groups as group",f="<%for (var $art_igtkchygeb$art_i = 0, $art_czrkquqle$art_c = groups.length; $art_igtkchygeb$art_i < $art_czrkquqle$art_c; $art_igtkchygeb$art_i++) {        var group = groups[$art_igtkchygeb$art_i]%>";for(var J=0,L=b.length;J<L;J++){H=b[J];$+=" ",h=83,u="each group.fields as field",f="<%for (var $art_ilixlgdcyh$art_i = 0, $art_objjihljnvsd$art_obj = group.fields, $art_cropdribcn$art_c = $art_objjihljnvsd$art_obj.length; $art_ilixlgdcyh$art_i < $art_cropdribcn$art_c; $art_ilixlgdcyh$art_i++) {            var field = $art_objjihljnvsd$art_obj[$art_ilixlgdcyh$art_i]%>";for(var R=0,S=H.fields,T=S.length;R<T;R++){var U=S[R];$+='<th mxa="_zs_galleryeC:h" class="field-item">滚动',h=84,u="=field",$+=(f="<%=field%>",n(U)+"</th>"),h=85,u="/each",f="<%}%>"}$+=" ",h=86,u="/each",f="<%}%>"}$+="</tr></thead><tbody>",h=90,u="each list as item index",f="<%for (var index = 0, $art_cpiudtkwg$art_c = list.length; index < $art_cpiudtkwg$art_c; index++) {        var item = list[index]%>";w=0;for(var V=v.length;w<V;w++){q=v[w];$+="<tr>",h=92,u="each groups as group",f="<%for (var $art_ivozokftg$art_i = 0, $art_cavwrrolh$art_c = groups.length; $art_ivozokftg$art_i < $art_cavwrrolh$art_c; $art_ivozokftg$art_i++) {            var group = groups[$art_ivozokftg$art_i]%>";for(var B=0,D=b.length;B<D;B++){H=b[B];$+=" ",h=93,u="each group.fields as field",f="<%for (var $art_ijslxixag$art_i = 0, $art_objknjigy$art_obj = group.fields, $art_cwquhgpq$art_c = $art_objknjigy$art_obj.length; $art_ijslxixag$art_i < $art_cwquhgpq$art_c; $art_ijslxixag$art_i++) {                var field = $art_objknjigy$art_obj[$art_ijslxixag$art_i]%>";for(var G=0,K=H.fields,O=K.length;G<O;G++){U=K[G];$+="<td>",h=94,u="=item['content' + field]",$+=(f="<%=item['content' + field]%>",n(q["content"+U])+"</td>"),h=95,u="/each",f="<%}%>"}$+=" ",h=96,u="/each",f="<%}%>"}if($+='</tr><tr mxa="_zs_galleryeC:i" class="operation-tr"><td colspan="',h=100,u="=len",$+=(f="<%=len%>",n(y)+'"></td></tr>'),h=102,u="if item.expand",f="<%if (item.expand) {%>",q.expand){$+='<tr mxa="_zs_galleryeC:j" class="thead">',h=104,u="each groups as group",f="<%for (var $art_iqpcmvrdy$art_i = 0, $art_ciwzkpqd$art_c = groups.length; $art_iqpcmvrdy$art_i < $art_ciwzkpqd$art_c; $art_iqpcmvrdy$art_i++) {                var group = groups[$art_iqpcmvrdy$art_i]%>";for(var P=0,Q=b.length;P<Q;P++){H=b[P];$+=" ",h=105,u="each group.fields as field",f="<%for (var $art_ijnrzpcgvt$art_i = 0, $art_objdeaanwlc$art_obj = group.fields, $art_cxojoawio$art_c = $art_objdeaanwlc$art_obj.length; $art_ijnrzpcgvt$art_i < $art_cxojoawio$art_c; $art_ijnrzpcgvt$art_i++) {                    var field = $art_objdeaanwlc$art_obj[$art_ijnrzpcgvt$art_i]%>";for(var W=0,X=H.fields,Y=X.length;W<Y;W++){U=X[W];$+="<td>子表头滚动",h=106,u="=field",$+=(f="<%=field%>",n(U)+"</td>"),h=107,u="/each",f="<%}%>"}$+=" ",h=108,u="/each",f="<%}%>"}$+="</tr>",h=110,u="each item.subs as sub",f="<%for (var $art_icgpajmfm$art_i = 0, $art_objpbagzz$art_obj = item.subs, $art_ckrixvp$art_c = $art_objpbagzz$art_obj.length; $art_icgpajmfm$art_i < $art_ckrixvp$art_c; $art_icgpajmfm$art_i++) {                var sub = $art_objpbagzz$art_obj[$art_icgpajmfm$art_i]%>";for(var Z=0,tt=q.subs,et=tt.length;Z<et;Z++){E=tt[Z];$+="<tr>",h=112,u="each groups as group",f="<%for (var $art_irsloorzi$art_i = 0, $art_cozxuuamooj$art_c = groups.length; $art_irsloorzi$art_i < $art_cozxuuamooj$art_c; $art_irsloorzi$art_i++) {                    var group = groups[$art_irsloorzi$art_i]%>";for(var at=0,nt=b.length;at<nt;at++){H=b[at];$+=" ",h=113,u="each group.fields as field",f="<%for (var $art_iicyuqdhr$art_i = 0, $art_objkphfctu$art_obj = group.fields, $art_cdxjddkdtk$art_c = $art_objkphfctu$art_obj.length; $art_iicyuqdhr$art_i < $art_cdxjddkdtk$art_c; $art_iicyuqdhr$art_i++) {                        var field = $art_objkphfctu$art_obj[$art_iicyuqdhr$art_i]%>";for(var rt=0,it=H.fields,lt=it.length;rt<lt;rt++){U=it[rt];$+="<td>",h=114,u="=sub['content' + field]",$+=(f="<%=sub['content' + field]%>",n(E["content"+U])+"</td>"),h=115,u="/each",f="<%}%>"}$+=" ",h=116,u="/each",f="<%}%>"}$+='</tr><tr mxa="_zs_galleryeC:k" class="operation-tr"><td colspan="',h=119,u="=len",$+=(f="<%=len%>",n(y)+'"></td></tr>'),h=121,u="/each",f="<%}%>"}$+=" ",h=122,u="/if",f="<%}%>"}$+=" ",h=123,u="/each",f="<%}%>"}$+="</tbody></table></div></div>",h=127,u="else",f="<%}else {%>"}else $+='<div mxs="_zs_galleryeC:e" content="您还没有相关记录" class="empty-area"><div class="empty-inner"><div><i class="mc-iconfont no-data">&#xe685;</i></div><div>您还没有相关记录</div></div></div>',h=129,u="/if",f="<%}%>";$+='<div class="table-pager-wrapper" mx-view="mx-pagination/index?total=',h=131,u="=list.length",$+=(f="<%!$eu(list.length)%>",i(v.length)+'&size=40&page=1"></div></div></div><div mxa="_zs_galleryeC:l" class="_zs_gallery___test___layout_-eg-desc"><div mxs="_zs_galleryeC:f" class="_zs_gallery___test___layout_-eg-title">HTML Code</div><div class="_zs_gallery___test___layout_-desc-oper" mx-success="'+e+'done({id:1})" mx-view="mx-copy/index?copyNode='),h=138,u="=viewId",$+=(f="<%!$eu(viewId)%>",i(j)+'_text_1"><span mxa="_zs_galleryeC:m" class="_zs_gallery___test___layout_-desc-tip">'),h=140,u="!text1",$+=(f="<%!text1%>",r(k)+'</span><i mxs="_zs_galleryeC:g" class="mc-iconfont _zs_gallery___test___layout_-desc-icon">&#xe610;</i></div><pre mx-view="__test__/hl" id="'),h=143,u="=viewId",$+=(f="<%=viewId%>",n(j)+'_text_1">\n&#123;&#123;if(list.length &gt; 0)&#125;&#125;\n&lt;!-- 渲染表格涉及的数据请都挂在到mx-table上 --&gt;\n&lt;mx-table sticky="true" list="&#123;&#123;@list&#125;&#125;" groups="&#123;&#123;@groups&#125;&#125;"&gt;\n    &lt;!-- 固定的表格 --&gt;\n    &lt;table class="table" left="true" width="500"&gt;\n        &lt;thead&gt;\n            &lt;tr&gt;\n                &lt;th&gt;&lt;/th&gt;\n                &lt;th&gt;固定1&lt;/th&gt;\n                &lt;th&gt;固定2&lt;/th&gt;\n                &lt;th&gt;固定3&lt;/th&gt;\n            &lt;/tr&gt;\n        &lt;/thead&gt;\n        &lt;tbody&gt;\n            &#123;&#123;each list as item index&#125;&#125;\n                &lt;tr&gt;\n                    &lt;td&gt;  \n                        &lt;a href="javascript:;" class="link-brand"\n                            mx-click="toggle(&#123;index:&#123;&#123;=index&#125;&#125;&#125;)"&gt;\n                            &#123;&#123;if item.expand&#125;&#125;收起&#123;&#123;else&#125;&#125;展开&#123;&#123;/if&#125;&#125;\n                        &lt;/a&gt;\n                    &lt;/td&gt;\n                    &lt;td&gt;&#123;&#123;=item.fixed1&#125;&#125;&lt;/td&gt;\n                    &lt;td&gt;&#123;&#123;=item.fixed2&#125;&#125;&lt;/td&gt;\n                    &lt;td&gt;&#123;&#123;=item.fixed3&#125;&#125;&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr class="operation-tr"&gt;\n                    &lt;td colspan="4"&gt;\n                        &lt;a href="javascript:;" class="btn btn-white btn-small mr10" \n                            mx-click="change(&#123;index:&#123;&#123;=index&#125;&#125;&#125;)"&gt;修改固定1数据&lt;/a&gt;\n                        &lt;a href="javascript:;" class="btn btn-white btn-small" \n                            mx-click="delete(&#123;index:&#123;&#123;=index&#125;&#125;&#125;)"&gt;移除&lt;/a&gt;\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n                &#123;&#123;if item.expand&#125;&#125;\n                    &lt;tr class="thead"&gt;\n                        &lt;!-- td个数保持一致，占位符加class="sub-mask" --&gt;\n                        &lt;td class="sub-mask sub-mask-first"&gt;&lt;/td&gt;\n                        &lt;td&gt;子表格固定1&lt;/td&gt;\n                        &lt;td&gt;子表格固定2&lt;/td&gt;\n                        &lt;td&gt;子表格固定3&lt;/td&gt;\n                    &lt;/tr&gt;\n                    &#123;&#123;each item.subs as sub subIndex&#125;&#125;\n                    &lt;tr&gt;\n                        &lt;td class="sub-mask"&gt;&lt;/td&gt;\n                        &lt;td&gt;&#123;&#123;=sub.fixed1&#125;&#125;&lt;/td&gt;\n                        &lt;td&gt;&#123;&#123;=sub.fixed2&#125;&#125;&lt;/td&gt;\n                        &lt;td&gt;&#123;&#123;=sub.fixed3&#125;&#125;&lt;/td&gt;\n                    &lt;/tr&gt;\n                    &lt;tr class="operation-tr"&gt;\n                        &lt;td class="sub-mask"&gt;&lt;/td&gt;\n                        &lt;td colspan="3"&gt;\n                            &lt;a href="javascript:;" class="btn btn-white btn-small"&gt;操作&lt;/a&gt;\n                        &lt;/td&gt;\n                    &lt;/tr&gt;\n                    &#123;&#123;/each&#125;&#125;\n                &#123;&#123;/if&#125;&#125;\n            &#123;&#123;/each&#125;&#125;\n        &lt;/tbody&gt;\n    &lt;/table&gt;\n    &lt;!-- 滚动列 --&gt;\n    &lt;table class="table" center="true" width="1200"&gt;\n        &lt;thead&gt;\n            &lt;!-- 二级结构的表头 --&gt;\n            &lt;tr&gt;\n                &#123;&#123;each groups as group&#125;&#125;\n                &lt;th class="field-group" colspan="&#123;&#123;=group.fields.length&#125;&#125;"&gt;\n                    &lt;div class="group-name"&gt;&#123;&#123;=group.name&#125;&#125;&lt;/div&gt;\n                &lt;/th&gt;\n                &#123;&#123;/each&#125;&#125;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &#123;&#123;each groups as group&#125;&#125;\n                    &#123;&#123;each group.fields as field&#125;&#125;\n                    &lt;th class="field-item"&gt;滚动&#123;&#123;=field&#125;&#125;&lt;/th&gt;\n                    &#123;&#123;/each&#125;&#125;\n                &#123;&#123;/each&#125;&#125;\n            &lt;/tr&gt;\n        &lt;/thead&gt;\n        &lt;tbody&gt;\n            &#123;&#123;each list as item index&#125;&#125;\n                &lt;tr&gt;\n                    &#123;&#123;each groups as group&#125;&#125;\n                        &#123;&#123;each group.fields as field&#125;&#125;\n                        &lt;td&gt;&#123;&#123;=item[\'content\' + field]&#125;&#125;&lt;/td&gt;\n                        &#123;&#123;/each&#125;&#125;\n                    &#123;&#123;/each&#125;&#125;\n                &lt;/tr&gt;\n                &lt;!-- 有操作项该行不可少 --&gt;\n                &lt;tr class="operation-tr"&gt;\n                    &lt;td colspan="&#123;&#123;=len&#125;&#125;"&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n                &#123;&#123;if item.expand&#125;&#125;\n                    &lt;tr class="thead"&gt;\n                        &#123;&#123;each groups as group&#125;&#125;\n                            &#123;&#123;each group.fields as field&#125;&#125;\n                            &lt;td&gt;子表头滚动&#123;&#123;=field&#125;&#125;&lt;/td&gt;\n                            &#123;&#123;/each&#125;&#125;\n                        &#123;&#123;/each&#125;&#125;\n                    &lt;/tr&gt;\n                    &#123;&#123;each item.subs as sub&#125;&#125;\n                    &lt;tr&gt;\n                        &#123;&#123;each groups as group&#125;&#125;\n                            &#123;&#123;each group.fields as field&#125;&#125;\n                            &lt;td&gt;&#123;&#123;=sub[\'content\' + field]&#125;&#125;&lt;/td&gt;\n                            &#123;&#123;/each&#125;&#125;\n                        &#123;&#123;/each&#125;&#125;\n                    &lt;/tr&gt;\n                    &lt;tr class="operation-tr"&gt;\n                        &lt;td colspan="&#123;&#123;=len&#125;&#125;"&gt;&lt;/td&gt;\n                    &lt;/tr&gt;\n                    &#123;&#123;/each&#125;&#125;\n                &#123;&#123;/if&#125;&#125;\n            &#123;&#123;/each&#125;&#125;\n        &lt;/tbody&gt;\n    &lt;/table&gt;\n&lt;/mx-table&gt;\n&#123;&#123;else&#125;&#125;\n&lt;mx-effects.empty content="您还没有相关记录"/&gt;\n&#123;&#123;/if&#125;&#125;\n&lt;mx-pagination class="table-pager-wrapper"\n    total="&#123;&#123;=list.length&#125;&#125;" \n    size="40" \n    page="1"/&gt;</pre></div><div mxa="_zs_galleryeC:n" class="_zs_gallery___test___layout_-eg-desc"><div mxs="_zs_galleryeC:h" class="_zs_gallery___test___layout_-eg-title">JS Code</div><div class="_zs_gallery___test___layout_-desc-oper" mx-success="'+e+'done({id:2})" mx-view="mx-copy/index?copyNode='),h=271,u="=viewId",$+=(f="<%!$eu(viewId)%>",i(j)+'_text_2"><span mxa="_zs_galleryeC:o" class="_zs_gallery___test___layout_-desc-tip">'),h=273,u="!text2",$+=(f="<%!text2%>",r(z)+'</span><i mxs="_zs_galleryeC:g" class="mc-iconfont _zs_gallery___test___layout_-desc-icon">&#xe610;</i></div><pre mx-view="__test__/hl" id="'),h=276,u="=viewId",$+=(f="<%=viewId%>",n(j)+"_text_2\">\nlet Magix = require('magix');\nlet $ = require('$');\n\nmodule.exports = Magix.View.extend(&#123;\n    tmpl: '@index.html',\n    render() &#123;\n        let that = this;\n        let list = [];\n\n        let itemFn = (key) =&gt; &#123;\n            return &#123;\n                expand: false,\n                fixed1: 'fixed1-' + key,\n                fixed2: 'fixed2-' + key,\n                fixed3: 'fixed3-' + key,\n                content1: 'content1-' + key,\n                content2: 'content2-' + key,\n                content3: 'content3-' + key,\n                content4: 'content4-' + key,\n                content5: 'content5-' + key,\n                content6: 'content6-' + key,\n                content7: 'content7-' + key,\n                content8: 'content8-' + key,\n                content9: 'content9-' + key,\n            &#125;\n        &#125;\n        for (var i = 1; i &lt; 4; i++) &#123;\n            let item = itemFn(i);\n            item.subs = [];\n            for (let j = 1; j &lt; 3; j++) &#123;\n                item.subs.push(itemFn(i + '-' + j));\n            &#125;\n            list.push(item);\n        &#125;\n        // 默认展开第一个\n        list[0].expand = true;\n\n        let groups = [&#123;\n            name: '组1',\n            fields: [1, 2]\n        &#125;, &#123;\n            name: '组2',\n            fields: [3, 4, 5, 6]\n        &#125;, &#123;\n            name: '组3',\n            fields: [7, 8, 9]\n        &#125;]\n\n        // 计算colspan\n        let len = 0;\n        groups.forEach(group =&gt; &#123;\n            len += group.fields.length;\n        &#125;)\n\n        that.updater.digest(&#123;\n            groups,\n            len,\n            list\n        &#125;);\n    &#125;,\n\n    /**\n    * 展开收起\n    */\n    'toggle&lt;click&gt;' (e) &#123;\n        let that = this;\n        let index = e.params.index,\n            list = that.updater.get('list');\n        list[index].expand = !list[index].expand;\n        that.updater.digest(&#123;\n            list\n        &#125;)\n    &#125;,\n\n    /**\n    * 修改数据\n    */\n    'change&lt;click&gt;' (e) &#123;\n        let that = this;\n        let index = e.params.index,\n            list = that.updater.get('list');\n        list[index].fixed1 = Magix.guid();\n        that.updater.digest(&#123;\n            list\n        &#125;)\n    &#125;,\n\n    'delete&lt;click&gt;' (e) &#123;\n        let that = this;\n        let index = e.params.index,\n            list = that.updater.get('list');\n        list.splice(index, 1);\n        that.updater.digest(&#123;\n            list\n        &#125;)\n    &#125;\n&#125;);</pre></div></div>")}catch(t){var st="render view error:"+(t.message||t);throw u&&(st+="\r\n\tsrc art:{{"+u+"}}\r\n\tat line:"+h),st+="\r\n\t"+(u?"translate to:":"expr:"),st+=f+"\r\n\tat file:mx-table/__test__/6.html"}return $},render:function(){for(var t=[],e=function(t){return{expand:!1,fixed1:"fixed1-"+t,fixed2:"fixed2-"+t,fixed3:"fixed3-"+t,content1:"content1-"+t,content2:"content2-"+t,content3:"content3-"+t,content4:"content4-"+t,content5:"content5-"+t,content6:"content6-"+t,content7:"content7-"+t,content8:"content8-"+t,content9:"content9-"+t}},a=1;a<4;a++){(i=e(a)).subs=[];for(var n=1;n<3;n++)i.subs.push(e(a+"-"+n));t.push(i)}t[0].expand=!0;var r=[];for(a=1;a<3;a++){var i;(i=e(a)).subs=[];for(n=1;n<3;n++){for(var l={name:n,subs:[]},s=0;s<4;s++)l.subs.push(e(a+"-"+n));i.subs.push(l)}r.push(i)}r[0].expand=!0;var d=[{name:"组1",fields:[1,2]},{name:"组2",fields:[3,4,5,6]},{name:"组3",fields:[7,8,9]}],_=0;d.forEach(function(t){_+=t.fields.length});for(var g=[],c=1;c<10;c++)g.push(c);this.updater.digest({groups:d,len:_,list:t,list2:r,groups2:g})},"toggle<click>":function(t){var e=t.params.index,a=this.updater.get("list");a[e].expand=!a[e].expand,this.updater.digest({list:a})},"change<click>":function(t){var e=t.params.index,a=this.updater.get("list");a[e].fixed1=n.guid(),this.updater.digest({list:a})},"delete<click>":function(t){var e=t.params.index,a=this.updater.get("list");a.splice(e,1),this.updater.digest({list:a})}})});
=======
define("mx-table/__test__/6",["magix","__test__/example","$","../index","mx-pagination/index","mx-copy/index","__test__/hl"],(t,e,a)=>{t("../index"),t("mx-pagination/index"),t("mx-copy/index"),t("__test__/hl");var n=t("magix"),r=t("__test__/example");t("$");a.exports=r.extend({tmpl:function(t,e,a,n,r,l,i,s){if(a||(a=t),!r){var d={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},_=/[&<>"'`]/g,g=function(t){return"&"+d[t]+";"};r=function(t){return""+(null==t?"":t)},n=function(t){return r(t).replace(_,g)}}if(!l){var c={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},o=function(t){return c[t]},f=/[!')(*]/g;l=function(t){return encodeURIComponent(r(t)).replace(f,o)}}if(!s){var u=/[\\'"]/g;s=function(t){return r(t).replace(u,"\\$&")}}i||(i=function(t,e,a,n){for(n=t[m];--n;)if(t[a=m+n]===e)return a;return t[a=m+t[m]++]=e,a});var h,x,p,m="",v="",$=t.list,b=t.groups,y=t.len,j=t.viewId,w=t.text1,k=t.text2;try{if(v+='<div mxv mxa="_zs_galleryeC:_" class="_zs_gallery___test___layout_-example"><div mxv mxa="_zs_galleryeC:a" class="_zs_gallery___test___layout_-eg-content"><div mxs="_zs_galleryeC:_" class="mb20 clearfix lh22"><div class="color-9 fl">该示例：</div><div class="fl"><div>删除完之后有空状态</div><div>表头二级分组 + 分栏 + 吸顶 + 宽度配置在th上</div><div>渲染表格涉及的数据都绑定到组件上 &lt;mx-table sticky="true" list="&#123;&#123;@list&#125;&#125;" groups="&#123;&#123;@groups&#125;&#125;"&gt;&lt;/mx-table&gt;</div></div></div><div mxv mxa="_zs_galleryeC:b" class="mb20">',p=12,x="if (list.length > 0)",h="<%if (list.length > 0) {%>",$.length>0){v+='<div mxv="list,groups" mx-view="mx-table/index?sticky=true&list=',p=14,x="@list",v+=(h="<%@list%>",i(a,$)+"&groups="),p=14,x="@groups",v+=(h="<%@groups%>",i(a,b)+'"><div><table mxa="_zs_galleryeC:c" class="table" left="true" width="500"><thead mxs="_zs_galleryeC:a"><tr><th></th><th>固定1</th><th>固定2</th><th>固定3</th></tr></thead><tbody>'),p=26,x="each list as item index",h="<%for (var index = 0, $art_cjlectzcku$art_c = list.length; index < $art_cjlectzcku$art_c; index++) {        var item = list[index]%>";for(var z=0,q=$.length;z<q;z++){var C=$[z];if(v+='<tr><td><a href="javascript:;" mx-click="'+e+"toggle({index:",p=29,x="=index",v+=(h="<%=index%>",n(z)+'})" class="link-brand">'),p=31,x="if item.expand",h="<%if (item.expand) {%>",C.expand?(v+="收起",p=31,x="else",h="<%}        else {%>"):(v+="展开",p=31,x="/if",h="<%}%>"),v+="</a></td><td>",p=34,x="=item.fixed1",v+=(h="<%=item.fixed1%>",n(C.fixed1)+"</td><td>"),p=35,x="=item.fixed2",v+=(h="<%=item.fixed2%>",n(C.fixed2)+"</td><td>"),p=36,x="=item.fixed3",v+=(h="<%=item.fixed3%>",n(C.fixed3)+'</td></tr><tr mxa="_zs_galleryeC:d" class="operation-tr"><td mxa="_zs_galleryeC:e" colspan="4"><a href="javascript:;" class="btn btn-white btn-small mr10" mx-click="'+e+"change({index:"),p=40,x="=index",v+=(h="<%=index%>",n(z)+'})">修改固定1数据</a><a href="javascript:;" class="btn btn-white btn-small" mx-click="'+e+"delete({index:"),p=41,x="=index",v+=(h="<%=index%>",n(z)+'})">移除</a></td></tr>'),p=44,x="if item.expand",h="<%if (item.expand) {%>",C.expand){v+='<tr mxs="_zs_galleryeC:b" class="thead"><td class="sub-mask sub-mask-first"></td><td>子表格固定1</td><td>子表格固定2</td><td>子表格固定3</td></tr>',p=52,x="each item.subs as sub subIndex",h="<%for (var subIndex = 0, $art_objzegqvaxf$art_obj = item.subs, $art_cyfhqcon$art_c = $art_objzegqvaxf$art_obj.length; subIndex < $art_cyfhqcon$art_c; subIndex++) {                var sub = $art_objzegqvaxf$art_obj[subIndex]%>";for(var I=0,M=C.subs,F=M.length;I<F;I++){var E=M[I];v+='<tr><td mxs="_zs_galleryeC:c" class="sub-mask"></td><td>',p=55,x="=sub.fixed1",v+=(h="<%=sub.fixed1%>",n(E.fixed1)+"</td><td>"),p=56,x="=sub.fixed2",v+=(h="<%=sub.fixed2%>",n(E.fixed2)+"</td><td>"),p=57,x="=sub.fixed3",v+=(h="<%=sub.fixed3%>",n(E.fixed3)+'</td></tr><tr mxs="_zs_galleryeC:d" class="operation-tr"><td class="sub-mask"></td><td colspan="3"><a href="javascript:;" class="btn btn-white btn-small">操作</a></td></tr>'),p=65,x="/each",h="<%}%>"}v+=" ",p=66,x="/if",h="<%}%>"}v+=" ",p=67,x="/each",h="<%}%>"}v+='</tbody></table></div><div><table mxa="_zs_galleryeC:f" class="table" center="true" width="1200"><thead><tr>',p=75,x="each groups as group",h="<%for (var $art_idusefcqwh$art_i = 0, $art_czfezsgg$art_c = groups.length; $art_idusefcqwh$art_i < $art_czfezsgg$art_c; $art_idusefcqwh$art_i++) {        var group = groups[$art_idusefcqwh$art_i]%>";for(var N=0,A=b.length;N<A;N++){var H=b[N];v+='<th class="field-group" colspan="',p=76,x="=group.fields.length",v+=(h="<%=group.fields.length%>",n(H.fields.length)+'"><div mxa="_zs_galleryeC:g" class="group-name">'),p=77,x="=group.name",v+=(h="<%=group.name%>",n(H.name)+"</div></th>"),p=79,x="/each",h="<%}%>"}v+="</tr><tr>",p=82,x="each groups as group",h="<%for (var $art_ihnyplq$art_i = 0, $art_cbbpsqdgwhkn$art_c = groups.length; $art_ihnyplq$art_i < $art_cbbpsqdgwhkn$art_c; $art_ihnyplq$art_i++) {        var group = groups[$art_ihnyplq$art_i]%>";for(var J=0,L=b.length;J<L;J++){H=b[J];v+=" ",p=83,x="each group.fields as field",h="<%for (var $art_iawwfhcvs$art_i = 0, $art_objqpyvmmdl$art_obj = group.fields, $art_cfgjtgjdq$art_c = $art_objqpyvmmdl$art_obj.length; $art_iawwfhcvs$art_i < $art_cfgjtgjdq$art_c; $art_iawwfhcvs$art_i++) {            var field = $art_objqpyvmmdl$art_obj[$art_iawwfhcvs$art_i]%>";for(var R=0,S=H.fields,T=S.length;R<T;R++){var U=S[R];v+='<th mxa="_zs_galleryeC:h" class="field-item">滚动',p=84,x="=field",v+=(h="<%=field%>",n(U)+"</th>"),p=85,x="/each",h="<%}%>"}v+=" ",p=86,x="/each",h="<%}%>"}v+="</tr></thead><tbody>",p=90,x="each list as item index",h="<%for (var index = 0, $art_cddlzdu$art_c = list.length; index < $art_cddlzdu$art_c; index++) {        var item = list[index]%>";z=0;for(var V=$.length;z<V;z++){C=$[z];v+="<tr>",p=92,x="each groups as group",h="<%for (var $art_iwhdsehj$art_i = 0, $art_cliymnsj$art_c = groups.length; $art_iwhdsehj$art_i < $art_cliymnsj$art_c; $art_iwhdsehj$art_i++) {            var group = groups[$art_iwhdsehj$art_i]%>";for(var B=0,D=b.length;B<D;B++){H=b[B];v+=" ",p=93,x="each group.fields as field",h="<%for (var $art_irvvxviiwke$art_i = 0, $art_objdfvgsr$art_obj = group.fields, $art_cbfmyjb$art_c = $art_objdfvgsr$art_obj.length; $art_irvvxviiwke$art_i < $art_cbfmyjb$art_c; $art_irvvxviiwke$art_i++) {                var field = $art_objdfvgsr$art_obj[$art_irvvxviiwke$art_i]%>";for(var G=0,K=H.fields,O=K.length;G<O;G++){U=K[G];v+="<td>",p=94,x="=item['content' + field]",v+=(h="<%=item['content' + field]%>",n(C["content"+U])+"</td>"),p=95,x="/each",h="<%}%>"}v+=" ",p=96,x="/each",h="<%}%>"}if(v+='</tr><tr mxa="_zs_galleryeC:i" class="operation-tr"><td colspan="',p=100,x="=len",v+=(h="<%=len%>",n(y)+'"></td></tr>'),p=102,x="if item.expand",h="<%if (item.expand) {%>",C.expand){v+='<tr mxa="_zs_galleryeC:j" class="thead">',p=104,x="each groups as group",h="<%for (var $art_iftkwfrxuv$art_i = 0, $art_cfxxgtibb$art_c = groups.length; $art_iftkwfrxuv$art_i < $art_cfxxgtibb$art_c; $art_iftkwfrxuv$art_i++) {                var group = groups[$art_iftkwfrxuv$art_i]%>";for(var P=0,Q=b.length;P<Q;P++){H=b[P];v+=" ",p=105,x="each group.fields as field",h="<%for (var $art_ildnoody$art_i = 0, $art_objrmjbbplsd$art_obj = group.fields, $art_crhqjbhvbd$art_c = $art_objrmjbbplsd$art_obj.length; $art_ildnoody$art_i < $art_crhqjbhvbd$art_c; $art_ildnoody$art_i++) {                    var field = $art_objrmjbbplsd$art_obj[$art_ildnoody$art_i]%>";for(var W=0,X=H.fields,Y=X.length;W<Y;W++){U=X[W];v+="<td>子表头滚动",p=106,x="=field",v+=(h="<%=field%>",n(U)+"</td>"),p=107,x="/each",h="<%}%>"}v+=" ",p=108,x="/each",h="<%}%>"}v+="</tr>",p=110,x="each item.subs as sub",h="<%for (var $art_iijmqsamc$art_i = 0, $art_objkquohobt$art_obj = item.subs, $art_cviqttmo$art_c = $art_objkquohobt$art_obj.length; $art_iijmqsamc$art_i < $art_cviqttmo$art_c; $art_iijmqsamc$art_i++) {                var sub = $art_objkquohobt$art_obj[$art_iijmqsamc$art_i]%>";for(var Z=0,tt=C.subs,et=tt.length;Z<et;Z++){E=tt[Z];v+="<tr>",p=112,x="each groups as group",h="<%for (var $art_ivtiupvdbn$art_i = 0, $art_cuptdstc$art_c = groups.length; $art_ivtiupvdbn$art_i < $art_cuptdstc$art_c; $art_ivtiupvdbn$art_i++) {                    var group = groups[$art_ivtiupvdbn$art_i]%>";for(var at=0,nt=b.length;at<nt;at++){H=b[at];v+=" ",p=113,x="each group.fields as field",h="<%for (var $art_ifresbpw$art_i = 0, $art_objmzdujyra$art_obj = group.fields, $art_cqaxruwxmil$art_c = $art_objmzdujyra$art_obj.length; $art_ifresbpw$art_i < $art_cqaxruwxmil$art_c; $art_ifresbpw$art_i++) {                        var field = $art_objmzdujyra$art_obj[$art_ifresbpw$art_i]%>";for(var rt=0,lt=H.fields,it=lt.length;rt<it;rt++){U=lt[rt];v+="<td>",p=114,x="=sub['content' + field]",v+=(h="<%=sub['content' + field]%>",n(E["content"+U])+"</td>"),p=115,x="/each",h="<%}%>"}v+=" ",p=116,x="/each",h="<%}%>"}v+='</tr><tr mxa="_zs_galleryeC:k" class="operation-tr"><td colspan="',p=119,x="=len",v+=(h="<%=len%>",n(y)+'"></td></tr>'),p=121,x="/each",h="<%}%>"}v+=" ",p=122,x="/if",h="<%}%>"}v+=" ",p=123,x="/each",h="<%}%>"}v+="</tbody></table></div></div>",p=127,x="else",h="<%}else {%>"}else v+='<div mxs="_zs_galleryeC:e" content="您还没有相关记录" class="empty-area"><div class="empty-inner"><div><i class="mc-iconfont no-data">&#xe685;</i></div><div>您还没有相关记录</div></div></div>',p=129,x="/if",h="<%}%>";v+='<div class="table-pager-wrapper" mx-view="mx-pagination/index?total=',p=131,x="=list.length",v+=(h="<%!$eu(list.length)%>",l($.length)+'&size=40&page=1"></div></div></div><div mxa="_zs_galleryeC:l" class="_zs_gallery___test___layout_-eg-desc"><div mxs="_zs_galleryeC:f" class="_zs_gallery___test___layout_-eg-title">HTML Code</div><div class="_zs_gallery___test___layout_-desc-oper" mx-success="'+e+'done({id:1})" mx-view="mx-copy/index?copyNode='),p=138,x="=viewId",v+=(h="<%!$eu(viewId)%>",l(j)+'_text_1"><span mxa="_zs_galleryeC:m" class="_zs_gallery___test___layout_-desc-tip">'),p=140,x="!text1",v+=(h="<%!text1%>",r(w)+'</span><i mxs="_zs_galleryeC:g" class="mc-iconfont _zs_gallery___test___layout_-desc-icon">&#xe610;</i></div><pre mx-view="__test__/hl" id="'),p=143,x="=viewId",v+=(h="<%=viewId%>",n(j)+'_text_1">\n&#123;&#123;if(list.length &gt; 0)&#125;&#125;\n&lt;!-- 渲染表格涉及的数据请都挂在到mx-table上 --&gt;\n&lt;mx-table sticky="true" list="&#123;&#123;@list&#125;&#125;" groups="&#123;&#123;@groups&#125;&#125;"&gt;\n    &lt;!-- 固定的表格 --&gt;\n    &lt;table class="table" left="true" width="500"&gt;\n        &lt;thead&gt;\n            &lt;tr&gt;\n                &lt;th&gt;&lt;/th&gt;\n                &lt;th&gt;固定1&lt;/th&gt;\n                &lt;th&gt;固定2&lt;/th&gt;\n                &lt;th&gt;固定3&lt;/th&gt;\n            &lt;/tr&gt;\n        &lt;/thead&gt;\n        &lt;tbody&gt;\n            &#123;&#123;each list as item index&#125;&#125;\n                &lt;tr&gt;\n                    &lt;td&gt;  \n                        &lt;a href="javascript:;" class="link-brand"\n                            mx-click="toggle(&#123;index:&#123;&#123;=index&#125;&#125;&#125;)"&gt;\n                            &#123;&#123;if item.expand&#125;&#125;收起&#123;&#123;else&#125;&#125;展开&#123;&#123;/if&#125;&#125;\n                        &lt;/a&gt;\n                    &lt;/td&gt;\n                    &lt;td&gt;&#123;&#123;=item.fixed1&#125;&#125;&lt;/td&gt;\n                    &lt;td&gt;&#123;&#123;=item.fixed2&#125;&#125;&lt;/td&gt;\n                    &lt;td&gt;&#123;&#123;=item.fixed3&#125;&#125;&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr class="operation-tr"&gt;\n                    &lt;td colspan="4"&gt;\n                        &lt;a href="javascript:;" class="btn btn-white btn-small mr10" \n                            mx-click="change(&#123;index:&#123;&#123;=index&#125;&#125;&#125;)"&gt;修改固定1数据&lt;/a&gt;\n                        &lt;a href="javascript:;" class="btn btn-white btn-small" \n                            mx-click="delete(&#123;index:&#123;&#123;=index&#125;&#125;&#125;)"&gt;移除&lt;/a&gt;\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n                &#123;&#123;if item.expand&#125;&#125;\n                    &lt;tr class="thead"&gt;\n                        &lt;!-- td个数保持一致，占位符加class="sub-mask" --&gt;\n                        &lt;td class="sub-mask sub-mask-first"&gt;&lt;/td&gt;\n                        &lt;td&gt;子表格固定1&lt;/td&gt;\n                        &lt;td&gt;子表格固定2&lt;/td&gt;\n                        &lt;td&gt;子表格固定3&lt;/td&gt;\n                    &lt;/tr&gt;\n                    &#123;&#123;each item.subs as sub subIndex&#125;&#125;\n                    &lt;tr&gt;\n                        &lt;td class="sub-mask"&gt;&lt;/td&gt;\n                        &lt;td&gt;&#123;&#123;=sub.fixed1&#125;&#125;&lt;/td&gt;\n                        &lt;td&gt;&#123;&#123;=sub.fixed2&#125;&#125;&lt;/td&gt;\n                        &lt;td&gt;&#123;&#123;=sub.fixed3&#125;&#125;&lt;/td&gt;\n                    &lt;/tr&gt;\n                    &lt;tr class="operation-tr"&gt;\n                        &lt;td class="sub-mask"&gt;&lt;/td&gt;\n                        &lt;td colspan="3"&gt;\n                            &lt;a href="javascript:;" class="btn btn-white btn-small"&gt;操作&lt;/a&gt;\n                        &lt;/td&gt;\n                    &lt;/tr&gt;\n                    &#123;&#123;/each&#125;&#125;\n                &#123;&#123;/if&#125;&#125;\n            &#123;&#123;/each&#125;&#125;\n        &lt;/tbody&gt;\n    &lt;/table&gt;\n    &lt;!-- 滚动列 --&gt;\n    &lt;table class="table" center="true" width="1200"&gt;\n        &lt;thead&gt;\n            &lt;!-- 二级结构的表头 --&gt;\n            &lt;tr&gt;\n                &#123;&#123;each groups as group&#125;&#125;\n                &lt;th class="field-group" colspan="&#123;&#123;=group.fields.length&#125;&#125;"&gt;\n                    &lt;div class="group-name"&gt;&#123;&#123;=group.name&#125;&#125;&lt;/div&gt;\n                &lt;/th&gt;\n                &#123;&#123;/each&#125;&#125;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &#123;&#123;each groups as group&#125;&#125;\n                    &#123;&#123;each group.fields as field&#125;&#125;\n                    &lt;th class="field-item"&gt;滚动&#123;&#123;=field&#125;&#125;&lt;/th&gt;\n                    &#123;&#123;/each&#125;&#125;\n                &#123;&#123;/each&#125;&#125;\n            &lt;/tr&gt;\n        &lt;/thead&gt;\n        &lt;tbody&gt;\n            &#123;&#123;each list as item index&#125;&#125;\n                &lt;tr&gt;\n                    &#123;&#123;each groups as group&#125;&#125;\n                        &#123;&#123;each group.fields as field&#125;&#125;\n                        &lt;td&gt;&#123;&#123;=item[\'content\' + field]&#125;&#125;&lt;/td&gt;\n                        &#123;&#123;/each&#125;&#125;\n                    &#123;&#123;/each&#125;&#125;\n                &lt;/tr&gt;\n                &lt;!-- 有操作项该行不可少 --&gt;\n                &lt;tr class="operation-tr"&gt;\n                    &lt;td colspan="&#123;&#123;=len&#125;&#125;"&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n                &#123;&#123;if item.expand&#125;&#125;\n                    &lt;tr class="thead"&gt;\n                        &#123;&#123;each groups as group&#125;&#125;\n                            &#123;&#123;each group.fields as field&#125;&#125;\n                            &lt;td&gt;子表头滚动&#123;&#123;=field&#125;&#125;&lt;/td&gt;\n                            &#123;&#123;/each&#125;&#125;\n                        &#123;&#123;/each&#125;&#125;\n                    &lt;/tr&gt;\n                    &#123;&#123;each item.subs as sub&#125;&#125;\n                    &lt;tr&gt;\n                        &#123;&#123;each groups as group&#125;&#125;\n                            &#123;&#123;each group.fields as field&#125;&#125;\n                            &lt;td&gt;&#123;&#123;=sub[\'content\' + field]&#125;&#125;&lt;/td&gt;\n                            &#123;&#123;/each&#125;&#125;\n                        &#123;&#123;/each&#125;&#125;\n                    &lt;/tr&gt;\n                    &lt;tr class="operation-tr"&gt;\n                        &lt;td colspan="&#123;&#123;=len&#125;&#125;"&gt;&lt;/td&gt;\n                    &lt;/tr&gt;\n                    &#123;&#123;/each&#125;&#125;\n                &#123;&#123;/if&#125;&#125;\n            &#123;&#123;/each&#125;&#125;\n        &lt;/tbody&gt;\n    &lt;/table&gt;\n&lt;/mx-table&gt;\n&#123;&#123;else&#125;&#125;\n&lt;mx-effects.empty content="您还没有相关记录"/&gt;\n&#123;&#123;/if&#125;&#125;\n&lt;mx-pagination class="table-pager-wrapper"\n    total="&#123;&#123;=list.length&#125;&#125;" \n    size="40" \n    page="1"/&gt;</pre></div><div mxa="_zs_galleryeC:n" class="_zs_gallery___test___layout_-eg-desc"><div mxs="_zs_galleryeC:h" class="_zs_gallery___test___layout_-eg-title">JS Code</div><div class="_zs_gallery___test___layout_-desc-oper" mx-success="'+e+'done({id:2})" mx-view="mx-copy/index?copyNode='),p=271,x="=viewId",v+=(h="<%!$eu(viewId)%>",l(j)+'_text_2"><span mxa="_zs_galleryeC:o" class="_zs_gallery___test___layout_-desc-tip">'),p=273,x="!text2",v+=(h="<%!text2%>",r(k)+'</span><i mxs="_zs_galleryeC:g" class="mc-iconfont _zs_gallery___test___layout_-desc-icon">&#xe610;</i></div><pre mx-view="__test__/hl" id="'),p=276,x="=viewId",v+=(h="<%=viewId%>",n(j)+"_text_2\">\nlet Magix = require('magix');\nlet $ = require('$');\n\nmodule.exports = Magix.View.extend(&#123;\n    tmpl: '@index.html',\n    render() &#123;\n        let that = this;\n        let list = [];\n\n        let itemFn = (key) =&gt; &#123;\n            return &#123;\n                expand: false,\n                fixed1: 'fixed1-' + key,\n                fixed2: 'fixed2-' + key,\n                fixed3: 'fixed3-' + key,\n                content1: 'content1-' + key,\n                content2: 'content2-' + key,\n                content3: 'content3-' + key,\n                content4: 'content4-' + key,\n                content5: 'content5-' + key,\n                content6: 'content6-' + key,\n                content7: 'content7-' + key,\n                content8: 'content8-' + key,\n                content9: 'content9-' + key,\n            &#125;\n        &#125;\n        for (var i = 1; i &lt; 4; i++) &#123;\n            let item = itemFn(i);\n            item.subs = [];\n            for (let j = 1; j &lt; 3; j++) &#123;\n                item.subs.push(itemFn(i + '-' + j));\n            &#125;\n            list.push(item);\n        &#125;\n        // 默认展开第一个\n        list[0].expand = true;\n\n        let groups = [&#123;\n            name: '组1',\n            fields: [1, 2]\n        &#125;, &#123;\n            name: '组2',\n            fields: [3, 4, 5, 6]\n        &#125;, &#123;\n            name: '组3',\n            fields: [7, 8, 9]\n        &#125;]\n\n        // 计算colspan\n        let len = 0;\n        groups.forEach(group =&gt; &#123;\n            len += group.fields.length;\n        &#125;)\n\n        that.updater.digest(&#123;\n            groups,\n            len,\n            list\n        &#125;);\n    &#125;,\n\n    /**\n    * 展开收起\n    */\n    'toggle&lt;click&gt;' (e) &#123;\n        let that = this;\n        let index = e.params.index,\n            list = that.updater.get('list');\n        list[index].expand = !list[index].expand;\n        that.updater.digest(&#123;\n            list\n        &#125;)\n    &#125;,\n\n    /**\n    * 修改数据\n    */\n    'change&lt;click&gt;' (e) &#123;\n        let that = this;\n        let index = e.params.index,\n            list = that.updater.get('list');\n        list[index].fixed1 = Magix.guid();\n        that.updater.digest(&#123;\n            list\n        &#125;)\n    &#125;,\n\n    'delete&lt;click&gt;' (e) &#123;\n        let that = this;\n        let index = e.params.index,\n            list = that.updater.get('list');\n        list.splice(index, 1);\n        that.updater.digest(&#123;\n            list\n        &#125;)\n    &#125;\n&#125;);</pre></div></div>")}catch(t){var st="render view error:"+(t.message||t);throw x&&(st+="\r\n\tsrc art:{{"+x+"}}\r\n\tat line:"+p),st+="\r\n\t"+(x?"translate to:":"expr:"),st+=h+"\r\n\tat file:mx-table/__test__/6.html"}return v},render:function(){for(var t=[],e=function(t){return{expand:!1,fixed1:"fixed1-"+t,fixed2:"fixed2-"+t,fixed3:"fixed3-"+t,content1:"content1-"+t,content2:"content2-"+t,content3:"content3-"+t,content4:"content4-"+t,content5:"content5-"+t,content6:"content6-"+t,content7:"content7-"+t,content8:"content8-"+t,content9:"content9-"+t}},a=1;a<4;a++){(l=e(a)).subs=[];for(var n=1;n<3;n++)l.subs.push(e(a+"-"+n));t.push(l)}t[0].expand=!0;var r=[];for(a=1;a<3;a++){var l;(l=e(a)).subs=[];for(n=1;n<3;n++){for(var i={name:n,subs:[]},s=0;s<4;s++)i.subs.push(e(a+"-"+n));l.subs.push(i)}r.push(l)}r[0].expand=!0;var d=[{name:"组1",fields:[1,2]},{name:"组2",fields:[3,4,5,6]},{name:"组3",fields:[7,8,9]}],_=0;d.forEach(function(t){_+=t.fields.length});for(var g=[],c=1;c<10;c++)g.push(c);this.updater.digest({groups:d,len:_,list:t,list2:r,groups2:g})},"toggle<click>":function(t){var e=t.params.index,a=this.updater.get("list");a[e].expand=!a[e].expand,this.updater.digest({list:a})},"change<click>":function(t){var e=t.params.index,a=this.updater.get("list");a[e].fixed1=n.guid(),this.updater.digest({list:a})},"delete<click>":function(t){var e=t.params.index,a=this.updater.get("list");a.splice(e,1),this.updater.digest({list:a})}})});
>>>>>>> f4da9c6137ebb53744d694c722dda9b9dcb28ad8
