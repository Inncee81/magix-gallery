define("mx-table/__test__/18",["magix","__test__/example","mx-table/sort","$","../index","mx-copy/index","__test__/hl"],(t,e,r)=>{t("../index"),t("mx-copy/index"),t("__test__/hl");var l=t("magix"),a=t("__test__/example"),i=t("mx-table/sort"),d=t("$"),s=l.Router;r.exports=a.extend({tmpl:function(t,e,r,l,a,i,d,s){if(r||(r=t),!a){var _={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},n=/[&<>"'`]/g,o=function(t){return"&"+_[t]+";"};a=function(t){return""+(null==t?"":t)},l=function(t){return a(t).replace(n,o)}}if(!i){var g={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},c=function(t){return g[t]},f=/[!')(*]/g;i=function(t){return encodeURIComponent(a(t)).replace(f,c)}}if(!s){var m=/[\\'"]/g;s=function(t){return a(t).replace(m,"\\$&")}}var y,u,x,h="",p=t.list,v=t.groups,$=t.sortField,b=t.sortBy,w=t.orderFieldKey,z=t.orderByKey,j=t.format,B=t.viewId,F=t.text1,K=t.text2;try{h+='<div mxa="_zs_galleryew:_" class="_zs_gallery___test___layout_-example"><div mxa="_zs_galleryew:a" class="_zs_gallery___test___layout_-eg-content"><div mxs="_zs_galleryew:_" class="mb20"><div class="mb5">1. 默认使用 “指标field1” + “升序” 进行排序：sort-field（当前排序字段）；sort-orderby（当前排序方式）</div><div class="mb5 pl15"><pre class="tip-content">\n&lt;th class="field-item"&gt;\n    指标&#123;&#123;=field&#125;&#125;\n    &lt;span sort-trigger="&#123;&#123;=field&#125;&#125;"\n        sort-field="&#123;&#123;=sortField&#125;&#125;"\n        sort-orderby="&#123;&#123;=sortBy&#125;&#125;"&gt;&lt;/span&gt;\n&lt;/th&gt;\n                </pre></div><div class="mb5">2. 自定义路由参数：当前页面有两个表格，都需要排序，如果都用默认的路由参数（orderField 和 orderBy）会存在冲突，需要自定义路由参数</div><div class="mb5 pl15"><pre class="tip-content mb5">\n&lt;th class="field-item"&gt;\n    指标&#123;&#123;=field&#125;&#125;\n    &lt;span sort-trigger="&#123;&#123;=field&#125;&#125;"\n        order-field-key="&#123;&#123;=orderFieldKey&#125;&#125;"\n        order-by-key="&#123;&#123;=orderByKey&#125;&#125;"&gt;&lt;/span&gt;\n&lt;/th&gt;\n                </pre><div class="mb5">最终路由上显示为：</div><pre class="tip-content">\n{\n    [order-field-key]: sort-trigger,\n    [order-by-key]: desc or asc\n}\n                </pre></div></div><div mxa="_zs_galleryew:b" mx-view="mx-table/index?sticky=true" class="mb40"><div><table mxa="_zs_galleryew:c" class="table" left="true" width="400"><thead mxs="_zs_galleryew:a"><tr><th>固定1</th><th>固定2</th><th>固定3</th></tr></thead><tbody>',x=45,u="each list as item index",y="<%for (var index = 0, $art_cxkgzynrp$art_c = list.length; index < $art_cxkgzynrp$art_c; index++) {    var item = list[index]%>";for(var O=0,q=p.length;O<q;O++){var k=p[O];h+="<tr><td>",x=47,u="=item.fixed1",h+=(y="<%=item.fixed1%>",l(k.fixed1)+"</td><td>"),x=48,u="=item.fixed2",h+=(y="<%=item.fixed2%>",l(k.fixed2)+"</td><td>"),x=49,u="=item.fixed3",h+=(y="<%=item.fixed3%>",l(k.fixed3)+"</td></tr>"),x=51,u="/each",y="<%}%>"}h+='</tbody></table></div><div><table mxa="_zs_galleryew:d" class="table" center="true" width="1200"><thead><tr>',x=58,u="each groups as group",y="<%for (var $art_iqxqrz$art_i = 0, $art_costwjxe$art_c = groups.length; $art_iqxqrz$art_i < $art_costwjxe$art_c; $art_iqxqrz$art_i++) {    var group = groups[$art_iqxqrz$art_i]%>";for(var I=0,L=v.length;I<L;I++){var R=v[I];h+='<th class="field-group" colspan="',x=59,u="=group.fields.length",h+=(y="<%=group.fields.length%>",l(R.fields.length)+'"><div mxa="_zs_galleryew:e" class="group-name">'),x=60,u="=group.name",h+=(y="<%=group.name%>",l(R.name)+"</div></th>"),x=62,u="/each",y="<%}%>"}h+="</tr><tr>",x=65,u="each groups as group",y="<%for (var $art_ivjlbcejbm$art_i = 0, $art_cbcjrbpc$art_c = groups.length; $art_ivjlbcejbm$art_i < $art_cbcjrbpc$art_c; $art_ivjlbcejbm$art_i++) {    var group = groups[$art_ivjlbcejbm$art_i]%>";for(var M=0,C=v.length;M<C;M++){R=v[M];h+=" ",x=66,u="each group.fields as field",y="<%for (var $art_iexas$art_i = 0, $art_objvfvroiq$art_obj = group.fields, $art_chaesfgivtm$art_c = $art_objvfvroiq$art_obj.length; $art_iexas$art_i < $art_chaesfgivtm$art_c; $art_iexas$art_i++) {        var field = $art_objvfvroiq$art_obj[$art_iexas$art_i]%>";for(var P=0,S=R.fields,E=S.length;P<E;P++){var N=S[P];h+='<th mxa="_zs_galleryew:f" class="field-item">指标',x=68,u="=field",h+=(y="<%=field%>",l(N)+'<span sort-trigger="'),x=69,u="=field",h+=(y="<%=field%>",l(N)+'" sort-field="'),x=70,u="=sortField",h+=(y="<%=sortField%>",l($)+'" sort-orderby="'),x=71,u="=sortBy",h+=(y="<%=sortBy%>",l(b)+'" order-field-key="'),x=72,u="=orderFieldKey",h+=(y="<%=orderFieldKey%>",l(w)+'" order-by-key="'),x=73,u="=orderByKey",h+=(y="<%=orderByKey%>",l(z)+'"></span></th>'),x=75,u="/each",y="<%}%>"}h+=" ",x=76,u="/each",y="<%}%>"}h+="</tr></thead><tbody>",x=80,u="each list as item index",y="<%for (var index = 0, $art_cxveeyuq$art_c = list.length; index < $art_cxveeyuq$art_c; index++) {    var item = list[index]%>";O=0;for(var A=p.length;O<A;O++){k=p[O];h+="<tr>",x=82,u="each groups as group",y="<%for (var $art_isdddgrzig$art_i = 0, $art_cvadgwrjcp$art_c = groups.length; $art_isdddgrzig$art_i < $art_cvadgwrjcp$art_c; $art_isdddgrzig$art_i++) {        var group = groups[$art_isdddgrzig$art_i]%>";for(var H=0,J=v.length;H<J;H++){R=v[H];h+=" ",x=83,u="each group.fields as field",y="<%for (var $art_iamiocwa$art_i = 0, $art_objgafjhliu$art_obj = group.fields, $art_cxzrplj$art_c = $art_objgafjhliu$art_obj.length; $art_iamiocwa$art_i < $art_cxzrplj$art_c; $art_iamiocwa$art_i++) {            var field = $art_objgafjhliu$art_obj[$art_iamiocwa$art_i]%>";for(var T=0,U=R.fields,V=U.length;T<V;T++){N=U[T];h+="<td>",x=84,u="=format(item[field])",h+=(y="<%=format(item[field])%>",l(j(k[N]))+"</td>"),x=85,u="/each",y="<%}%>"}h+=" ",x=86,u="/each",y="<%}%>"}h+="</tr>",x=88,u="/each",y="<%}%>"}h+='</tbody></table></div></div></div><div mxa="_zs_galleryew:g" class="clearfix"><div mxa="_zs_galleryew:h" class="_zs_gallery___test___layout_-eg-desc _zs_gallery___test___layout_-half _zs_gallery___test___layout_-half-left"><div mxs="_zs_galleryew:b" class="_zs_gallery___test___layout_-eg-title">HTML Code</div><div class="_zs_gallery___test___layout_-desc-oper" mx-success="'+e+'done({id:1})" mx-view="mx-copy/index?copyNode=',x=152,u="=viewId",h+=(y="<%!$eu(viewId)%>",i(B)+'_text_1"><span mxa="_zs_galleryew:i" class="_zs_gallery___test___layout_-desc-tip">'),x=154,u="!text1",h+=(y="<%!text1%>",a(F)+'</span><i mxs="_zs_galleryew:c" class="mc-iconfont _zs_gallery___test___layout_-desc-icon">&#xe610;</i></div><pre mx-view="__test__/hl" id="'),x=157,u="=viewId",h+=(y="<%=viewId%>",l(B)+'_text_1">\n&lt;mx-table sticky="true" class="mb40"&gt;\n    &lt;table class="table" left="true" width="400"&gt;\n        &lt;thead&gt;\n            &lt;tr&gt;\n                &lt;th&gt;固定1&lt;/th&gt;\n                &lt;th&gt;固定2&lt;/th&gt;\n                &lt;th&gt;固定3&lt;/th&gt;\n            &lt;/tr&gt;\n        &lt;/thead&gt;\n        &lt;tbody&gt;\n            &#123;&#123;each list as item index&#125;&#125;\n                &lt;tr&gt;\n                    &lt;td&gt;&#123;&#123;=item.fixed1&#125;&#125;&lt;/td&gt;\n                    &lt;td&gt;&#123;&#123;=item.fixed2&#125;&#125;&lt;/td&gt;\n                    &lt;td&gt;&#123;&#123;=item.fixed3&#125;&#125;&lt;/td&gt;\n                &lt;/tr&gt;\n            &#123;&#123;/each&#125;&#125;\n        &lt;/tbody&gt;\n    &lt;/table&gt;\n    &lt;table class="table" center="true" width="1200"&gt; \n        &lt;thead&gt;\n            &lt;tr&gt;\n                &#123;&#123;each groups as group&#125;&#125;\n                    &lt;th class="field-group" colspan="&#123;&#123;=group.fields.length&#125;&#125;"&gt;\n                        &lt;div class="group-name"&gt;&#123;&#123;=group.name&#125;&#125;&lt;/div&gt;\n                    &lt;/th&gt;\n                &#123;&#123;/each&#125;&#125;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &#123;&#123;each groups as group&#125;&#125;\n                    &#123;&#123;each group.fields as field&#125;&#125;\n                    &lt;th class="field-item"&gt;\n                        指标&#123;&#123;=field&#125;&#125;\n                        &lt;span sort-trigger="&#123;&#123;=field&#125;&#125;"\n                            sort-field="&#123;&#123;=sortField&#125;&#125;"\n                            sort-orderby="&#123;&#123;=sortBy&#125;&#125;"\n                            order-field-key="&#123;&#123;=orderFieldKey&#125;&#125;"\n                            order-by-key="&#123;&#123;=orderByKey&#125;&#125;"&gt;&lt;/span&gt;\n                    &lt;/th&gt;\n                    &#123;&#123;/each&#125;&#125;\n                &#123;&#123;/each&#125;&#125;\n            &lt;/tr&gt;\n        &lt;/thead&gt;\n        &lt;tbody&gt;\n            &#123;&#123;each list as item index&#125;&#125;\n                &lt;tr&gt;\n                    &#123;&#123;each groups as group&#125;&#125;\n                        &#123;&#123;each group.fields as field&#125;&#125;\n                        &lt;td&gt;&#123;&#123;=format(item[field])&#125;&#125;&lt;/td&gt;\n                        &#123;&#123;/each&#125;&#125;\n                    &#123;&#123;/each&#125;&#125;\n                &lt;/tr&gt;\n            &#123;&#123;/each&#125;&#125;\n        &lt;/tbody&gt;\n    &lt;/table&gt;\n&lt;/mx-table&gt;\n            </pre></div><div mxa="_zs_galleryew:j" class="_zs_gallery___test___layout_-eg-desc _zs_gallery___test___layout_-half"><div mxs="_zs_galleryew:d" class="_zs_gallery___test___layout_-eg-title">JS Code</div><div class="_zs_gallery___test___layout_-desc-oper" mx-success="'+e+'done({id:2})" mx-view="mx-copy/index?copyNode='),x=218,u="=viewId",h+=(y="<%!$eu(viewId)%>",i(B)+'_text_2"><span mxa="_zs_galleryew:k" class="_zs_gallery___test___layout_-desc-tip">'),x=220,u="!text2",h+=(y="<%!text2%>",a(K)+'</span><i mxs="_zs_galleryew:c" class="mc-iconfont _zs_gallery___test___layout_-desc-icon">&#xe610;</i></div><pre mx-view="__test__/hl" id="'),x=223,u="=viewId",h+=(y="<%=viewId%>",l(B)+"_text_2\">\nlet Magix = require('magix');\nlet Sort = require('@../gallery/mx-table/sort');\nlet $ = require('$');\nlet Router = Magix.Router;\nmodule.exports = Magix.View.extend(&#123;\n    tmpl: '@index.html',\n    mixins: [Sort],\n    init() &#123;\n        this.observeLocation(['customOrderField', 'customOrderBy']);\n    &#125;,\n    render() &#123;\n        let that = this;\n\n        let groups = [&#123;\n            name: '组1',\n            fields: ['field1', 'field2']\n        &#125;, &#123;\n            name: '组2',\n            fields: ['field3', 'field4', 'field5', 'field6']\n        &#125;, &#123;\n            name: '组3',\n            fields: ['field7', 'field8', 'field9']\n        &#125;]\n        let len = 0;\n        groups.forEach(group =&gt; &#123;\n            len += group.fields.length;\n        &#125;)\n\n        let locParams = Router.parse().params;\n        let orderFieldKey = 'customOrderField',\n            orderByKey = 'customOrderBy';\n\n        that.updater.digest(&#123;\n            list: that.getList(),\n            orderFieldKey,\n            orderByKey,\n            sortField: locParams[orderFieldKey] || 'field1',\n            sortBy: locParams[orderByKey] || 'asc',\n            groups,\n            len,\n            format: (val) =&gt; &#123;\n                if (!val) &#123;\n                    return '-';\n                &#125;\n                return val;\n            &#125;\n        &#125;);\n    &#125;\n&#125;);\n            </pre></div></div></div>")}catch(t){var D="render view error:"+(t.message||t);throw u&&(D+="\r\n\tsrc art:{{"+u+"}}\r\n\tat line:"+x),D+="\r\n\t"+(u?"translate to:":"expr:"),D+=y+"\r\n\tat file:mx-table/__test__/18.html"}return h},mixins:[i],init:function(){this.updater.set({viewId:this.id,text1:"复制代码",text2:"复制代码"}),this.observeLocation(["customOrderField","customOrderBy","customOrderField2","customOrderBy2"])},render:function(){var t=[{name:"组1",fields:["field1","field2"]},{name:"组2",fields:["field3","field4","field5","field6"]},{name:"组3",fields:["field7","field8","field9"]}],e=0;t.forEach(function(t){e+=t.fields.length});var r=s.parse().params,l=this.getList(),a=this.getList();this.updater.digest({list:this.sort(l,"customOrderField","customOrderBy"),orderFieldKey:"customOrderField",orderByKey:"customOrderBy",sortField:r.customOrderField||"field1",sortBy:r.customOrderBy||"asc",list2:this.sort(a,"customOrderField2","customOrderBy2"),orderFieldKey2:"customOrderField2",orderByKey2:"customOrderBy2",sortField2:r.customOrderField2||"field1",sortBy2:r.customOrderBy2||"asc",groups:t,len:e,format:function(t){return t||"-"}})},getList:function(){for(var t=[],e=0;e<5;e++){var r=2==e||4==e,l={fixed1:e+"_1",fixed2:e+"_2",fixed3:e+"_3",field1:r?0:e+9e3,field2:r?0:e+3e3,field3:r?0:e+1e3,field4:e+412,field5:e+512,field6:e+612,field7:e+7,field8:e+8,field9:e+2},a=d.extend(!0,{},l);t.push(a)}return t}})});