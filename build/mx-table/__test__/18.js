define("mx-table/__test__/18",["magix","__test__/example","mx-table/sort","$","../index","mx-copy/index","__test__/hl"],(t,e,r)=>{t("../index"),t("mx-copy/index"),t("__test__/hl");var l=t("magix"),i=t("__test__/example"),a=t("mx-table/sort"),d=t("$"),s=l.Router;r.exports=i.extend({tmpl:function(t,e,r,l,i,a,d,s){if(r||(r=t),!i){var _={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},n=/[&<>"'`]/g,o=function(t){return"&"+_[t]+";"};i=function(t){return""+(null==t?"":t)},l=function(t){return i(t).replace(n,o)}}if(!a){var c={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},g=function(t){return c[t]},f=/[!')(*]/g;a=function(t){return encodeURIComponent(i(t)).replace(f,g)}}if(!s){var m=/[\\'"]/g;s=function(t){return i(t).replace(m,"\\$&")}}var u,y,h,x="",p=t.list,v=t.groups,b=t.sortField,$=t.sortBy,z=t.orderFieldKey,w=t.orderByKey,B=t.format,F=t.viewId,k=t.text1,j=t.text2;try{x+='<div mxa="_zs_galleryew:_" class="_zs_gallery___test___layout_-example"><div mxa="_zs_galleryew:a" class="_zs_gallery___test___layout_-eg-content"><div mxs="_zs_galleryew:_" class="mb20"><div class="mb5">1. 默认使用 “指标field1” + “升序” 进行排序：sort-field（当前排序字段）；sort-orderby（当前排序方式）</div><div class="mb5 pl15"><pre class="tip-content">\n&lt;th class="field-item"&gt;\n    指标&#123;&#123;=field&#125;&#125;\n    &lt;span sort-trigger="&#123;&#123;=field&#125;&#125;"\n        sort-field="&#123;&#123;=sortField&#125;&#125;"\n        sort-orderby="&#123;&#123;=sortBy&#125;&#125;"&gt;&lt;/span&gt;\n&lt;/th&gt;\n                </pre></div><div class="mb5">2. 自定义路由参数：当前页面有两个表格，都需要排序，如果都用默认的路由参数（orderField 和 orderBy）会存在冲突，需要自定义路由参数</div><div class="mb5 pl15"><pre class="tip-content mb5">\n&lt;th class="field-item"&gt;\n    指标&#123;&#123;=field&#125;&#125;\n    &lt;span sort-trigger="&#123;&#123;=field&#125;&#125;"\n        order-field-key="&#123;&#123;=orderFieldKey&#125;&#125;"\n        order-by-key="&#123;&#123;=orderByKey&#125;&#125;"&gt;&lt;/span&gt;\n&lt;/th&gt;\n                </pre><div class="mb5">最终路由上显示为：</div><pre class="tip-content">\n{\n    [order-field-key]: sort-trigger,\n    [order-by-key]: desc or asc\n}\n                </pre></div></div><div mxa="_zs_galleryew:b" mx-view="mx-table/index?sticky=true" class="mb40"><div><table mxa="_zs_galleryew:c" class="table" left="true" width="400"><thead mxs="_zs_galleryew:a"><tr><th>固定1</th><th>固定2</th><th>固定3</th></tr></thead><tbody>',h=45,y="each list as item index",u="<%for (var index = 0, $art_cqgucme$art_c = list.length; index < $art_cqgucme$art_c; index++) {    var item = list[index]%>";for(var K=0,O=p.length;K<O;K++){var q=p[K];x+="<tr><td>",h=47,y="=item.fixed1",x+=(u="<%=item.fixed1%>",l(q.fixed1)+"</td><td>"),h=48,y="=item.fixed2",x+=(u="<%=item.fixed2%>",l(q.fixed2)+"</td><td>"),h=49,y="=item.fixed3",x+=(u="<%=item.fixed3%>",l(q.fixed3)+"</td></tr>"),h=51,y="/each",u="<%}%>"}x+='</tbody></table></div><div><table mxa="_zs_galleryew:d" class="table" center="true" width="1200"><thead><tr>',h=58,y="each groups as group",u="<%for (var $art_ibbvesbtiqi$art_i = 0, $art_culewhnenja$art_c = groups.length; $art_ibbvesbtiqi$art_i < $art_culewhnenja$art_c; $art_ibbvesbtiqi$art_i++) {    var group = groups[$art_ibbvesbtiqi$art_i]%>";for(var I=0,L=v.length;I<L;I++){var R=v[I];x+='<th class="field-group" colspan="',h=59,y="=group.fields.length",x+=(u="<%=group.fields.length%>",l(R.fields.length)+'"><div mxa="_zs_galleryew:e" class="group-name">'),h=60,y="=group.name",x+=(u="<%=group.name%>",l(R.name)+"</div></th>"),h=62,y="/each",u="<%}%>"}x+="</tr><tr>",h=65,y="each groups as group",u="<%for (var $art_inhzsbvcp$art_i = 0, $art_clwdmqms$art_c = groups.length; $art_inhzsbvcp$art_i < $art_clwdmqms$art_c; $art_inhzsbvcp$art_i++) {    var group = groups[$art_inhzsbvcp$art_i]%>";for(var M=0,C=v.length;M<C;M++){R=v[M];x+=" ",h=66,y="each group.fields as field",u="<%for (var $art_iodlzjhlkc$art_i = 0, $art_objaquycutb$art_obj = group.fields, $art_cixxdkvybp$art_c = $art_objaquycutb$art_obj.length; $art_iodlzjhlkc$art_i < $art_cixxdkvybp$art_c; $art_iodlzjhlkc$art_i++) {        var field = $art_objaquycutb$art_obj[$art_iodlzjhlkc$art_i]%>";for(var P=0,S=R.fields,E=S.length;P<E;P++){var N=S[P];x+='<th mxa="_zs_galleryew:f" class="field-item">指标',h=68,y="=field",x+=(u="<%=field%>",l(N)+'<span sort-trigger="'),h=69,y="=field",x+=(u="<%=field%>",l(N)+'" sort-field="'),h=70,y="=sortField",x+=(u="<%=sortField%>",l(b)+'" sort-orderby="'),h=71,y="=sortBy",x+=(u="<%=sortBy%>",l($)+'" order-field-key="'),h=72,y="=orderFieldKey",x+=(u="<%=orderFieldKey%>",l(z)+'" order-by-key="'),h=73,y="=orderByKey",x+=(u="<%=orderByKey%>",l(w)+'"></span></th>'),h=75,y="/each",u="<%}%>"}x+=" ",h=76,y="/each",u="<%}%>"}x+="</tr></thead><tbody>",h=80,y="each list as item index",u="<%for (var index = 0, $art_cezkqejgctb$art_c = list.length; index < $art_cezkqejgctb$art_c; index++) {    var item = list[index]%>";K=0;for(var A=p.length;K<A;K++){q=p[K];x+="<tr>",h=82,y="each groups as group",u="<%for (var $art_ixtwxbouod$art_i = 0, $art_ctfxvrlsnw$art_c = groups.length; $art_ixtwxbouod$art_i < $art_ctfxvrlsnw$art_c; $art_ixtwxbouod$art_i++) {        var group = groups[$art_ixtwxbouod$art_i]%>";for(var H=0,J=v.length;H<J;H++){R=v[H];x+=" ",h=83,y="each group.fields as field",u="<%for (var $art_izcbknmzh$art_i = 0, $art_objpqgzehh$art_obj = group.fields, $art_cpwihrslmx$art_c = $art_objpqgzehh$art_obj.length; $art_izcbknmzh$art_i < $art_cpwihrslmx$art_c; $art_izcbknmzh$art_i++) {            var field = $art_objpqgzehh$art_obj[$art_izcbknmzh$art_i]%>";for(var T=0,U=R.fields,V=U.length;T<V;T++){N=U[T];x+="<td>",h=84,y="=format(item[field])",x+=(u="<%=format(item[field])%>",l(B(q[N]))+"</td>"),h=85,y="/each",u="<%}%>"}x+=" ",h=86,y="/each",u="<%}%>"}x+="</tr>",h=88,y="/each",u="<%}%>"}x+='</tbody></table></div></div></div><div mxa="_zs_galleryew:g" class="clearfix"><div mxa="_zs_galleryew:h" class="_zs_gallery___test___layout_-eg-desc _zs_gallery___test___layout_-half _zs_gallery___test___layout_-half-left"><div mxs="_zs_galleryew:b" class="_zs_gallery___test___layout_-eg-title">HTML Code</div><div class="_zs_gallery___test___layout_-desc-oper" mx-success="'+e+'done({id:1})" mx-view="mx-copy/index?copyNode=',h=152,y="=viewId",x+=(u="<%!$eu(viewId)%>",a(F)+'_text_1"><span mxa="_zs_galleryew:i" class="_zs_gallery___test___layout_-desc-tip">'),h=154,y="!text1",x+=(u="<%!text1%>",i(k)+'</span><i mxs="_zs_galleryew:c" class="mc-iconfont _zs_gallery___test___layout_-desc-icon">&#xe610;</i></div><pre mx-view="__test__/hl" id="'),h=157,y="=viewId",x+=(u="<%=viewId%>",l(F)+'_text_1">\n&lt;mx-table sticky="true" class="mb40"&gt;\n    &lt;table class="table" left="true" width="400"&gt;\n        &lt;thead&gt;\n            &lt;tr&gt;\n                &lt;th&gt;固定1&lt;/th&gt;\n                &lt;th&gt;固定2&lt;/th&gt;\n                &lt;th&gt;固定3&lt;/th&gt;\n            &lt;/tr&gt;\n        &lt;/thead&gt;\n        &lt;tbody&gt;\n            &#123;&#123;each list as item index&#125;&#125;\n                &lt;tr&gt;\n                    &lt;td&gt;&#123;&#123;=item.fixed1&#125;&#125;&lt;/td&gt;\n                    &lt;td&gt;&#123;&#123;=item.fixed2&#125;&#125;&lt;/td&gt;\n                    &lt;td&gt;&#123;&#123;=item.fixed3&#125;&#125;&lt;/td&gt;\n                &lt;/tr&gt;\n            &#123;&#123;/each&#125;&#125;\n        &lt;/tbody&gt;\n    &lt;/table&gt;\n    &lt;table class="table" center="true" width="1200"&gt; \n        &lt;thead&gt;\n            &lt;tr&gt;\n                &#123;&#123;each groups as group&#125;&#125;\n                    &lt;th class="field-group" colspan="&#123;&#123;=group.fields.length&#125;&#125;"&gt;\n                        &lt;div class="group-name"&gt;&#123;&#123;=group.name&#125;&#125;&lt;/div&gt;\n                    &lt;/th&gt;\n                &#123;&#123;/each&#125;&#125;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &#123;&#123;each groups as group&#125;&#125;\n                    &#123;&#123;each group.fields as field&#125;&#125;\n                    &lt;th class="field-item"&gt;\n                        指标&#123;&#123;=field&#125;&#125;\n                        &lt;span sort-trigger="&#123;&#123;=field&#125;&#125;"\n                            sort-field="&#123;&#123;=sortField&#125;&#125;"\n                            sort-orderby="&#123;&#123;=sortBy&#125;&#125;"\n                            order-field-key="&#123;&#123;=orderFieldKey&#125;&#125;"\n                            order-by-key="&#123;&#123;=orderByKey&#125;&#125;"&gt;&lt;/span&gt;\n                    &lt;/th&gt;\n                    &#123;&#123;/each&#125;&#125;\n                &#123;&#123;/each&#125;&#125;\n            &lt;/tr&gt;\n        &lt;/thead&gt;\n        &lt;tbody&gt;\n            &#123;&#123;each list as item index&#125;&#125;\n                &lt;tr&gt;\n                    &#123;&#123;each groups as group&#125;&#125;\n                        &#123;&#123;each group.fields as field&#125;&#125;\n                        &lt;td&gt;&#123;&#123;=format(item[field])&#125;&#125;&lt;/td&gt;\n                        &#123;&#123;/each&#125;&#125;\n                    &#123;&#123;/each&#125;&#125;\n                &lt;/tr&gt;\n            &#123;&#123;/each&#125;&#125;\n        &lt;/tbody&gt;\n    &lt;/table&gt;\n&lt;/mx-table&gt;\n            </pre></div><div mxa="_zs_galleryew:j" class="_zs_gallery___test___layout_-eg-desc _zs_gallery___test___layout_-half"><div mxs="_zs_galleryew:d" class="_zs_gallery___test___layout_-eg-title">JS Code</div><div class="_zs_gallery___test___layout_-desc-oper" mx-success="'+e+'done({id:2})" mx-view="mx-copy/index?copyNode='),h=218,y="=viewId",x+=(u="<%!$eu(viewId)%>",a(F)+'_text_2"><span mxa="_zs_galleryew:k" class="_zs_gallery___test___layout_-desc-tip">'),h=220,y="!text2",x+=(u="<%!text2%>",i(j)+'</span><i mxs="_zs_galleryew:c" class="mc-iconfont _zs_gallery___test___layout_-desc-icon">&#xe610;</i></div><pre mx-view="__test__/hl" id="'),h=223,y="=viewId",x+=(u="<%=viewId%>",l(F)+"_text_2\">\nlet Magix = require('magix');\nlet Sort = require('@../gallery/mx-table/sort');\nlet $ = require('$');\nlet Router = Magix.Router;\nmodule.exports = Magix.View.extend(&#123;\n    tmpl: '@index.html',\n    mixins: [Sort],\n    init() &#123;\n        this.observeLocation(['customOrderField', 'customOrderBy']);\n    &#125;,\n    render() &#123;\n        let that = this;\n\n        let groups = [&#123;\n            name: '组1',\n            fields: ['field1', 'field2']\n        &#125;, &#123;\n            name: '组2',\n            fields: ['field3', 'field4', 'field5', 'field6']\n        &#125;, &#123;\n            name: '组3',\n            fields: ['field7', 'field8', 'field9']\n        &#125;]\n        let len = 0;\n        groups.forEach(group =&gt; &#123;\n            len += group.fields.length;\n        &#125;)\n\n        let locParams = Router.parse().params;\n        let orderFieldKey = 'customOrderField',\n            orderByKey = 'customOrderBy';\n\n        that.updater.digest(&#123;\n            list: that.getList(),\n            orderFieldKey,\n            orderByKey,\n            sortField: locParams[orderFieldKey] || 'field1',\n            sortBy: locParams[orderByKey] || 'asc',\n            groups,\n            len,\n            format: (val) =&gt; &#123;\n                if (!val) &#123;\n                    return '-';\n                &#125;\n                return val;\n            &#125;\n        &#125;);\n    &#125;\n&#125;);\n            </pre></div></div></div>")}catch(t){var D="render view error:"+(t.message||t);throw y&&(D+="\r\n\tsrc art:{{"+y+"}}\r\n\tat line:"+h),D+="\r\n\t"+(y?"translate to:":"expr:"),D+=u+"\r\n\tat file:mx-table/__test__/18.html"}return x},mixins:[a],init:function(){this.updater.set({viewId:this.id,text1:"复制代码",text2:"复制代码"}),this.observeLocation(["customOrderField","customOrderBy","customOrderField2","customOrderBy2"])},render:function(){var t=[{name:"组1",fields:["field1","field2"]},{name:"组2",fields:["field3","field4","field5","field6"]},{name:"组3",fields:["field7","field8","field9"]}],e=0;t.forEach(function(t){e+=t.fields.length});var r=s.parse().params,l=this.getList(),i=this.getList();this.updater.digest({list:this.sort(l,"customOrderField","customOrderBy"),orderFieldKey:"customOrderField",orderByKey:"customOrderBy",sortField:r.customOrderField||"field1",sortBy:r.customOrderBy||"asc",list2:this.sort(i,"customOrderField2","customOrderBy2"),orderFieldKey2:"customOrderField2",orderByKey2:"customOrderBy2",sortField2:r.customOrderField2||"field1",sortBy2:r.customOrderBy2||"asc",groups:t,len:e,format:function(t){return t||"-"}})},getList:function(){for(var t=[],e=0;e<5;e++){var r=2==e||4==e,l={fixed1:e+"_1",fixed2:e+"_2",fixed3:e+"_3",field1:r?0:e+9e3,field2:r?0:e+3e3,field3:r?0:e+1e3,field4:e+412,field5:e+512,field6:e+612,field7:e+7,field8:e+8,field9:e+2},i=d.extend(!0,{},l);t.push(i)}return t}})});