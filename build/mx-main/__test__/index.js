define("mx-main/__test__/index",["magix","$","__test__/example","__test__/subs","mx-title/second","mx-copy/index","__test__/hl","__test__/api"],(e,n,t)=>{e("__test__/subs"),e("mx-title/second"),e("mx-copy/index"),e("__test__/hl"),e("__test__/api");e("magix"),e("$");var i=e("__test__/example");t.exports=i.extend({tmpl:function(e,n,t,i,s,a,_,l){if(t||(t=e),!s){var d={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},r=/[&<>"'`]/g,c=function(e){return"&"+d[e]+";"};s=function(e){return""+(null==e?"":e)},i=function(e){return s(e).replace(r,c)}}if(!a){var o={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},v=function(e){return o[e]},p=/[!')(*]/g;a=function(e){return encodeURIComponent(s(e)).replace(p,v)}}if(!l){var m=/[\\'"]/g;l=function(e){return s(e).replace(m,"\\$&")}}_||(_=function(e,n,t,i){for(i=e[u];--i;)if(e[t=u+i]===n)return t;return e[t=u+e[u]++]=n,t});var x,y,g,u="",w="",f=e.viewId,I=e.text1,b=e.text2,h=e.options;try{w+='<div mxv mxa="_zs_galleryc&:_" class="pr pr120"><div mx-view="__test__/subs?list=',g=2,y="@[{\n        name: '使用示例',\n        key: viewId + '_demo'\n    }, {\n        name: 'API',\n        key: viewId + '_api'\n    }, {\n        name: 'step-infos配置',\n        key: viewId + '_step',\n        subs: [{\n            name: '可配参数',\n            key: viewId + '_step1',\n        }, {\n            name: 'check',\n            key: viewId + '_step2',\n        }]\n    }]",w+=(x="<%@[{            name: '使用示例',            key: viewId + '_demo'        }, {            name: 'API',            key: viewId + '_api'        }, {            name: 'step-infos配置',            key: viewId + '_step',            subs: [{                    name: '可配参数',                    key: viewId + '_step1'                }, {                    name: 'check',                    key: viewId + '_step2'                }]        }]%>",_(t,[{name:"使用示例",key:f+"_demo"},{name:"API",key:f+"_api"},{name:"step-infos配置",key:f+"_step",subs:[{name:"可配参数",key:f+"_step1"},{name:"check",key:f+"_step2"}]}])+'"></div><div id="'),g=20,y="=viewId",w+=(x="<%=viewId%>",i(f)+'_demo" mx-view="mx-title/second?content=%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B"></div><div mxa="_zs_galleryc&:a" class="clearfix"><div mxa="_zs_galleryc&:b" class="_zs_gallery___test___layout_-example"><div mxs="_zs_galleryc&:_" class="_zs_gallery___test___layout_-eg-content"><div class="mb20 lh22 clearfix"><div class="color-9 fl">以下示例：</div><div class="fl"><div>每步跳转完成会在路由上<span class="color-brand">保留参数stepIndex（一级步骤） 和 subStepIndex（二级子步骤）</span></div><div>当前已到达步骤取路由地址上stepIndex，1 和 用户配置的already-step的最大值</div><div>点击左侧导航可以快速跳转；未到步骤不可点击；</div><div>点击二级子步骤当前模块滚动到最顶部</div><div>右侧提醒信息可有可无</div></div></div><div class="color-9 lh22">点击以下链接新页面查看示例：</div><div class="lh22"><span class="color-9">从第一步开始：</span><a href="#!/main/demo" target="_blank" rel="noopener noreferrer" class="color-brand">#!/main/demo</a></div><div class="lh22"><span class="color-9">已到达第二步，停留在第二步上：</span><a href="#!/main/demo?campaignId=1&stepIndex=2" target="_blank" rel="noopener noreferrer" class="color-brand">#!/main/demo?campaignId=1&stepIndex=2</a></div><div class="lh22"><span class="color-9">已到达第二步，停留在第一步上：</span><a href="#!/main/demo?campaignId=1&stepIndex=1" target="_blank" rel="noopener noreferrer" class="color-brand">#!/main/demo?campaignId=1&stepIndex=1</a></div></div><div mxa="_zs_galleryc&:c" class="clearfix"><div mxa="_zs_galleryc&:d" class="_zs_gallery___test___layout_-eg-desc _zs_gallery___test___layout_-third1"><div mxs="_zs_galleryc&:a" class="_zs_gallery___test___layout_-eg-title">HTML Code</div><div class="_zs_gallery___test___layout_-desc-oper" mx-success="'+n+'done({id:1})" mx-view="mx-copy/index?copyNode='),g=51,y="=viewId",w+=(x="<%!$eu(viewId)%>",a(f)+'_text_1"><span mxa="_zs_galleryc&:e" class="_zs_gallery___test___layout_-desc-tip">'),g=53,y="!text1",w+=(x="<%!text1%>",s(I)+'</span><i mxs="_zs_galleryc&:b" class="mc-iconfont _zs_gallery___test___layout_-desc-icon">&#xe610;</i></div><pre mx-view="__test__/hl" id="'),g=56,y="=viewId",w+=(x="<%=viewId%>",i(f)+'_text_1">\n&lt;mx-main \n    right-width="220"\n    left-width="140"\n    already-step="&#123;&#123;=alreadyStep&#125;&#125;"\n    step-infos="&#123;&#123;@stepInfos&#125;&#125;" /&gt;\n                    </pre></div><div mxa="_zs_galleryc&:f" class="_zs_gallery___test___layout_-eg-desc _zs_gallery___test___layout_-third2 _zs_gallery___test___layout_-half-right"><div mxs="_zs_galleryc&:c" class="_zs_gallery___test___layout_-eg-title">JS Code</div><div class="_zs_gallery___test___layout_-desc-oper" mx-success="'+n+'done({id:2})" mx-view="mx-copy/index?copyNode='),g=66,y="=viewId",w+=(x="<%!$eu(viewId)%>",a(f)+'_text_2"><span mxa="_zs_galleryc&:g" class="_zs_gallery___test___layout_-desc-tip">'),g=68,y="!text2",w+=(x="<%!text2%>",s(b)+'</span><i mxs="_zs_galleryc&:b" class="mc-iconfont _zs_gallery___test___layout_-desc-icon">&#xe610;</i></div><pre mx-view="__test__/hl" id="'),g=71,y="=viewId",w+=(x="<%=viewId%>",i(f)+"_text_2\">\nlet Magix = require('magix');\nlet $ = require('$');\nlet Router = Magix.Router;\n\nmodule.exports = Magix.View.extend(&#123;\n    tmpl: '@index.html',\n    render() &#123;\n        let stepInfos = [&#123;\n            label: '设置计划',\n            sideView: '@./tip',\n            subs: [&#123;\n                label: '基本信息',\n                icon: '&lt;i class=\"mc-iconfont fontsize-22\"&gt;&#38;&#35;xe612;&lt;/i&gt;',\n                view: '@./inner1'\n            &#125;],\n            nextTip: '下一步，设置计划',\n            nextFn: (remains, next) =&gt; &#123;\n                // remains 当前步骤保留的信息，提交处理\n                next(&#123;\n                    campaignId: 1\n                &#125;)\n            &#125;\n        &#125;, &#123;\n            label: '设置单元',\n            sideTitle: '单元说明',\n            sideTip: `&lt;div&gt;说明：&lt;/div&gt;\n        &lt;div&gt;1、条件1&lt;/div&gt;\n        &lt;div&gt;2、条件2&lt;/div&gt;\n        &lt;div&gt;3、条件3&lt;/div&gt;`,\n            subs: [&#123;\n                label: '推广宝贝',\n                icon: '&lt;i class=\"mc-iconfont fontsize-20\"&gt;&#38;&#35;xe613;&lt;/i&gt;',\n                view: '@./inner2'\n            &#125;, &#123;\n                label: '出价方式',\n                icon: '&lt;i class=\"mc-iconfont fontsize-20\"&gt;&#38;&#35;xe731;&lt;/i&gt;',\n                view: '@./inner'\n            &#125;],\n            prevTip: '返回计划设置',\n            nextTip: '下一步，完成',\n            nextFn: (remains, next) =&gt; &#123;\n                // remains 当前步骤保留的信息，提交处理\n                next(&#123;\n                    adgroupId: 1\n                &#125;)\n            &#125;\n        &#125;, &#123;\n            label: '完成创建',\n            subs: [&#123;\n                label: '完成标题',\n                icon: '&lt;i class=\"mc-iconfont fontsize-20\"&gt;&#38;&#35;xe7be;&lt;/i&gt;',\n                view: '@./inner3'\n            &#125;]\n        &#125;];\n\n        let locParams = Router.parse().params;\n        let alreadyStep = 1;\n        if (locParams.campaignId) &#123;\n            alreadyStep = 2;\n            if (locParams.adgroupId) &#123;\n                alreadyStep = 3;\n            &#125;\n        &#125;\n\n        this.updater.digest(&#123;\n            stepInfos,\n            alreadyStep\n        &#125;);\n    &#125;\n&#125;);\n                    </pre></div></div></div></div><div mxv mxa=\"_zs_galleryc&:h\" class=\"pr20\"><div id=\""),g=149,y="=viewId",w+=(x="<%=viewId%>",i(f)+'_api" mx-view="mx-title/second?content=API"></div><div mxv="options" mx-view="__test__/api?options='),g=150,y="@options",w+=(x="<%@options%>",_(t,h)+'" class="mb40"></div><div id="'),g=152,y="=viewId",w+=(x="<%=viewId%>",i(f)+'_step" mx-view="mx-title/second?content=step-infos%E9%85%8D%E7%BD%AE%E8%AF%B4%E6%98%8E"></div><div mxa="_zs_galleryc&:i" class="mb40"><div class="mb10" id="'),g=154,y="=viewId",w+=(x="<%=viewId%>",i(f)+"_step1\">1. step-infos数组所有可配参数说明</div><div mxs=\"_zs_galleryc&:d\" class=\"pl15 mb20\"><pre class=\"tip-content\">\n[{\n    label: '必填，一级标题文案',\n    prevTip: '可选，自定义返回上一步文案，默认返回上一步'\n    nextTip: '可选，自定义下一步文案，默认返回下一步',\n    sideTip: '可选，所有子view公用一个侧边提示，使用默认样式的提示内容',\n    sideTitle: '可选，所有子view公用一个侧边提示，使用默认样式的提示标题',\n    sideView: '可选，所有子view公用一个侧边提示，自定义view',\n    subs: [{\n        label: '必填，二级标题文案，当只有一个二级标题时，不显示二级标题',\n        icon: '可选，二级标题icon',\n        view: '必填，二级标题对应的view，该view必须实现check方法'\n    }, {\n        label: '必填，二级标题文案',\n        icon: '可选，二级标题icon',\n        view: '必填，二级标题对应的view，该view必须实现check方法'\n    }],\n    nextFn: (remains, next) => {\n        // remains 当前所有子步骤保留的信息交集，便于提交接口处理等\n        // next(remainParams:object) 保存在路由上的参数\n        next({\n            example: 1\n        })\n    }\n}]\n                </pre></div><div class=\"mb10\" id=\""),g=183,y="=viewId",w+=(x="<%=viewId%>",i(f)+'_step2">2. 子view必须实现的check方法说明，返回一个Promise</div><div mxs="_zs_galleryc&:e" class="pl15"><pre class="tip-content">\ncheck() {\n    let ok = true,\n        remain = {};\n\n    return new Promise((resolve) => {\n        // 此处返回promise，防止有接口提交校验等\n        resolve({\n            ok,  // 是否校验通过，false的时候不提交\n            msg: \'错误信息提示\',\n            remain: {} // 当前步骤保留的参数，所有子view交集\n        })\n    })\n}\n                </pre></div></div></div></div>')}catch(e){var z="render view error:"+(e.message||e);throw y&&(z+="\r\n\tsrc art:{{"+y+"}}\r\n\tat line:"+g),z+="\r\n\t"+(y?"translate to:":"expr:"),z+=x+"\r\n\tat file:mx-main/__test__/index.html"}return w},render:function(){var e=[{key:"step-infos",desc:'步骤信息，<a href="javascript:;" mx-click="to({id:\''+this.id+'_step\'})" class="color-brand">查看详细说明</a>',type:"array",def:"[]"},{key:"already-step",desc:"当前已经到达第几步，从1开始",type:"number",def:"取路由地址上stepIndex，1 和 alreadyStep的最大值"},{key:"left-width",desc:"左侧导航区域宽度",type:"number",def:"160"},{key:"right-width",desc:"右侧提示区域宽度",type:"number",def:"260"}];this.updater.digest({options:e})}})});