define("mx-slider/index",["magix","$","../mx-dragdrop/index"],(e,r,i)=>{var l=e("magix"),_=e("$"),a=e("../mx-dragdrop/index");l.applyStyle("_zs_gallery_mx-slider_index_",'[mx-view*="mx-slider/index"],\n[mx-view*="mx-slider/range"] {\n  position: relative;\n  display: inline-block;\n  outline: 0;\n  cursor: pointer;\n}\n[mx-view*="mx-slider/index"] ._zs_gallery_mx-slider_index_-rail-input,\n[mx-view*="mx-slider/range"] ._zs_gallery_mx-slider_index_-rail-input {\n  position: absolute;\n  top: 0;\n  right: -74px;\n  width: 64px;\n}\n[mx-view*="mx-slider/index"][mx-view*="disabled=true"],\n[mx-view*="mx-slider/range"][mx-view*="disabled=true"],\n[mx-view*="mx-slider/index"][mx-disabled],\n[mx-view*="mx-slider/range"][mx-disabled] {\n  cursor: not-allowed;\n}\n[mx-view*="mx-slider/index"][mx-view*="disabled=true"] ._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-tracker,\n[mx-view*="mx-slider/range"][mx-view*="disabled=true"] ._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-tracker,\n[mx-view*="mx-slider/index"][mx-disabled] ._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-tracker,\n[mx-view*="mx-slider/range"][mx-disabled] ._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-tracker {\n  background-color: #ccc;\n}\n[mx-view*="mx-slider/index"][mx-view*="disabled=true"] ._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-indicator,\n[mx-view*="mx-slider/range"][mx-view*="disabled=true"] ._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-indicator,\n[mx-view*="mx-slider/index"][mx-disabled] ._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-indicator,\n[mx-view*="mx-slider/range"][mx-disabled] ._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-indicator {\n  background-color: #ccc;\n}\n[mx-view*="mx-slider/index"][mx-view*="disabled=true"] ._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-indicator:before,\n[mx-view*="mx-slider/range"][mx-view*="disabled=true"] ._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-indicator:before,\n[mx-view*="mx-slider/index"][mx-disabled] ._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-indicator:before,\n[mx-view*="mx-slider/range"][mx-disabled] ._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-indicator:before {\n  background-color: #ccc;\n}\n._zs_gallery_mx-slider_index_-rail-wrapper {\n  line-height: 28px;\n}\n._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail {\n  display: inline-block;\n  position: relative;\n  border-radius: 2px;\n  background: #f0f0f0;\n}\n._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-tracker {\n  position: absolute;\n  border-radius: 2px;\n  left: 0;\n  background-color: var(--color-brand-light);\n}\n._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-tracker._zs_gallery_mx-slider_index_-hor-tracker {\n  height: 4px;\n  top: 0;\n}\n._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-tracker._zs_gallery_mx-slider_index_-ver-tracker {\n  width: 4px;\n  bottom: 0;\n}\n._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-indicator {\n  position: absolute;\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  background-color: var(--color-brand);\n  outline: 0;\n}\n._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-indicator:before {\n  content: \' \';\n  position: absolute;\n  top: -4px;\n  left: -4px;\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n  background-color: var(--color-brand);\n  opacity: 0.3;\n}\n._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-indicator._zs_gallery_mx-slider_index_-hor-idctor {\n  top: -2px;\n}\n._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-indicator._zs_gallery_mx-slider_index_-ver-idctor {\n  left: -2px;\n}\n._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-pointer-label {\n  position: absolute;\n  font-size: var(--font-size);\n  pointer-events: none;\n  line-height: normal;\n}\n._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-pointer-label._zs_gallery_mx-slider_index_-hor-pl {\n  top: -23px;\n}\n._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-pointer-label._zs_gallery_mx-slider_index_-ver-pl {\n  right: 12px;\n}\n._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-scale-left,\n._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-scale-right,\n._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-ver-scale-top,\n._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-ver-scale-bottom {\n  position: absolute;\n  font-size: var(--font-size);\n  pointer-events: none;\n  line-height: normal;\n}\n._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-scale-left {\n  left: 0;\n  top: 9px;\n}\n._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-scale-right {\n  right: 0;\n  top: 9px;\n}\n._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-ver-scale-bottom {\n  bottom: 0;\n  left: 12px;\n}\n._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-ver-scale-top {\n  top: 0;\n  left: 12px;\n}\n._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail._zs_gallery_mx-slider_index_-hor {\n  height: 4px;\n  top: -2px;\n}\n._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail._zs_gallery_mx-slider_index_-ver {\n  width: 4px;\n  left: 8px;\n}\n._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-unit {\n  margin-left: 3px;\n  color: #999;\n}\n');i.exports=l.View.extend({tmpl:function(e,r,i,l,_,a,n,d){if(i||(i=e),!_){var s={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},x=/[&<>"'`]/g,t=function(e){return"&"+s[e]+";"};_=function(e){return""+(null==e?"":e)},l=function(e){return _(e).replace(x,t)}}if(!a){var m={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},o=function(e){return m[e]},g=/[!')(*]/g;a=function(e){return encodeURIComponent(_(e)).replace(g,o)}}if(!d){var p=/[\\'"]/g;d=function(e){return _(e).replace(p,"\\$&")}}var c,y="",v=e.vertical,u=e.height,z=e.width,h=e.min,f=e.max,w=e.needInput,b=e.viewId,k=e.disabled;try{y+='<div mxa="_zs_galleryd$:_" class="_zs_gallery_mx-slider_index_-rail-wrapper"><span class="_zs_gallery_mx-slider_index_-rail ',c="<%if (vertical) {%>",v?(y+=" _zs_gallery_mx-slider_index_-ver ",c="<%}else {%>"):(y+=" _zs_gallery_mx-slider_index_-hor ",c="<%}%>"),y+='" mx-contextmenu="'+r+'@{prevent}()" style="',c="<%if (vertical) {%>",v?(y+="height:"+(c="<%=height%>",l(u)),c="<%}else {%>"):(y+="width:"+(c="<%=width%>",l(z)),c="<%}%>"),y+='px"><span class="_zs_gallery_mx-slider_index_-tracker ',c="<%if (vertical) {%>",v?(y+=" _zs_gallery_mx-slider_index_-ver-tracker ",c="<%}else {%>"):(y+=" _zs_gallery_mx-slider_index_-hor-tracker ",c="<%}%>"),y+='"></span><span class="_zs_gallery_mx-slider_index_-indicator ',c="<%if (vertical) {%>",v?(y+=" _zs_gallery_mx-slider_index_-ver-idctor ",c="<%}else {%>"):(y+=" _zs_gallery_mx-slider_index_-hor-idctor ",c="<%}%>"),y+='" mx-mousedown="'+r+'@{drag}()"></span><span class="_zs_gallery_mx-slider_index_-pointer-label ',c="<%if (vertical) {%>",v?(y+=" _zs_gallery_mx-slider_index_-ver-pl ",c="<%}else {%>"):(y+=" _zs_gallery_mx-slider_index_-hor-pl ",c="<%}%>"),y+='"></span><span class="',c="<%if (vertical) {%>",v?(y+=" _zs_gallery_mx-slider_index_-ver-scale-bottom ",c="<%}else {%>"):(y+=" _zs_gallery_mx-slider_index_-scale-left ",c="<%}%>"),y+='">'+(c="<%=min%>",l(h))+'</span><span class="',c="<%if (vertical) {%>",v?(y+=" _zs_gallery_mx-slider_index_-ver-scale-top ",c="<%}else {%>"):(y+=" _zs_gallery_mx-slider_index_-scale-right",c="<%}%>"),y+='">'+(c="<%=max%>",l(f))+"</span></span></div>",c="<%if (needInput) {%>",w&&(y+='<input class="input input-small _zs_gallery_mx-slider_index_-rail-input" id="'+(c="<%=viewId%>",l(b))+'_input" ',c="<%if (disabled) {%>",k&&(y+=' disabled="true" ',c="<%}%>"),y+=' mx-keyup="'+r+'@{enter}()" mx-focusout="'+r+'@{out}()"/>',c="<%}%>")}catch(e){var I="render view error:"+(e.message||e);throw I+="\r\n\texpr:",I+=c+"\r\n\tat file:mx-slider/index.html"}return y},mixins:[a],init:function(e){this.assign(e),this["@{owner.node}"]=_("#"+this.id)},assign:function(e){var r=this;r["@{width}"]=+e.width||280,r["@{height}"]=+e.height||280,r["@{min}"]=+e.min||0,r["@{max}"]=+e.max||100,r["@{step}"]=+e.step||1,r["@{tip}"]=e.tip||"",r["@{ui.disabled}"]=e.disabled+""=="true"||_("#"+r.id)[0].hasAttribute("mx-disabled"),r["@{vertical}"]=e.vertical+""=="true",r["@{needInput}"]=e.needInput+""=="true"&&!r["@{vertical}"];var i,l=r["@{step}"]+"",a=l.indexOf(".");return a=a>=0?l.slice(a+1).length:0,r["@{tail.length}"]=a,i=e.value?+e.value:(r["@{max}"]+r["@{min}"])/2,r["@{value}"]=i,!0},render:function(){var e=this;e.updater.digest({viewId:e.id,min:e["@{min}"].toFixed(e["@{tail.length}"]),max:e["@{max}"].toFixed(e["@{tail.length}"]),width:e["@{width}"],height:e["@{height}"],vertical:e["@{vertical}"],needInput:e["@{needInput}"],disabled:e["@{ui.disabled}"]}),e.val(e["@{value}"]);var r=e["@{owner.node}"].find("._zs_gallery_mx-slider_index_-rail-wrapper");e["@{rail.node}"]=r;var i=function(i){if(!e["@{temp.hold.event}"]&&!e["@{ui.disabled}"]){var l=r.offset(),_=e["@{get.ui.vars}"](),a=((e["@{vertical}"]?_.rMax-i.pageY+l.top:i.pageX-l.left)-_.half)/_.max,n=e["@{get.fixed.value}"](a);e.val(n)}},l=function(r){if(!e["@{dragging}"])if(37==r.keyCode||40==r.keyCode){r.preventDefault();var i=+e["@{value}"];i-=e["@{step}"],e.val(i)}else if(39==r.keyCode||38==r.keyCode){r.preventDefault();i=+e["@{value}"];i+=e["@{step}"],e.val(i)}};r.on("click",i),r.on("keydown",l),e.on("destroy",function(){r.off("click",i),r.off("keydown",l)})},"@{get.ui.vars}":function(){var e=this,r=e["@{owner.node}"].find("._zs_gallery_mx-slider_index_-rail"),i=e["@{owner.node}"].find("._zs_gallery_mx-slider_index_-tracker"),l=e["@{owner.node}"].find("._zs_gallery_mx-slider_index_-indicator"),_=e["@{owner.node}"].find("._zs_gallery_mx-slider_index_-pointer-label"),a=e["@{owner.node}"].find("._zs_gallery_mx-slider_index_-rail-input"),n=l.outerWidth()/2,d=e["@{vertical}"]?r.height():r.width();return{rail:r,pLabel:_,inputArea:a,tracker:i,indicator:l,rMax:d,max:d-2*n,half:n}},val:function(e,r){var i=this,l=+e;if(l||0===l){i["@{owner.node}"].prop("value",l);var _=i["@{max}"],a=i["@{min}"];l>_?l=_:l<a&&(l=a);var n=(l-a)/(_-a),d=i["@{get.ui.vars}"](),s=n*d.max;i["@{vertical}"]?d.indicator.css({bottom:s}):d.indicator.css({left:s}),e=i["@{get.fixed.value}"](n);var x=d.pLabel;x.html(e+(i["@{tip}"]?'<span class="_zs_gallery_mx-slider_index_-unit">'+i["@{tip}"]+"</span>":"")),d.inputArea&&d.inputArea.length&&d.inputArea.val(e);var t,m=s+d.half;if(i["@{vertical}"])m-(t=x.height()/2)<0?m=0:m+t>d.rMax?m=d.rMax-2*t:m-=t,x.css({bottom:m});else m<(t=x.width()/2)?m=0:m+t>d.rMax?m=d.rMax-2*t:m-=t,x.css({left:m});i["@{vertical}"]?d.tracker.height(s+d.half):d.tracker.width(s+d.half),r||(i["@{value}"]!=e&&i["@{fire.event}"](e),i["@{value}"]=e)}return+i["@{value}"]},"@{get.fixed.value}":function(e){var r,i=this["@{max}"],l=this["@{min}"],_=this["@{step}"];return 0===e?r=l:1===e?r=i:(r=l+(i-l)*e,r=Math.round(r/_)*_),r=r.toFixed(this["@{tail.length}"])},"@{fire.event}":function(e){this["@{owner.node}"].prop("value",+e).trigger({type:"change",value:+e})},"@{drag}<mousedown>":function(e){var r=this;if(!r["@{ui.disabled}"]){var i=_(e.eventTarget),l=i.outerWidth(),n=-1;n=r["@{vertical}"]?i.parent().height()-l:i.parent().width()-l;var d=parseInt(i.css(r["@{vertical}"]?"bottom":"left"),10),s=r["@{value}"];r["@{dragging}"]=1,r.dragdrop(e.eventTarget,function(i){a.clear();var l=-1;(l=r["@{vertical}"]?d+e.pageY-i.pageY:d+i.pageX-e.pageX)<0?l=0:l>n&&(l=n);var _=l/n;r.val(s=r["@{get.fixed.value}"](_),!0)},function(){r["@{value}"]!=s&&(r["@{value}"]=s,r["@{fire.event}"](s)),r["@{temp.hold.event}"]=!0,setTimeout(r.wrapAsync(function(){delete r["@{temp.hold.event}"]}),20),delete r["@{dragging}"]})}},"@{enter}<keyup>":function(e){var r=this;e.stopPropagation(),clearTimeout(r["@{enter.delay.timer}"]);var i=_.trim(e.eventTarget.value);r["@{enter.delay.timer}"]=setTimeout(r.wrapAsync(function(){_.isNumeric(i)&&r.val(i)}),400)},"@{out}<focusout>":function(e){e.stopPropagation();var r=_.trim(e.eventTarget.value);_.isNumeric(r)&&this.val(r)},"@{prevent}<contextmenu>":function(e){e.preventDefault()}})});