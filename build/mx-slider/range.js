define("mx-slider/range",["magix","$","../mx-dragdrop/index"],(e,r,i)=>{var l=e("magix"),_=e("$"),a=e("../mx-dragdrop/index");l.applyStyle("_zs_gallery_mx-slider_index_",'[mx-view*="mx-slider/index"],\n[mx-view*="mx-slider/range"] {\n  position: relative;\n  display: inline-block;\n  outline: 0;\n  cursor: pointer;\n}\n[mx-view*="mx-slider/index"] ._zs_gallery_mx-slider_index_-rail-input,\n[mx-view*="mx-slider/range"] ._zs_gallery_mx-slider_index_-rail-input {\n  position: absolute;\n  top: 0;\n  right: -74px;\n  width: 64px;\n}\n[mx-view*="mx-slider/index"][mx-view*="disabled=true"],\n[mx-view*="mx-slider/range"][mx-view*="disabled=true"],\n[mx-view*="mx-slider/index"][mx-disabled],\n[mx-view*="mx-slider/range"][mx-disabled] {\n  cursor: not-allowed;\n}\n[mx-view*="mx-slider/index"][mx-view*="disabled=true"] ._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-tracker,\n[mx-view*="mx-slider/range"][mx-view*="disabled=true"] ._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-tracker,\n[mx-view*="mx-slider/index"][mx-disabled] ._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-tracker,\n[mx-view*="mx-slider/range"][mx-disabled] ._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-tracker {\n  background-color: #ccc;\n}\n[mx-view*="mx-slider/index"][mx-view*="disabled=true"] ._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-indicator,\n[mx-view*="mx-slider/range"][mx-view*="disabled=true"] ._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-indicator,\n[mx-view*="mx-slider/index"][mx-disabled] ._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-indicator,\n[mx-view*="mx-slider/range"][mx-disabled] ._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-indicator {\n  background-color: #ccc;\n}\n[mx-view*="mx-slider/index"][mx-view*="disabled=true"] ._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-indicator:before,\n[mx-view*="mx-slider/range"][mx-view*="disabled=true"] ._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-indicator:before,\n[mx-view*="mx-slider/index"][mx-disabled] ._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-indicator:before,\n[mx-view*="mx-slider/range"][mx-disabled] ._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-indicator:before {\n  background-color: #ccc;\n}\n._zs_gallery_mx-slider_index_-rail-wrapper {\n  line-height: 28px;\n}\n._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail {\n  display: inline-block;\n  position: relative;\n  border-radius: 2px;\n  background: #f0f0f0;\n}\n._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-tracker {\n  position: absolute;\n  border-radius: 2px;\n  left: 0;\n  background-color: var(--color-brand-light);\n}\n._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-tracker._zs_gallery_mx-slider_index_-hor-tracker {\n  height: 4px;\n  top: 0;\n}\n._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-tracker._zs_gallery_mx-slider_index_-ver-tracker {\n  width: 4px;\n  bottom: 0;\n}\n._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-indicator {\n  position: absolute;\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  background-color: var(--color-brand);\n  outline: 0;\n}\n._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-indicator:before {\n  content: \' \';\n  position: absolute;\n  top: -4px;\n  left: -4px;\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n  background-color: var(--color-brand);\n  opacity: 0.3;\n}\n._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-indicator._zs_gallery_mx-slider_index_-hor-idctor {\n  top: -2px;\n}\n._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-indicator._zs_gallery_mx-slider_index_-ver-idctor {\n  left: -2px;\n}\n._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-pointer-label {\n  position: absolute;\n  font-size: var(--font-size);\n  pointer-events: none;\n  line-height: normal;\n}\n._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-pointer-label._zs_gallery_mx-slider_index_-hor-pl {\n  top: -23px;\n}\n._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-pointer-label._zs_gallery_mx-slider_index_-ver-pl {\n  right: 12px;\n}\n._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-scale-left,\n._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-scale-right,\n._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-ver-scale-top,\n._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-ver-scale-bottom {\n  position: absolute;\n  font-size: var(--font-size);\n  pointer-events: none;\n  line-height: normal;\n}\n._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-scale-left {\n  left: 0;\n  top: 9px;\n}\n._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-scale-right {\n  right: 0;\n  top: 9px;\n}\n._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-ver-scale-bottom {\n  bottom: 0;\n  left: 12px;\n}\n._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail ._zs_gallery_mx-slider_index_-ver-scale-top {\n  top: 0;\n  left: 12px;\n}\n._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail._zs_gallery_mx-slider_index_-hor {\n  height: 4px;\n  top: -2px;\n}\n._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-rail._zs_gallery_mx-slider_index_-ver {\n  width: 4px;\n  left: 8px;\n}\n._zs_gallery_mx-slider_index_-rail-wrapper ._zs_gallery_mx-slider_index_-unit {\n  margin-left: 3px;\n  color: #999;\n}\n');i.exports=l.View.extend({tmpl:function(e,r,i,l,_,a,n,s){if(i||(i=e),!_){var d={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},t=/[&<>"'`]/g,x=function(e){return"&"+d[e]+";"};_=function(e){return""+(null==e?"":e)},l=function(e){return _(e).replace(t,x)}}if(!a){var m={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},g=function(e){return m[e]},o=/[!')(*]/g;a=function(e){return encodeURIComponent(_(e)).replace(o,g)}}if(!s){var p=/[\\'"]/g;s=function(e){return _(e).replace(p,"\\$&")}}var c,y="",v=e.vertical,h=e.height,z=e.width,f=e.viewId,u=e.min,w=e.max;try{y+='<div mxa="_zs_galleryd*:_" class="_zs_gallery_mx-slider_index_-rail-wrapper"><span class="_zs_gallery_mx-slider_index_-rail',c="<%if (vertical) {%>",v?(y+=" _zs_gallery_mx-slider_index_-ver",c="<%}else {%>"):(y+=" _zs_gallery_mx-slider_index_-hor",c="<%}%>"),y+='" mx-contextmenu="'+r+'@{prevent}()" style="',c="<%if (vertical) {%>",v?(y+="height:"+(c="<%=height%>",l(h)),c="<%}else {%>"):(y+="width:"+(c="<%=width%>",l(z)),c="<%}%>"),y+='px"><span class="_zs_gallery_mx-slider_index_-tracker',c="<%if (vertical) {%>",v?(y+=" _zs_gallery_mx-slider_index_-ver-tracker",c="<%}else {%>"):(y+=" _zs_gallery_mx-slider_index_-hor-tracker",c="<%}%>"),y+='"></span><span tabindex="0" mx-keydown="'+r+'@{move.by.keyboard}({start:true})" class="_zs_gallery_mx-slider_index_-indicator',c="<%if (vertical) {%>",v?(y+=" _zs_gallery_mx-slider_index_-ver-idctor",c="<%}else {%>"):(y+=" _zs_gallery_mx-slider_index_-hor-idctor",c="<%}%>"),y+='" mx-mousedown="'+r+'@{drag}({start:true})" id="left_'+(c="<%=viewId%>",l(f))+'"></span><span class="_zs_gallery_mx-slider_index_-pointer-label',c="<%if (vertical) {%>",v?(y+=" _zs_gallery_mx-slider_index_-ver-pl",c="<%}else {%>"):(y+=" _zs_gallery_mx-slider_index_-hor-pl",c="<%}%>"),y+='" id="leftl_'+(c="<%=viewId%>",l(f))+'"></span><span tabindex="0" mx-keydown="'+r+'@{move.by.keyboard}()" class="_zs_gallery_mx-slider_index_-indicator',c="<%if (vertical) {%>",v?(y+=" _zs_gallery_mx-slider_index_-ver-idctor",c="<%}else {%>"):(y+=" _zs_gallery_mx-slider_index_-hor-idctor",c="<%}%>"),y+='" mx-mousedown="'+r+'@{drag}({end:true})" id="right_'+(c="<%=viewId%>",l(f))+'"></span><span class="_zs_gallery_mx-slider_index_-pointer-label',c="<%if (vertical) {%>",v?(y+=" _zs_gallery_mx-slider_index_-ver-pl",c="<%}else {%>"):(y+=" _zs_gallery_mx-slider_index_-hor-pl",c="<%}%>"),y+='" id="rightl_'+(c="<%=viewId%>",l(f))+'"></span><span class="',c="<%if (vertical) {%>",v?(y+="_zs_gallery_mx-slider_index_-ver-scale-bottom",c="<%}else {%>"):(y+="_zs_gallery_mx-slider_index_-scale-left",c="<%}%>"),y+='">'+(c="<%=min%>",l(u))+'</span><span class="',c="<%if (vertical) {%>",v?(y+="_zs_gallery_mx-slider_index_-ver-scale-top",c="<%}else {%>"):(y+="_zs_gallery_mx-slider_index_-scale-right",c="<%}%>"),y+='">'+(c="<%=max%>",l(w))+"</span></span></div>"}catch(e){var b="render view error:"+(e.message||e);throw b+="\r\n\texpr:",b+=c+"\r\n\tat file:mx-slider/range.html"}return y},mixins:[a],init:function(e){var r=this,i=_("#"+r.id);r.assign(e);var a=function(e){if(!r["@{temp.hold.event}"]&&!r["@{ui.disabled}"]){var _=i.offset(),a=r["@{get.ui.vars}"](),n=((r["@{vertical}"]?a.rMax-e.pageY+_.top:e.pageX-_.left)-a.half)/a.max,s=r["@{get.fixed.value}"](n),d=+r["@{start}"],t=+r["@{end}"];Math.abs(d-s)<Math.abs(t-s)?(r["@{sync.left}"](s),r["@{start}"]=s,r["@{fire.event}"](),l.node("left_"+r.id).focus()):(r["@{sync.right}"](s),r["@{end}"]=s,r["@{fire.event}"](),l.node("right_"+r.id).focus())}};i.on("click",a),r.on("destroy",function(){i.off("click",a)}),r["@{owner.node}"]=i},assign:function(e){var r=this;r["@{width}"]=+e.width||280,r["@{height}"]=+e.height||280,r["@{min}"]=+e.min||0,r["@{max}"]=+e.max||100,r["@{step}"]=+e.step||1,r["@{ui.disabled}"]=e.disabled+""=="true"||_("#"+r.id)[0].hasAttribute("mx-disabled"),r["@{vertical}"]=e.vertical+""=="true";var i=r["@{step}"]+"",l=i.indexOf(".");l=l>=0?i.slice(l+1).length:0,r["@{tail.length}"]=l;var a=e.value;return a?(a=(a+"").split(","),r["@{start}"]=+a[0]||0,r["@{end}"]=+a[1]||0):(r["@{start}"]=r["@{min}"],r["@{end}"]=(r["@{min}"]+r["@{max}"])/2),!0},render:function(){var e=this;e.updater.digest({min:e["@{min}"].toFixed(e["@{tail.length}"]),max:e["@{max}"].toFixed(e["@{tail.length}"]),viewId:e.id,height:e["@{height}"],width:e["@{width}"],vertical:e["@{vertical}"]}),e.val([e["@{start}"],e["@{end}"]])},"@{get.ui.vars}":function(){var e=this,r=e["@{owner.node}"].find("._zs_gallery_mx-slider_index_-rail"),i=e["@{owner.node}"].find("._zs_gallery_mx-slider_index_-tracker"),l=_("#left_"+e.id),a=_("#right_"+e.id),n=e["@{vertical}"]?r.height():r.width(),s=l.outerWidth()/2,d=n-2*s;return{rail:r,iLeftL:_("#leftl_"+e.id),iRightL:_("#rightl_"+e.id),tracker:i,iLeft:l,iRight:a,left:parseInt(l.css(e["@{vertical}"]?"bottom":"left"),10),right:parseInt(a.css(e["@{vertical}"]?"bottom":"left"),10),rMax:n,max:d,half:s}},"@{sync.left}":function(e){var r=this;e=+e;var i=r["@{max}"],l=r["@{min}"];e>i?e=i:e<l&&(e=l);var _=(e-l)/(i-l),a=r["@{get.ui.vars}"](),n=_*a.max;r["@{vertical}"]?a.iLeft.css({bottom:n}):a.iLeft.css({left:n}),e=r["@{get.fixed.value}"](_);var s=a.iLeftL;s.html(e);var d,t=n+a.half;r["@{vertical}"]?(t-(d=s.height()/2)<0?t=0:t+d>a.rMax?t=a.rMax-2*d:t-=d,s.css({bottom:t}),a.tracker.css({bottom:n+a.half}).height(a.right-n)):(t<(d=s.width()/2)?t=0:t+d>a.rMax?t=a.rMax-2*d:t-=d,s.css({left:t}),a.tracker.css({left:n+a.half}).width(a.right-n));return e},"@{sync.right}":function(e){var r=this;e=+e;var i=r["@{max}"],l=r["@{min}"];e>i?e=i:e<l&&(e=l);var _=(e-l)/(i-l),a=r["@{get.ui.vars}"](),n=_*a.max;r["@{vertical}"]?a.iRight.css({bottom:n}):a.iRight.css({left:n}),e=r["@{get.fixed.value}"](_);var s=a.iRightL;s.html(e);var d,t=n+a.half;r["@{vertical}"]?(t-(d=s.height()/2)<0?t=0:t+d>a.rMax?t=a.rMax-2*d:t-=d,s.css({bottom:t}),a.tracker.height(n-a.left)):(t<(d=s.width()/2)?t=0:t+d>a.rMax?t=a.rMax-2*d:t-=d,s.css({left:t}),a.tracker.width(n-a.left));return e},val:function(e){var r,i=this;if(e){var l=(e+"").split(","),_=+l[0]||0,a=+l[1]||0;_>a&&(_=(r=[a,_])[0],a=r[1]),i["@{owner.node}"].prop("value",[_,a]),_=i["@{sync.left}"](_),a=i["@{sync.right}"](a),i["@{start}"]==_&&i["@{end}"]==a||(i["@{start}"]=_,i["@{end}"]=a,i["@{fire.event}"]())}return[+i["@{start}"],+i["@{end}"]]},"@{get.fixed.value}":function(e){var r,i=this["@{max}"],l=this["@{min}"],_=this["@{step}"];return 0===e?r=l:1===e?r=i:(r=l+(i-l)*e,r=Math.round(r/_)*_),r=r.toFixed(this["@{tail.length}"])},"@{fire.event}":function(){var e=[+this["@{start}"],+this["@{end}"]];this["@{owner.node}"].prop("value",e).trigger({type:"change",value:e,start:+this["@{start}"],end:+this["@{end}"]})},"@{check.and.fire}":function(e,r){var i=this;e==i["@{start}"]&&r==i["@{end}"]||(i["@{start}"]=e,i["@{end}"]=r,i["@{fire.event}"]())},"@{drag}<mousedown>":function(e){var r=this;if(!r["@{ui.disabled}"]){var i=_(e.eventTarget),n=i.outerWidth(),s=-1;s=r["@{vertical}"]?i.parent().height()-n:i.parent().width()-n;var d=parseInt(i.css(r["@{vertical}"]?"bottom":"left"),10),t=r["@{start}"],x=r["@{end}"];r["@{dragging}"]=1,r.dragdrop(e.eventTarget,function(i){a.clear();var _=-1;(_=r["@{vertical}"]?d+e.pageY-i.pageY:d+i.pageX-e.pageX)<0?_=0:_>s&&(_=s);var n=_/s,m=r["@{get.fixed.value}"](n),g=+m;if(e.params.end){var o=+r["@{start}"];g>=o?(r["@{start}"]!=t&&(t=r["@{sync.left}"](o)),x=r["@{sync.right}"](m),l.node("right_"+r.id).focus()):(r["@{start}"]!=x&&(x=r["@{sync.right}"](o)),t=r["@{sync.left}"](m),l.node("left_"+r.id).focus())}else{var p=+r["@{end}"];g<=p?(r["@{end}"]!=x&&(x=r["@{sync.right}"](p)),t=r["@{sync.left}"](m),l.node("left_"+r.id).focus()):(r["@{end}"]!=t&&(t=r["@{sync.left}"](p)),x=r["@{sync.right}"](m),l.node("right_"+r.id).focus())}},function(){r["@{check.and.fire}"](t,x),r["@{temp.hold.event}"]=!0,setTimeout(r.wrapAsync(function(){delete r["@{temp.hold.event}"]}),20),delete r["@{dragging}"]})}},"@{move.by.keyboard}<keydown>":function(e){var r,i=this,_=i["@{step}"];if(!i["@{dragging}"]&&(37==e.keyCode||40==e.keyCode?(e.preventDefault(),_=-_,r=!0):39!=e.keyCode&&38!=e.keyCode||(e.preventDefault(),r=!0),r)){var a=i["@{start}"],n=+a,s=i["@{end}"],d=+s,t=e.params.start;t?n+=_:d+=_,n>d?(t?l.node("right_"+i.id).focus():l.node("left_"+i.id).focus(),d!=+a&&(a=i["@{sync.left}"](d)),n!=+s&&(s=i["@{sync.right}"](n))):t?a=i["@{sync.left}"](n):s=i["@{sync.right}"](d),i["@{check.and.fire}"](a,s)}},"@{prevent}<contextmenu>":function(e){e.preventDefault()}})});