define("mx-carousel/index",["magix","$"],(e,t,i)=>{var n=e("magix"),a=e("$");n.applyStyle("_zs_gallery_mx-carousel_index_","._zs_gallery_mx-carousel_index_-carousel {\n  position: relative;\n  width: 100%;\n  overflow: hidden;\n}\n._zs_gallery_mx-carousel_index_-carousel ._zs_gallery_mx-carousel_index_-inner {\n  position: relative;\n  z-index: 3;\n}\n._zs_gallery_mx-carousel_index_-dot-cnt {\n  display: inline-block;\n  vertical-align: top;\n}\n._zs_gallery_mx-carousel_index_-dot-cnt ._zs_gallery_mx-carousel_index_-dot {\n  cursor: pointer;\n  background-color: #fff;\n  opacity: 0.5;\n  display: block;\n  border-radius: 1px;\n  transition: all 0.5s;\n}\n._zs_gallery_mx-carousel_index_-dot-cnt ._zs_gallery_mx-carousel_index_-dot:hover {\n  opacity: 0.8;\n}\n._zs_gallery_mx-carousel_index_-dots {\n  position: absolute;\n  left: 0;\n  bottom: 12px;\n  z-index: 4;\n  height: 5px;\n  width: 100%;\n  text-align: center;\n}\n._zs_gallery_mx-carousel_index_-dots ._zs_gallery_mx-carousel_index_-dot-cnt {\n  padding: 0 2px;\n}\n._zs_gallery_mx-carousel_index_-dots ._zs_gallery_mx-carousel_index_-dot-cnt ._zs_gallery_mx-carousel_index_-dot {\n  width: 20px;\n  height: 5px;\n}\n._zs_gallery_mx-carousel_index_-dots ._zs_gallery_mx-carousel_index_-dot-cnt ._zs_gallery_mx-carousel_index_-dot._zs_gallery_mx-carousel_index_-active {\n  opacity: 1;\n  width: 28px;\n}\n._zs_gallery_mx-carousel_index_-v-dots {\n  position: absolute;\n  top: 50%;\n  right: 12px;\n  z-index: 4;\n  width: 5px;\n  transform: translateY(-50%);\n}\n._zs_gallery_mx-carousel_index_-v-dots ._zs_gallery_mx-carousel_index_-dot-cnt {\n  padding: 2px 0;\n}\n._zs_gallery_mx-carousel_index_-v-dots ._zs_gallery_mx-carousel_index_-dot-cnt ._zs_gallery_mx-carousel_index_-dot {\n  width: 5px;\n  height: 20px;\n}\n._zs_gallery_mx-carousel_index_-v-dots ._zs_gallery_mx-carousel_index_-dot-cnt ._zs_gallery_mx-carousel_index_-dot._zs_gallery_mx-carousel_index_-active {\n  opacity: 1;\n  height: 28px;\n}\n"),i.exports=n.View.extend({tmpl:function(e,t,i,n,a,s,r,l){if(i||(i=e),!a){var o={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},_=/[&<>"'`]/g,d=function(e){return"&"+o[e]+";"};a=function(e){return""+(null==e?"":e)},n=function(e){return a(e).replace(_,d)}}if(!s){var c={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},u=function(e){return c[e]},x=/[!')(*]/g;s=function(e){return encodeURIComponent(a(e)).replace(x,u)}}if(!l){var h=/[\\'"]/g;l=function(e){return a(e).replace(h,"\\$&")}}var g,p,m,v="",y=e.height,f=e.content,z=e.dots,w=e.vertical,b=e.len,k=e.dotClass;try{if(v+='<div class="_zs_gallery_mx-carousel_index_-carousel" style="height: ',m=1,p="=height",v+=(g="<%=height%>",n(y)+'px;"><div mxa="_zs_galleryad:_" class="_zs_gallery_mx-carousel_index_-inner" mx-mouseover="'+t+'@{stop}()" mx-mouseout="'+t+'@{start}()">'),m=5,p="!content",v+=(g="<%!content%>",a(f)+"</div>"),m=7,p="if dots",g="<%if (dots) {%>",z){v+='<ul class="',m=8,p="if vertical",g="<%if (vertical) {%>",w?(v+=" _zs_gallery_mx-carousel_index_-v-dots ",m=8,p="else",g="<%}    else {%>"):(v+=" _zs_gallery_mx-carousel_index_-dots ",m=8,p="/if",g="<%}%>"),v+=' clearfix" mx-mouseover="'+t+'@{stop}()" mx-mouseout="'+t+'@{start}()">',m=11,p="for (let i=0;i<len;i+=1)",g="<%for (var i = 0; i < len; i += 1) {%>";for(var T=0;T<b;T+=1)v+='<li mxa="_zs_galleryad:a" class="_zs_gallery_mx-carousel_index_-dot-cnt"><i class="_zs_gallery_mx-carousel_index_-dot ',m=12,p="=dotClass",v+=(g="<%=dotClass%>",n(k)+'" mx-click="'+t+"@{active}({idx:"),m=12,p="=i",v+=(g="<%=i%>",n(T)+'})"></i></li>'),m=13,p="/for",g="<%}%>";v+="</ul>",m=15,p="/if",g="<%}%>"}v+="</div>"}catch(e){var C="render view error:"+(e.message||e);throw p&&(C+="\r\n\tsrc art:{{"+p+"}}\r\n\tat line:"+m),C+="\r\n\t"+(p?"translate to:":"expr:"),C+=g+"\r\n\tat file:mx-carousel/index.html"}return v},init:function(e){var t=this,i=a("#"+t.id);t["@{owner.node}"]=i,t["@{extra.info}"]=e,t.updater.set({mode:e.mode||"carousel",width:e.width||a(i).width()||400,height:e.height||a(i).height()||200,active:e.active||0,interval:0|e.interval||3e3,autoplay:e.autoplay+""=="true",dots:e.dots+""!="false",vertical:e.vertical+""=="true",timing:e.timing||"ease-in-out",duration:e.duration||".5s",dotClass:e.dotClass||""}),e.prevTrigger&&a("#"+e.prevTrigger).on("click",function(){t["@{trigger}"](-1)}),e.nextTrigger&&a("#"+e.nextTrigger).on("click",function(){t["@{trigger}"](1)}),t.on("destroy",function(){t["@{stop.auto.play}"](),t["@{over.timer}"]&&clearTimeout(t["@{over.timer}"])})},render:function(){var e=this.updater.get(),t=this["@{owner.node}"],i=t.children();this.updater.digest({len:i.length,content:t.html()}),this["@{dots.node}"]=t.find("._zs_gallery_mx-carousel_index_-dot");var n=t.find("._zs_gallery_mx-carousel_index_-inner");this["@{panels.cnt}"]=n,this["@{panels.node}"]=n.find('[data-carousel="true"]'),this["@{update.stage.size}"](),this["@{to.panel}"](e.active,1),e.autoplay&&this["@{start.auto.play}"]()},"@{update.stage.size}":function(){this["@{owner.node}"];var e=this.updater.get(),t=e.width,i=e.height,n=e.mode,s=this["@{panels.node}"];switch(n){case"carousel":for(var r=0;r<s.length;r++){var l=a(s[r]);e.vertical?l.css({position:"absolute",top:i*r,left:0,width:t,height:i}):l.css({position:"absolute",top:0,left:t*r,width:t,height:i})}break;case"fade":for(r=0;r<s.length;r++){(l=a(s[r])).css({position:"absolute",opacity:0,top:0,left:0,width:t,height:i})}}e.vertical?this["@{panels.cnt}"].height(s.length*i).width(t):this["@{panels.cnt}"].width(s.length*t).height(i)},"@{to.panel}":function(e,t){var i=this.updater,n=i.get(),a=n.mode,s=n.duration,r=n.timing;switch(a){case"carousel":i.set({active:e});var l=n.width,o=n.height,_={transform:"translate3d("+(n.vertical?"0,-"+e*o+"px":"-"+e*l+"px,0")+",0)",transition:"transform "+s+" "+r};t&&delete _.transition,this["@{panels.cnt}"].css(_);break;case"fade":var d=this["@{panels.node}"];d.css({opacity:0});_={opacity:1,transition:"opacity "+s+" "+r};d.eq(e).css(_),i.set({active:e})}var c="_zs_gallery_mx-carousel_index_-active";this["@{dots.node}"].removeClass(c).eq(e).addClass(c)},"@{start.auto.play}":function(){var e=this,t=e.updater.get();if(t.autoplay){var i=t.active;e["@{play.task}"]=setInterval(function(){var t=++i;t>=e["@{panels.node}"].length&&(i=t=0),e["@{to.panel}"](t)},t.interval)}},"@{stop.auto.play}":function(){this["@{play.task}"]&&clearInterval(this["@{play.task}"])},"@{trigger}":function(e){var t=this.updater.get(),i=t.active,n=t.len;(i=+i+e)>=n&&(i=0),i<0&&(i=n-1),this["@{to.panel}"](i)},"@{active}<click>":function(e){this["@{to.panel}"](e.params.idx)},"@{start}<mouseout>":function(e){n.inside(e.relatedTarget,this.id)||(this["@{over.timer}"]=setTimeout(this.wrapAsync(this["@{start.auto.play}"],this),50))},"@{stop}<mouseover>":function(e){n.inside(e.relatedTarget,this.id)||(this["@{over.timer}"]&&clearTimeout(this["@{over.timer}"]),this["@{stop.auto.play}"]())},"$win<resize>":function(){var e=this.updater.get(),t=this["@{extra.info}"],i=this["@{owner.node}"];this.updater.set({width:t.width||a(i).width()||400}),this["@{update.stage.size}"](),this["@{to.panel}"](e.active,1)}})});