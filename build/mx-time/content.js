define("mx-time/content",["magix","$"],(e,a,n)=>{var r=e("magix"),l=e("$");r.applyStyle("_zs_gallery_mx-calendar_index_",':root {\n  --mx-calendar-item-gap: 2px;\n  --mx-calendar-item-size: calc(2 * var(--font-size));\n  --mx-calendar-width: calc((var(--mx-calendar-item-size) + var(--mx-calendar-item-gap) * 2) * 7 + 20px);\n  --mx-calendar-height: calc((var(--mx-calendar-item-size) + var(--mx-calendar-item-gap) * 2) * 8 + 20px);\n  --mx-calendar-ym-width: calc((var(--mx-calendar-width) - 60px) / 3);\n  --mx-calendar-ym-height: calc((var(--mx-calendar-height) - var(--mx-calendar-item-size) - var(--mx-calendar-item-gap) * 2 - 80px) / 4);\n  --mx-calendar-time-width: calc(var(--mx-calendar-item-size) * 2 + 6px);\n}\n._zs_gallery_mx-calendar_index_-wrapper {\n  position: relative;\n  z-index: 1000;\n  width: var(--mx-calendar-width);\n  padding: 0;\n  background-color: #fff;\n  border-radius: var(--border-radius);\n  overflow-y: hidden;\n  color: #333;\n  text-align: center;\n}\n._zs_gallery_mx-calendar_index_-wrapper ._zs_gallery_mx-calendar_index_-header {\n  width: var(--mx-calendar-width);\n  padding: 2px 4px;\n}\n._zs_gallery_mx-calendar_index_-wrapper ._zs_gallery_mx-calendar_index_-header ._zs_gallery_mx-calendar_index_-minus {\n  float: left;\n}\n._zs_gallery_mx-calendar_index_-wrapper ._zs_gallery_mx-calendar_index_-header ._zs_gallery_mx-calendar_index_-plus {\n  float: right;\n  transform: scaleX(-1);\n}\n._zs_gallery_mx-calendar_index_-wrapper ._zs_gallery_mx-calendar_index_-header ._zs_gallery_mx-calendar_index_-minus,\n._zs_gallery_mx-calendar_index_-wrapper ._zs_gallery_mx-calendar_index_-header ._zs_gallery_mx-calendar_index_-plus {\n  line-height: var(--mx-calendar-item-size);\n  font-size: var(--font-size);\n  color: #ccc;\n  cursor: pointer;\n}\n._zs_gallery_mx-calendar_index_-wrapper ._zs_gallery_mx-calendar_index_-header ._zs_gallery_mx-calendar_index_-minus:hover,\n._zs_gallery_mx-calendar_index_-wrapper ._zs_gallery_mx-calendar_index_-header ._zs_gallery_mx-calendar_index_-plus:hover {\n  color: var(--color-brand);\n}\n._zs_gallery_mx-calendar_index_-wrapper ._zs_gallery_mx-calendar_index_-header ._zs_gallery_mx-calendar_index_-title {\n  display: inline-block;\n  height: var(--mx-calendar-item-size);\n  line-height: var(--mx-calendar-item-size);\n  padding: 0 10px;\n  cursor: pointer;\n  border-radius: var(--border-radius);\n  color: #666;\n}\n._zs_gallery_mx-calendar_index_-wrapper ._zs_gallery_mx-calendar_index_-header ._zs_gallery_mx-calendar_index_-title:hover {\n  background-color: var(--color-bg-hover);\n}\n._zs_gallery_mx-calendar_index_-wrapper ._zs_gallery_mx-calendar_index_-body {\n  width: var(--mx-calendar-width);\n}\n._zs_gallery_mx-calendar_index_-wrapper ._zs_gallery_mx-calendar_index_-body ._zs_gallery_mx-calendar_index_-weeks {\n  background-color: var(--color-bg);\n  padding: 0 10px;\n  color: #666;\n}\n._zs_gallery_mx-calendar_index_-wrapper ._zs_gallery_mx-calendar_index_-body ._zs_gallery_mx-calendar_index_-days {\n  padding: 10px;\n}\n._zs_gallery_mx-calendar_index_-wrapper ._zs_gallery_mx-calendar_index_-body ._zs_gallery_mx-calendar_index_-week,\n._zs_gallery_mx-calendar_index_-wrapper ._zs_gallery_mx-calendar_index_-body ._zs_gallery_mx-calendar_index_-day {\n  float: left;\n  width: var(--mx-calendar-item-size);\n  height: var(--mx-calendar-item-size);\n  margin: var(--mx-calendar-item-gap);\n  line-height: var(--mx-calendar-item-size);\n  border-radius: 4px;\n  cursor: pointer;\n  color: #333;\n}\n._zs_gallery_mx-calendar_index_-wrapper ._zs_gallery_mx-calendar_index_-body ._zs_gallery_mx-calendar_index_-day:hover {\n  background-color: var(--color-bg-hover);\n}\n._zs_gallery_mx-calendar_index_-wrapper ._zs_gallery_mx-calendar_index_-body ._zs_gallery_mx-calendar_index_-gray {\n  color: #999;\n}\n._zs_gallery_mx-calendar_index_-wrapper ._zs_gallery_mx-calendar_index_-body ._zs_gallery_mx-calendar_index_-today,\n._zs_gallery_mx-calendar_index_-wrapper ._zs_gallery_mx-calendar_index_-body ._zs_gallery_mx-calendar_index_-today:hover {\n  background-color: var(--color-brand-opacity);\n}\n._zs_gallery_mx-calendar_index_-wrapper ._zs_gallery_mx-calendar_index_-body ._zs_gallery_mx-calendar_index_-notallowed,\n._zs_gallery_mx-calendar_index_-wrapper ._zs_gallery_mx-calendar_index_-body ._zs_gallery_mx-calendar_index_-notallowed:hover {\n  color: var(--color-disabled);\n  cursor: not-allowed;\n  background: #fff;\n}\n._zs_gallery_mx-calendar_index_-wrapper ._zs_gallery_mx-calendar_index_-body ._zs_gallery_mx-calendar_index_-selected,\n._zs_gallery_mx-calendar_index_-wrapper ._zs_gallery_mx-calendar_index_-body ._zs_gallery_mx-calendar_index_-selected:hover {\n  color: #fff;\n  background-color: var(--color-brand);\n}\n._zs_gallery_mx-calendar_index_-wrapper ._zs_gallery_mx-calendar_index_-time {\n  border-top: 1px solid var(--color-border);\n}\n._zs_gallery_mx-calendar_index_-y-panel,\n._zs_gallery_mx-calendar_index_-m-panel {\n  position: absolute;\n  top: -100%;\n  left: 0;\n  right: 0;\n  transition: top 0.15s;\n  background-color: #fff;\n}\n._zs_gallery_mx-calendar_index_-ym-show {\n  top: 0;\n}\n._zs_gallery_mx-calendar_index_-ym {\n  float: left;\n  width: var(--mx-calendar-ym-width);\n  height: var(--mx-calendar-ym-height);\n  margin: 10px;\n  line-height: var(--mx-calendar-ym-height);\n  border-radius: var(--border-radius);\n  font-size: calc(var(--font-size) + 2px);\n  cursor: pointer;\n}\n._zs_gallery_mx-calendar_index_-ym:hover {\n  background-color: var(--color-bg-hover);\n}\n[mx-view*="mx-time/content"] {\n  min-width: var(--mx-calendar-width);\n  padding: 10px;\n}\n[mx-view*="mx-time/content"] ._zs_gallery_mx-calendar_index_-groups {\n  display: flex;\n  justify-content: space-between;\n  position: relative;\n  z-index: 2;\n}\n[mx-view*="mx-time/content"] ._zs_gallery_mx-calendar_index_-group {\n  overflow: hidden;\n  flex: 0 0 var(--mx-calendar-time-width);\n}\n[mx-view*="mx-time/content"] ._zs_gallery_mx-calendar_index_-group ._zs_gallery_mx-calendar_index_-ipt {\n  width: 100%;\n  height: 40px;\n  font-size: 24px;\n  text-align: center;\n}\n[mx-view*="mx-time/content"] ._zs_gallery_mx-calendar_index_-group ._zs_gallery_mx-calendar_index_-ipb {\n  width: var(--mx-calendar-item-size);\n  height: var(--mx-calendar-item-size);\n  line-height: var(--mx-calendar-item-size);\n  font-size: var(--font-size);\n  text-align: center;\n  font-weight: bold;\n  background-color: var(--color-bg-hover);\n  border-radius: var(--border-radius);\n  cursor: pointer;\n  transition: all var(--duration);\n}\n[mx-view*="mx-time/content"] ._zs_gallery_mx-calendar_index_-group ._zs_gallery_mx-calendar_index_-ipb:hover {\n  background-color: #ccc;\n}\n[mx-view*="mx-time/content"] ._zs_gallery_mx-calendar_index_-group ._zs_gallery_mx-calendar_index_-time-disabled ._zs_gallery_mx-calendar_index_-ipb {\n  background-color: var(--color-disabled);\n  color: #ccc;\n}\n[mx-view*="mx-time/content"] ._zs_gallery_mx-calendar_index_-sps {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 1;\n  width: 100%;\n  height: 40px;\n}\n[mx-view*="mx-time/content"] ._zs_gallery_mx-calendar_index_-sps ._zs_gallery_mx-calendar_index_-sp {\n  float: left;\n  width: 50%;\n  font-size: 24px;\n  height: 40px;\n  line-height: 40px;\n  font-weight: bolder;\n  text-align: center;\n}\n[mx-view*="mx-time/content"] ._zs_gallery_mx-calendar_index_-sps ._zs_gallery_mx-calendar_index_-sp._zs_gallery_mx-calendar_index_-spa {\n  padding-left: calc(var(--mx-calendar-time-width) / 2);\n}\n[mx-view*="mx-time/content"] ._zs_gallery_mx-calendar_index_-sps ._zs_gallery_mx-calendar_index_-sp._zs_gallery_mx-calendar_index_-spb {\n  padding-right: calc(var(--mx-calendar-time-width) / 2);\n}\n');var _=function(e){if(!e){var a=new Date;e=a.getHours()+":"+a.getMinutes()+":"+a.getSeconds()}var n=e.split(":");if(3!=n.length)throw new Error("bad time:"+e);return{"@{hour}":parseInt(n[0],10)||0,"@{minute}":parseInt(n[1],10)||0,"@{second}":parseInt(n[2],10)||0}},i=function(e){return e<10?"0"+e:e};n.exports=r.View.extend({tmpl:function(e,a,n,r,l,_,i,t){if(n||(n=e),!l){var d={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},s=/[&<>"'`]/g,c=function(e){return"&"+d[e]+";"};l=function(e){return""+(null==e?"":e)},r=function(e){return l(e).replace(s,c)}}if(!_){var x={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},m=function(e){return x[e]},o=/[!')(*]/g;_=function(e){return encodeURIComponent(l(e)).replace(o,m)}}if(!t){var p=/[\\'"]/g;t=function(e){return l(e).replace(p,"\\$&")}}var g,y,u,h="",f=e.format,v=e.time,z=e.types;try{h+='<div mxv mxa="_zs_gallerye]:_" class="clearfix pr"><div mxs="_zs_gallerye]:_" class="clearfix _zs_gallery_mx-calendar_index_-sps"><div class="_zs_gallery_mx-calendar_index_-sp _zs_gallery_mx-calendar_index_-spa">:</div><div class="_zs_gallery_mx-calendar_index_-sp _zs_gallery_mx-calendar_index_-spb">:</div></div><div mxv mxa="_zs_gallerye]:a" class="_zs_gallery_mx-calendar_index_-groups"><div mxv mxa="_zs_gallerye]:b" class="_zs_gallery_mx-calendar_index_-group"><div mxv mxa="_zs_gallerye]:c" class="mb5"><input class="input _zs_gallery_mx-calendar_index_-ipt" maxlength="2" autocomplete="off" value="',u=12,y="=format(time['@{hour}'])",h+=(g="<%=format(time['@{hour}'])%>",r(f(v["@{hour}"]))+'" '),u=13,y="if types['@{hour}']",g="<%if (types['@{hour}']) {%>",z["@{hour}"]?(h+=' mx-change="'+a+"@{set}({type:'@{hour}'})\" ",u=13,y="else",g="<%}else {%>"):(h+=' disabled="disabled" ',u=13,y="/if",g="<%}%>"),h+=' mx-keydown="'+a+"@{press.check}({type:'@{hour}'})\"/></div><div class=\"clearfix ",u=16,y="if !types['@{hour}']",g="<%if (!types['@{hour}']) {%>",z["@{hour}"]||(h+=" _zs_gallery_mx-calendar_index_-time-disabled ",u=16,y="/if",g="<%}%>"),h+='"><i class="mc-iconfont _zs_gallery_mx-calendar_index_-ipb fl" ',u=18,y="if types['@{hour}']",g="<%if (types['@{hour}']) {%>",z["@{hour}"]&&(h+=' mx-click="'+a+"@{change}({type:'@{hour}'})\" mx-mousedown=\""+a+"@{fast.start}({type:'@{hour}'})\" ",u=18,y="/if",g="<%}%>"),h+='>&#xeb79;</i><i class="mc-iconfont _zs_gallery_mx-calendar_index_-ipb fr" ',u=21,y="if types['@{hour}']",g="<%if (types['@{hour}']) {%>",z["@{hour}"]&&(h+=' mx-click="'+a+"@{change}({type:'@{hour}',inc:1})\" mx-mousedown=\""+a+"@{fast.start}({type:'@{hour}',inc:1})\" ",u=21,y="/if",g="<%}%>"),h+='>&#xeb78;</i></div></div><div mxv mxa="_zs_gallerye]:d" class="_zs_gallery_mx-calendar_index_-group"><div mxv mxa="_zs_gallerye]:e" class="mb5"><input class="input _zs_gallery_mx-calendar_index_-ipt" maxlength="2" autocomplete="off" value="',u=29,y="=format(time['@{minute}'])",h+=(g="<%=format(time['@{minute}'])%>",r(f(v["@{minute}"]))+'" '),u=30,y="if types['@{minute}']",g="<%if (types['@{minute}']) {%>",z["@{minute}"]?(h+=' mx-change="'+a+"@{set}({type:'@{minute}'})\" ",u=30,y="else",g="<%}else {%>"):(h+=' disabled="disabled" ',u=30,y="/if",g="<%}%>"),h+=' mx-keydown="'+a+"@{press.check}({type:'@{minute}'})\"/></div><div class=\"clearfix ",u=33,y="if !types['@{minute}']",g="<%if (!types['@{minute}']) {%>",z["@{minute}"]||(h+=" _zs_gallery_mx-calendar_index_-time-disabled ",u=33,y="/if",g="<%}%>"),h+='"><i class="mc-iconfont _zs_gallery_mx-calendar_index_-ipb fl" ',u=35,y="if types['@{minute}']",g="<%if (types['@{minute}']) {%>",z["@{minute}"]&&(h+=' mx-click="'+a+"@{change}({type:'@{minute}'})\" mx-mousedown=\""+a+"@{fast.start}({type:'@{minute}'})\" ",u=35,y="/if",g="<%}%>"),h+='>&#xeb79;</i><i class="mc-iconfont _zs_gallery_mx-calendar_index_-ipb fr" ',u=38,y="if types['@{minute}']",g="<%if (types['@{minute}']) {%>",z["@{minute}"]&&(h+=' mx-click="'+a+"@{change}({type:'@{minute}',inc:1})\" mx-mousedown=\""+a+"@{fast.start}({type:'@{minute}',inc:1})\" ",u=38,y="/if",g="<%}%>"),h+='>&#xeb78;</i></div></div><div mxv mxa="_zs_gallerye]:f" class="_zs_gallery_mx-calendar_index_-group"><div mxv mxa="_zs_gallerye]:g" class="mb5"><input class="input _zs_gallery_mx-calendar_index_-ipt" maxlength="2" autocomplete="off" value="',u=46,y="=format(time['@{second}'])",h+=(g="<%=format(time['@{second}'])%>",r(f(v["@{second}"]))+'" '),u=47,y="if types['@{second}']",g="<%if (types['@{second}']) {%>",z["@{second}"]?(h+=' mx-change="'+a+"@{set}({type:'@{second}'})\" ",u=47,y="else",g="<%}else {%>"):(h+=' disabled="disabled" ',u=47,y="/if",g="<%}%>"),h+=' mx-keydown="'+a+"@{press.check}({type:'@{second}'})\"/></div><div class=\"clearfix ",u=50,y="if !types['@{second}']",g="<%if (!types['@{second}']) {%>",z["@{second}"]||(h+=" _zs_gallery_mx-calendar_index_-time-disabled ",u=50,y="/if",g="<%}%>"),h+='"><i class="mc-iconfont _zs_gallery_mx-calendar_index_-ipb fl" ',u=52,y="if types['@{second}']",g="<%if (types['@{second}']) {%>",z["@{second}"]&&(h+=' mx-click="'+a+"@{change}({type:'@{second}'})\" mx-mousedown=\""+a+"@{fast.start}({type:'@{second}'})\" ",u=52,y="/if",g="<%}%>"),h+='>&#xeb79;</i><i class="mc-iconfont _zs_gallery_mx-calendar_index_-ipb fr" ',u=55,y="if types['@{second}']",g="<%if (types['@{second}']) {%>",z["@{second}"]&&(h+=' mx-click="'+a+"@{change}({type:'@{second}',inc:1})\" mx-mousedown=\""+a+"@{fast.start}({type:'@{second}',inc:1})\" ",u=55,y="/if",g="<%}%>"),h+=">&#xeb78;</i></div></div></div></div>"}catch(e){var w="render view error:"+(e.message||e);throw y&&(w+="\r\n\tsrc art:{{"+y+"}}\r\n\tat line:"+u),w+="\r\n\t"+(y?"translate to:":"expr:"),w+=g+"\r\n\tat file:mx-time/content.html"}return h},init:function(e){this.updater.snapshot(),this.assign(e)},assign:function(e){var a=this.updater.altered(),n=_(e.time),r=function(e){e||(e="all");var a={"@{hour}":!0,"@{minute}":!0,"@{second}":!0},n={hour:"@{hour}",minute:"@{minute}",second:"@{second}"};if("all"!=e)for(var r in n)-1===e.indexOf(r)&&delete a[n[r]];return a}(e.types);return this.updater.set({format:i,time:n,types:r}),a||(a=this.updater.altered()),!!a&&(this.updater.snapshot(),!0)},render:function(){this.updater.digest()},val:function(e){var a=this.updater;e&&a.digest({time:_(e)});var n=a.get("time");return i(n["@{hour}"])+":"+i(n["@{minute}"])+":"+i(n["@{second}"])},"@{change.time.by.type}":function(e,a){var n=this.updater.get("time"),r="@{hour}"==e?23:59;a?n[e]++:n[e]--,n[e]>r?n[e]=0:n[e]<0&&(n[e]=r),this.updater.digest({time:n})},"@{fire.event}":function(){var e=l("#"+this.id),a=this.updater.get("time");e.trigger({type:"change",time:i(a["@{hour}"])+":"+i(a["@{minute}"])+":"+i(a["@{second}"])})},"@{change}<click>":function(e){if(!this["@{fast.change.start}"]){var a=e.params;this["@{change.time.by.type}"](a.type,a.inc),this["@{fire.event}"]()}},"@{set}<change>":function(e){e.stopPropagation();var a=e.params.type,n="@{hour}"==a?23:59,r=e.eventTarget,l=r.value,_=parseInt(l,10),t=this.updater.get("time");_||0===_?(_<0?_=0:_>n&&(_=n),_!==t[a]?(t[a]=_,this.updater.digest({time:t}),this["@{fire.event}"]()):r.value=i(_)):r.value=i(t[a])},"@{fast.start}<mousedown>":function(e){var a=this,n=e.params;a["@{long.tap.timer}"]=setTimeout(a.wrapAsync(function(){a["@{interval.timer}"]=setInterval(a.wrapAsync(function(){a["@{fast.change.start}"]=!0,a["@{change.time.by.type}"](n.type,n.inc)}),50)}),250)},"@{press.check}<keydown>":function(e){if(38==e.keyCode||40==e.keyCode){e.preventDefault();var a=this;a["@{change.time.by.type}"](e.params.type,38==e.keyCode),clearTimeout(a["@{event.dealy.timer}"]),a["@{event.dealy.timer}"]=setTimeout(a.wrapAsync(function(){a["@{fire.event}"]()}),100)}},"$doc<mouseup>":function(){var e=this;clearTimeout(e["@{long.tap.timer}"]),clearInterval(e["@{interval.timer}"]),setTimeout(e.wrapAsync(function(){e["@{fast.change.start}"]&&e["@{fire.event}"](),delete e["@{fast.change.start}"]}),0)}})});