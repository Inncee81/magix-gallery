define("mx-time/index",["magix","$","../mx-util/monitor","./content"],(e,t,i)=>{e("./content");var n=e("magix"),r=e("$"),a=e("../mx-util/monitor"),s=function(e){return e<10?"0"+e:e};i.exports=n.View.extend({tmpl:function(e,t,i,n,r,a,s,d){if(i||(i=e),!r){var o={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},m=/[&<>"'`]/g,c=function(e){return"&"+o[e]+";"};r=function(e){return""+(null==e?"":e)},n=function(e){return r(e).replace(m,c)}}if(!a){var u={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},l=function(e){return u[e]},p=/[!')(*]/g;a=function(e){return encodeURIComponent(r(e)).replace(p,l)}}if(!d){var f=/[\\'"]/g;d=function(e){return r(e).replace(f,"\\$&")}}var x,g,v,h="",w=e.expand,b=e.disabled,y=e.name,_=e.time,k=e.rList,I=e.viewId,L=e.types;try{h+='<div class="mx-trigger ',v=1,g="if expand",x="<%if (expand) {%>",w&&(h+=" mx-trigger ",v=1,g="/if",x="<%}%>"),h+='" ',v=2,g="if !disabled",x="<%if (!disabled) {%>",b||(h+=' mx-click="'+t+'@{show}()" ',v=2,g="/if",x="<%}%>"),h+='><span mxa="_zs_gallerye|:_" class="mx-trigger-label">',v=4,g="if name",x="<%if (name) {%>",y&&(h+='<span mxa="_zs_gallerye|:a" class="color-9">',v=4,g="=name",h+=(x="<%=name%>",n(y)+"：</span>"),v=4,g="/if",x="<%}%>"),h+=" ",v=5,g="=time",h+=(x="<%=time%>",n(_)+'</span><span mxs="_zs_gallerye|:_" class="mc-iconfont mx-trigger-arrow">&#xe692;</span></div><div class="mx-output mx-output-bottom '),v=10,g="if expand",x="<%if (expand) {%>",w&&(h+=" mx-output-open ",v=10,g="/if",x="<%}%>"),h+='">',v=11,g="if rList",x="<%if (rList) {%>",k&&(h+='<div mx-view="mx-time/content?time=',v=14,g="=time",h+=(x="<%!$eu(time)%>",a(_)+"&types="),v=15,g="=types",h+=(x="<%!$eu(types)%>",a(L)+'" id="'),v=13,g="=viewId",h+=(x="<%=viewId%>",n(I)+'_content" mx-change="'+t+'@{stop}()"></div><div mxs="_zs_gallerye|:a" class="mx-output-footer clearfix"><a href="javascript:;" class="fl btn btn-small btn-brand" mx-click="'+t+'@{hide}({enter:true})">确定</a><a href="javascript:;" class="fl btn btn-small ml10" mx-click="'+t+'@{hide}()">取消</a></div>'),v=21,g="/if",x="<%}%>"),h+="</div>"}catch(e){var $="render view error:"+(e.message||e);throw g&&($+="\r\n\tsrc art:{{"+g+"}}\r\n\tat line:"+v),$+="\r\n\t"+(g?"translate to:":"expr:"),$+=x+"\r\n\tat file:mx-time/index.html"}return h},init:function(e){var t=this;t["@{owner.node}"]=r("#"+t.id);var i=e.disabled+""=="true"||r("#"+t.id)[0].hasAttribute("mx-disabled");a["@{setup}"](),t.on("destroy",function(){a["@{remove}"](t),a["@{teardown}"]()});var n=e.time;if(!n){var d=new Date;n=s(d.getHours())+":"+s(d.getMinutes())+":"+s(d.getSeconds())}t.updater.set({viewId:t.id,disabled:i,time:n,types:e.types,expand:!1}),t["@{owner.node}"].val(n)},render:function(){this.updater.digest({})},"@{hide}":function(){this.updater.get("expand")&&(this.updater.digest({expand:!1}),a["@{remove}"](this))},"@{show}<click>":function(e){if(!this.updater.get("expand")){var t={expand:!0};this.updater.get("rList")||(t.rList=!0),this.updater.digest(t),a["@{add}"](this)}},"@{inside}":function(e){return n.inside(e,this.id)},"@{hide}<click>":function(e){var t=this,i=t.updater.get("time"),r=i;e.params.enter&&(r=n.Vframe.get(t.id+"_content").invoke("val"));t["@{hide}"](),e.params.enter&&i!=r&&(t.updater.digest({time:r}),t["@{owner.node}"].val(r).trigger({type:"change",time:r}))},"@{stop}<change,focusin,focusout>":function(e){e.stopPropagation()}})});