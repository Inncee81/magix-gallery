define("mx-effects/progress",["magix","$","mx-util/color"],(e,l,r)=>{var a=e("magix"),t=e("$"),s=e("mx-util/color");a.applyStyle("_zs_galleryO",'[mx-view*="mx-effects/progress"]{display:inline-block}._zs_galleryeY,._zs_galleryeZ{position:relative;background:#f0f0f0}._zs_galleryeY ._zs_galleryf_,._zs_galleryeZ ._zs_galleryf_{position:absolute;top:0;left:0;width:0;height:100%;transition:width var(--duration)}._zs_galleryeY ._zs_galleryfa,._zs_galleryeZ ._zs_galleryfa{position:absolute;width:60px;height:24px;line-height:24px;font-family:Tahoma;color:#999;transition:all var(--duration)}._zs_galleryeY ._zs_galleryfb,._zs_galleryeZ ._zs_galleryfb{top:-9px;left:100%;padding-left:10px;text-align:left}._zs_galleryeY ._zs_galleryfc,._zs_galleryeZ ._zs_galleryfc{top:-9px;left:-60px;padding-right:10px;text-align:right}._zs_galleryeY ._zs_galleryfd,._zs_galleryeZ ._zs_galleryfd{top:-24px;margin-left:-30px;text-align:center}._zs_galleryeY ._zs_galleryfe,._zs_galleryeZ ._zs_galleryfe{bottom:-24px;margin-left:-30px;text-align:center}._zs_galleryeZ{height:6px}._zs_galleryeZ,._zs_galleryeZ ._zs_galleryf_{border-radius:3px}._zs_galleryeZ ._zs_galleryf_{background:var(--color-brand)}._zs_galleryeZ._zs_galleryff ._zs_galleryf_{border-top-left-radius:3px;border-bottom-left-radius:3px;border-top-right-radius:0;border-bottom-right-radius:0}._zs_galleryeY{height:12px;border-radius:6px}._zs_galleryeY ._zs_galleryf_{border-radius:6px;background:var(--color-brand);background-size:24px 12px}._zs_galleryfg{position:relative}._zs_galleryfg ._zs_galleryfh{display:inline-block;width:4px;height:14px;margin-right:3px;border-radius:2px}._zs_galleryfg ._zs_galleryfh:last-child{margin-right:0}._zs_galleryfg ._zs_galleryfi ._zs_galleryfh{background-color:#f0f0f0}._zs_galleryfg ._zs_galleryfj{position:absolute;top:0;left:0}._zs_galleryfg ._zs_galleryfj ._zs_galleryfh{background-color:var(--color-brand)}._zs_galleryfk{position:relative}._zs_galleryfk ._zs_galleryfm,._zs_galleryfk ._zs_galleryfn{position:absolute;top:0;left:50%}._zs_galleryfk ._zs_galleryfn{z-index:4;text-align:center;font-family:Tahoma;font-size:14px;color:#666}._zs_galleryfk ._zs_galleryfm{z-index:2;border-radius:50%}._zs_galleryfk ._zs_galleryfo{position:relative;z-index:3}._zs_galleryfk ._zs_galleryfo ._zs_galleryfp{border-radius:50%;position:absolute;top:0;-webkit-transform:rotate(-135deg);transform:rotate(-135deg);text-indent:1px}._zs_galleryfk ._zs_galleryfo ._zs_galleryfq{position:absolute;top:0;overflow:hidden}._zs_galleryfk ._zs_galleryfo ._zs_galleryfq._zs_galleryfs{left:0}._zs_galleryfk ._zs_galleryfo ._zs_galleryfq._zs_galleryft{right:0}');var i={left:"_zs_galleryfc",right:"_zs_galleryfb",top:"_zs_galleryfd",bottom:"_zs_galleryfe"};r.exports=a.View.extend({tmpl:function(e,l,r,a,t,s,i,_){if(r||(r=e),!t){var o={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},g=/[&<>"'`]/g,d=function(e){return"&"+o[e]+";"};t=function(e){return""+(null==e?"":e)},a=function(e){return t(e).replace(g,d)}}if(!s){var n={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},f=function(e){return n[e]},y=/[!')(*]/g;s=function(e){return encodeURIComponent(t(e)).replace(y,f)}}if(!_){var p=/[\\'"]/g;_=function(e){return t(e).replace(p,"\\$&")}}var z="",c=e.type,x=e.width,h=e.border,u=e.viewId,b=e.color,v=e.text,m=e.num,k=e.vs,w=e.colorVs,Z=e.numRemain,Y=e.colorGradient,I=e.cName,V=e.placement,q=e.color1,M=e.color2,N=e.degree;if("circle"==c&&(z+='<div mxa="_zs_galleryb#:_" class="_zs_galleryfk"><div class="_zs_galleryfm" style="width: '+a(x)+"px; height: "+a(x)+"px; margin-left: "+a(0-x/2)+"px; border: "+a(h)+'px solid #f0f0f0;"></div><div id="'+a(u)+'_circle" class="_zs_galleryfo" style="width: '+a(x+2*h)+"px; height: "+a(x+2*h)+'px;"><div class="_zs_galleryfq _zs_galleryfs" style="width: '+a(x/2+h)+"px; height: "+a(x+2*h)+'px;"><div class="_zs_galleryfp" style="left: '+a(h)+"px; width: "+a(x)+"px; height: "+a(x)+"px; border: "+a(h)+"px solid transparent; border-bottom: "+a(h)+"px solid "+a(b)+"; border-left: "+a(h)+"px solid "+a(b)+';"></div></div><div class="_zs_galleryfq _zs_galleryft" style="width: '+a(x/2+h)+"px; height: "+a(x+2*h)+'px;"><div class="_zs_galleryfp" style="right: '+a(h)+"px; width: "+a(x)+"px; height: "+a(x)+"px; border: "+a(h)+"px solid transparent; border-top: "+a(h)+"px solid "+a(b)+"; border-right: "+a(h)+"px solid "+a(b)+';"></div></div></div>',v&&(z+='<div class="_zs_galleryfn" style="width: '+a(x)+"px; height: "+a(x)+"px; margin-left: "+a(0-x/2)+"px; line-height: "+a(x)+'px;">'+a(m)+"</div>"),z+="</div>"),z+=" ","line"==c&&(z+=" ",k?(z+='<div class="_zs_galleryeZ _zs_galleryff" style="width: '+a(x)+"px; ",w&&(z+=" background: "+a(w)+"; "),z+='"><div class="_zs_galleryf_" style="width: '+a(m)+"; background: "+a(b)+';"></div><div mxa="_zs_galleryb#:a" class="_zs_galleryfa _zs_galleryfc">'+a(m)+'</div><div mxa="_zs_galleryb#:b" class="_zs_galleryfa _zs_galleryfb">'+a(Z)+"</div></div>"):(z+='<div class="_zs_galleryeZ" style="width: '+a(x)+'px;"><div class="_zs_galleryf_" style="width: '+a(m)+"; ",z+=Y?" background: linear-gradient(to right, "+a(b)+", "+a(Y)+"); ":" background: "+a(b)+"; ",z+='"></div>',v&&(z+='<div class="_zs_galleryfa '+a(I)+'" ',"top"!=V&&"bottom"!=V||(z+=' style="left: '+a(m)+';" '),z+=">"+a(m)+"</div>"),z+="</div>"),z+=" "),z+=" ","gradient"==c&&(z+='<div class="_zs_galleryeY" style="width: '+a(x)+'px;"><div class="_zs_galleryf_" style="width: '+a(m)+"; background: linear-gradient(45deg, "+a(q)+" 33%, "+a(M)+" 34%, "+a(M)+" 59%, "+a(q)+' 60%); background-size: 24px 12px;"></div>',v&&(z+='<div class="_zs_galleryfa '+a(I)+'" ',"top"!=V&&"bottom"!=V||(z+=' style="left: '+a(m)+';" '),z+=">"+a(m)+"</div>"),z+="</div>"),z+=" ","degree"==c){z+='<div mxa="_zs_galleryb#:c" class="_zs_galleryfg"><div mxa="_zs_galleryb#:d" class="_zs_galleryfi">';for(var R=0;R<10;R+=1)z+='<span mxs="_zs_galleryb#:_" class="_zs_galleryfh"></span>';z+='</div><div mxa="_zs_galleryb#:e" class="_zs_galleryfj">';for(R=0;R<N;R+=1)z+='<span class="_zs_galleryfh" style="opacity: '+a(R/10+.08)+"; ",b&&(z+=" background-color: "+a(b)+"; "),z+='"></span>';z+="</div></div>"}return z},init:function(e){this.updater.snapshot(),this.assign(e)},assign:function(e){var l=this.updater.altered(),r=+e.num||0,a=r+"",t=a.indexOf(".");(t=t>=0?a.slice(t+1).length:0)>2&&(t=2),r<0&&(r=0),r>100&&(r=100);var _,o,g,d=e.type||"line",n=e.textPlacement||"top",f=0,y=e.border||8,p=e.color||"",z=e.colorGradient||"",c=e.colorVs||"",x=getComputedStyle(document.documentElement),h=document.body.style.getPropertyValue("--color-brand").trim()||x.getPropertyValue("--color-brand").trim();switch(d){case"degree":f=parseInt(r/10);break;case"circle":p||(p=h),_=e.width||120;break;case"gradient":if(p=p||h){var u=s.toRgb(p);o="rgba("+u.r+", "+u.g+", "+u.b+", 0.4)",g="rgba("+u.r+", "+u.g+", "+u.b+", 0.2)"}case"line":_=e.width||200}return this.updater.set({viewId:this.id,placement:n,originNum:r,num:r.toFixed(t)+"%",numRemain:(100-r).toFixed(t)+"%",cName:i[n],color:p,colorGradient:z,colorVs:c,color1:o,color2:g,type:d,text:e.text+""!="false",vs:e.vs+""=="true",degree:f,width:+_,border:+y,gradient:"gradient"==d}),l||(l=this.updater.altered()),!!l&&(this.updater.snapshot(),!0)},render:function(){this.updater.digest();var e=this.updater.get("type"),l=this.updater.get("originNum");if("circle"==e){var r,a,s=t("#"+this.id+"_circle"),i=s.find("._zs_galleryft ._zs_galleryfp"),_=s.find("._zs_galleryfs ._zs_galleryfp"),o=Math.ceil(360*l/100);o>180?a=o-(r=180):(r=o,a=0);var g=Math.ceil(1e3*l/100),d=Math.floor(g*r/o),n=Math.floor(g*a/o);i.animate({textIndent:0},{step:function(e,l){var a=(1-e)*r-135;t(this).css({"-webkit-transform":"rotate("+a+"deg)",transform:"rotate("+a+"deg)"})},duration:d,done:function(){a>0&&_.animate({textIndent:0},{step:function(e,l){var r=(1-e)*a-135;t(this).css({"-webkit-transform":"rotate("+r+"deg)",transform:"rotate("+r+"deg)"})},duration:n},"linear")}},"linear")}}})});