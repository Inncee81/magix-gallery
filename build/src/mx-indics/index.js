define("mx-indics/index",["magix","$","mx-dialog/index"],(e,i,l)=>{var t=e("magix"),a=e("$"),r=e("mx-dialog/index");t.applyStyle("_zs_galleryaa",'._zs_galleryhZ{box-shadow:0 1px 1px 0 rgba(0,0,0,.08);border:1px solid #f5f5f6}[mx-view*="mx-indics/index"]{display:inline-block;vertical-align:middle}._zs_galleryi_{position:relative;height:100%}._zs_galleryi_ ._zs_galleryia{width:100%;height:60px;padding:0 24px;background-color:#fff;line-height:60px;border-bottom:1px solid #e6e6e6}._zs_galleryi_ ._zs_galleryic{position:absolute;top:60px;left:0;bottom:0;right:0;overflow-y:auto}._zs_galleryi_ ._zs_galleryic ._zs_galleryid{position:relative;padding:16px 24px}._zs_galleryi_ ._zs_galleryic ._zs_galleryid:nth-of-type(2n){background-color:#fafafa}._zs_galleryi_ ._zs_galleryic ._zs_galleryie{position:absolute;top:16px;left:24px;width:96px;padding:8px 0;color:#999}._zs_galleryi_ ._zs_galleryic ._zs_galleryif{float:left;padding:8px 0}._zs_galleryi_ ._zs_galleryic ._zs_galleryif ._zs_galleryig{position:relative;top:1px;left:1px;font-size:14px;color:#ccc}._zs_galleryi_._zs_galleryih ._zs_galleryid{padding-left:128px}._zs_galleryi_._zs_galleryii{padding-right:240px}._zs_galleryi_._zs_galleryii ._zs_galleryic{right:240px;border-right:1px solid #e6e6e6}._zs_galleryi_._zs_galleryii ._zs_galleryij{position:absolute;top:0;right:0;width:240px;height:98px}._zs_galleryi_._zs_galleryii ._zs_galleryij ._zs_galleryik{height:60px;line-height:60px;font-size:16px;padding-left:24px;border-bottom:1px solid #e6e6e6}._zs_galleryi_._zs_galleryii ._zs_galleryij ._zs_galleryil{height:38px;padding:0 24px;line-height:38px;text-align:right;background-color:#fafafa}._zs_galleryi_._zs_galleryii ._zs_galleryim{position:absolute;top:98px;right:0;bottom:0;width:240px;padding:0 24px 16px;overflow-y:scroll;background-color:#fafafa}._zs_galleryi_._zs_galleryii ._zs_galleryim ._zs_galleryin{height:30px;margin-bottom:5px;padding:0 15px;line-height:28px;background:#fff;border:1px solid #e6e6e6;border-radius:4px;cursor:move}._zs_galleryi_._zs_galleryii ._zs_galleryim ._zs_galleryin:last-child{margin-bottom:0}._zs_galleryio{position:relative;color:#333}._zs_galleryio:hover{color:#333;border-color:#ccc}._zs_galleryio:focus{border-color:#ccc}._zs_galleryip{margin-right:10px}._zs_galleryip ._zs_galleryiq{position:relative;top:2px}._zs_galleryir{padding-right:20px}._zs_galleryir ._zs_galleryis{position:absolute;top:0;right:0;width:20px;height:32px;line-height:32px;text-align:center;font-size:18px}'),l.exports=t.View.extend({tmpl:function(e,i,l,t,a,r,s,_){if(l||(l=e),!a){var o={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},g=/[&<>"'`]/g,p=function(e){return"&"+o[e]+";"};a=function(e){return""+(null==e?"":e)},t=function(e){return a(e).replace(g,p)}}if(!r){var n={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},c=function(e){return n[e]},d=/[!')(*]/g;r=function(e){return encodeURIComponent(a(e)).replace(d,c)}}if(!_){var y=/[\\'"]/g;_=function(e){return a(e).replace(y,"\\$&")}}var x="";return x+='<a mxs="_zs_galleryck:_" href="javascript:;" class="input _zs_galleryio _zs_galleryip" mx-click="'+i+'show()"><i class="mc-iconfont _zs_galleryiq">&#xe731;</i></a><a mxa="_zs_galleryck:_" href="javascript:;" class="input _zs_galleryio _zs_galleryir" mx-click="'+i+'toggleDefault()">'+t(e.map[e.type].label)+'<i mxs="_zs_galleryck:a" class="mc-iconfont _zs_galleryis">&#xe692;</i></a>'},mixins:[r],init:function(e){this.updater.snapshot(),this.assign(e)},assign:function(e){var i=this.updater.altered(),l=e.textKey||"text",t=e.valueKey||"value",a=e.parentKey||"pValue",r=[];(e.fields||[]).forEach(function(e){r.push({text:e[l],value:e[t],pValue:e[a],tip:e.tip||""})});var s=[];(e.parents||[]).forEach(function(e){s.push({text:e[l],value:e[t]})});var _=(e.customs||[]).map(function(e){return""+e}),o=(e.defaults||[]).map(function(e){return""+e});0==_.length&&(_=o);var g=+e.limit||0,p=e.sortable+""=="true",n=e.lineNumber||(p?4:5),c=e.custom+""=="true"?2:1,d={1:{label:"默认数据",list:o},2:{label:"自定义数据",list:_}};return this.updater.set({parents:s,fields:r,sortable:p,lineNumber:n,limit:g,map:d,type:c}),i||(i=this.updater.altered()),!!i&&(this.updater.snapshot(),!0)},render:function(){this.updater.digest()},"toggleDefault<click>":function(e){var i=this.updater.get("type");i=1==i?2:1,this.updater.digest({type:i}),this.__cq("btn-switch")},__cq:function(e){var i=this.updater.get("type"),l=this.updater.get("map");a("#"+this.id).trigger({type:"change",triggerType:e,defaults:l[1].list,custom:2==i,customs:l[2].list})},"show<click>":function(e){e.preventDefault();var i=this,l=i.updater,t=(l.get("sortable"),a.extend(!0,{},l.get()));t.selected=t.map[t.type].list,t.callback=function(e){var t=l.get("map");t[2].list=e.selected,i.updater.digest({type:2,map:t}),i.__cq("dialog-setting")},i.mxModal("mx-indics/dialog",t,{width:1e3,closable:!1,card:!1})}})});