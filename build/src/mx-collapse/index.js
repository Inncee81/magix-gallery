define("mx-collapse/index",["magix","$"],(e,a,r)=>{var l=e("magix"),t=e("$");l.applyStyle("_zs_galleryy","._zs_gallerycZ{border-radius:var(--border-radius);border:1px solid var(--color-border);overflow:hidden}._zs_gallerycZ ._zs_galleryd_{border-bottom:1px solid var(--color-border)}._zs_gallerycZ ._zs_galleryd_ ._zs_galleryda{cursor:pointer;position:relative;padding:10px 24px;background-color:var(--color-bg)}._zs_gallerycZ ._zs_galleryd_ ._zs_galleryda ._zs_gallerydb>*{position:absolute;top:50%;left:20px;width:20px;height:20px;text-align:center;line-height:20px;margin-top:-10px;transition:all var(--duration);color:#999}._zs_gallerycZ ._zs_galleryd_ ._zs_galleryda ._zs_gallerydc{margin-left:20px}._zs_gallerycZ ._zs_galleryd_ ._zs_gallerydd{display:none;border-top:1px solid var(--color-border);overflow:hidden;transition:height var(--duration),opacity var(--duration)}._zs_gallerycZ ._zs_galleryd_ ._zs_gallerydd ._zs_galleryde{padding:10px 24px}._zs_gallerycZ ._zs_galleryd_ ._zs_gallerydd ._zs_gallerydc{line-height:22px}._zs_gallerycZ ._zs_galleryd_:last-child{border-bottom:0}._zs_gallerycZ ._zs_galleryd_._zs_gallerydf ._zs_galleryda{opacity:.5;cursor:not-allowed}._zs_gallerycZ ._zs_galleryd_._zs_gallerydg ._zs_galleryda ._zs_gallerydb>*{-webkit-transform:rotate(90deg);transform:rotate(90deg)}"),r.exports=l.View.extend({tmpl:function(e,a,r,l,t,i,n,s){if(r||(r=e),!t){var d={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},_=/[&<>"'`]/g,o=function(e){return"&"+d[e]+";"};t=function(e){return""+(null==e?"":e)},l=function(e){return t(e).replace(_,o)}}if(!i){var g={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},c=function(e){return g[e]},p=/[!')(*]/g;i=function(e){return encodeURIComponent(t(e)).replace(p,c)}}if(!s){var y=/[\\'"]/g;s=function(e){return t(e).replace(y,"\\$&")}}n||(n=function(e,a,r,l){for(l=e[u];--l;)if(e[r=u+l]===a)return r;return e[r=u+e[u]++]=a,r});var u="",z="",f=e.list,x=e.viewId;z+='<div mxv mxa="_zs_galleryaj:_" class="_zs_gallerycZ">';for(var h=0,v=f.length;h<v;h++){var b=f[h];z+='<div mxv class="_zs_galleryd_ ',b.expand&&(z+=" _zs_gallerydg "),z+=" ",b.disabled&&(z+=" _zs_gallerydf "),z+='"><div class="_zs_galleryda" ',b.disabled||(z+=' mx-click="'+a+"toggle({index: "+l(h)+'})" '),z+='><span mxa="_zs_galleryaj:a" class="_zs_gallerydb">'+t(b.arrow)+'</span><span mxa="_zs_galleryaj:b" class="_zs_gallerydc">'+l(b.title)+"</span></div>",b.disabled||(z+='<div mxv class="_zs_gallerydd" id="'+l(x)+"_content_"+l(h)+'" style="',b.height&&(z+=" \n                display: block; \n                ",b.expand?z+=" \n                    opacity: 1; height: "+l(b.height)+"px; \n                ":z+=" \n                    opacity: 0; height: 0; border-top: 0 none; \n                ",z+=" \n            "),z+='"><div mxv="list" class="_zs_galleryde" mx-view="'+l(b.view)+"?data="+n(r,b)+'"></div></div>'),z+="</div>"}return z+="</div>"},init:function(e){var a=this;a.___=t("#"+a.id),a.updater.snapshot(),a.assign(e),a.owner.oncreated=function(){if(!a.$init){a.$init=1;var e=a.id,r=a.updater.get("list");r.forEach(function(a,r){var l=t("#"+e+"_content_"+r);a.height=l.outerHeight()}),a.updater.digest({list:r})}},a.ondestroy=function(){a.owner.off("created")}},assign:function(e){var a=this.updater.altered();return this.updater.set({viewId:this.id,onlyOne:e.onlyOne+""!="false",originList:e.list||[]}),a||(a=this.updater.altered()),!!a&&(this.updater.snapshot(),!0)},render:function(){this.$init=null;var e=this.updater.get("originList"),a=t.extend(!0,[],e),r=!1;if(a.forEach(function(e,a){e.arrow||(e.arrow='<span class="mc-iconfont" style="font-size: 14px;">&#xe602;</span>'),e.view||(e.view="mx-collapse/content"),e.expand=e.expand||!1,e.disabled&&(e.expand=!1),r=r||e.expand}),!r)for(var l=0;l<a.length;l++)if(!a[l].disabled){a[l].expand=!0;break}this.updater.digest({list:a}),r||this.__af()},__af:function(){var e=this.updater.get("list");this.___.trigger({type:"change",expands:e.map(function(e){return e.expand})})},"toggle<click>":function(e){var a=e.params.index,r=this.updater.get("list"),l=this.updater.get("onlyOne");r.forEach(function(e,r){r==a?e.expand=!e.expand:l&&(e.expand=!1)}),this.updater.digest({list:r}),this.__af()}})});