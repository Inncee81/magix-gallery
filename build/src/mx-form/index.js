define("mx-form/index",["magix","$","./util"],(e,r,t)=>{var i=e("magix"),a=e("$"),p=e("./util");t.exports={ctor:function(){var e=this,r=e.updater;e.on("domready",function(){for(var t=0,i=a('input[type="checkbox"][mxe^="'+e.id+'"],input[type="radio"][mxe^="'+e.id+'"]');t<i.length;t++)for(var o=i[t],n=(o=a(o)).attr("mxc"),c=0,s=r.parse(n);c<s.length;c++){for(var f=s[c],h=f.p.split("."),l=h.pop(),d=(f.f,r.get());d&&h.length;){d=d[h.shift()]}if(!h.length){if(void 0===d)return;var v=d[l];if(!0===v)o.prop("checked",v);else{var m=o.val();a.isArray(v)?p.indexOf(v,m)>=0&&o.prop("checked",!0):a.isPlainObject(v)?v[m]&&o.prop("checked",!0):v==m&&o.prop("checked",!0)}}}})},fromKeys:function(e,r){r=(r+"").split(",");for(var t={},a=0,p=void 0;a<r.length;a++)t[p=r[a]]=i.has(e,p)?e[p]:"";return t},"$[mxc]<change,focusout>":function(e){var r=a(e.eventTarget),t=r.attr("mxe");if(t&&t.startsWith(this.id)){for(var o=r.attr("mxc"),n=this.updater,c=n.parse(o),s=n.$k,f=!1,h=0,l=c;h<l.length;h++){for(var d=l[h],v=d.p.split("."),m=d.f||{},x=v.pop(),u=void 0,g=void 0,k=void 0,y=n.get();y&&v.length;)u=v.shift(),k||(k=u),y=y[u];if(k=k||x,r.attr("mx-view")&&r.attr("mx-view").indexOf("mx-calendar/rangepicker")>-1)g=JSON.parse(r.val())[d.a];else if("checkbox"==r.prop("type")){var O=y[x],b=r.prop("checked");if(!0===O||!1===O)g=b;else if(g=r.val(),a.isArray(O)){var $=r.prop("name");if($)O=[],p.addCheckbox($,O,m);else{var _=p.indexOf(O,g);b?-1===_&&O.push(g):_>-1&&O.splice(_,1)}g=O}else a.isPlainObject(O)?(b?O[g]=g:delete O[g],g=O):g=b?g:""}else if("radio"==r.prop("type")){var T=r.prop("name");g=a("input[name="+T+"]:checked").val()}else g=r.val();y&&(!d.a||i.has(e,d.a)||g)&&(i.has(e,d.a)&&(g=e[d.a]),y[x]=g,m.refresh&&(f=!0),!f&&m.silent||(s&&(s[k]=1),n.$c=1))}f&&"change"===e.type&&(clearTimeout(this.__cr),this.__cr=setTimeout(function(){n.digest()},0))}}}});