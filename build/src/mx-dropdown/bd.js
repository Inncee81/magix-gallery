define("mx-dropdown/bd",["magix","$","../mx-monitor/index","../mx-medusa/util"],(r,a,t)=>{var e=r("magix"),s=r("$"),l=r("../mx-monitor/index"),n=r("../mx-medusa/util");e.applyStyle("_zs_galleryj",'._zs_galleryev{box-shadow:0 1px 1px 0 rgba(0,0,0,.08);border:1px solid #f5f5f6}@keyframes _zs_galleryk{0%{transform:translateY(-20%);-ms-transform:translateY(-20%);-moz-transform:translateY(-20%);-webkit-transform:translateY(-20%);-o-transform:translateY(-20%);opacity:0}to{transform:translate(0);-ms-transform:translate(0);-moz-transform:translate(0);-webkit-transform:translate(0);-o-transform:translate(0);opacity:1}}@-webkit-keyframes _zs_galleryk{0%{transform:translateY(-20%);-ms-transform:translateY(-20%);-moz-transform:translateY(-20%);-webkit-transform:translateY(-20%);-o-transform:translateY(-20%);opacity:0}to{transform:translate(0);-ms-transform:translate(0);-moz-transform:translate(0);-webkit-transform:translate(0);-o-transform:translate(0);opacity:1}}@keyframes _zs_galleryl{0%{transform:translateY(20%);-ms-transform:translateY(20%);-moz-transform:translateY(20%);-webkit-transform:translateY(20%);-o-transform:translateY(20%);opacity:0}to{transform:translate(0);-ms-transform:translate(0);-moz-transform:translate(0);-webkit-transform:translate(0);-o-transform:translate(0);opacity:1}}@-webkit-keyframes _zs_galleryl{0%{transform:translateY(20%);-ms-transform:translateY(20%);-moz-transform:translateY(20%);-webkit-transform:translateY(20%);-o-transform:translateY(20%);opacity:0}to{transform:translate(0);-ms-transform:translate(0);-moz-transform:translate(0);-webkit-transform:translate(0);-o-transform:translate(0);opacity:1}}@keyframes _zs_gallerym{0%{transform:translate(0);-ms-transform:translate(0);-moz-transform:translate(0);-webkit-transform:translate(0);-o-transform:translate(0)}25%{transform:translateY(-15%);-ms-transform:translateY(-15%);-moz-transform:translateY(-15%);-webkit-transform:translateY(-15%);-o-transform:translateY(-15%)}75%{transform:translateY(15%);-ms-transform:translateY(15%);-moz-transform:translateY(15%);-webkit-transform:translateY(15%);-o-transform:translateY(15%)}to{transform:translate(0);-ms-transform:translate(0);-moz-transform:translate(0);-webkit-transform:translate(0);-o-transform:translate(0)}}@-webkit-keyframes _zs_gallerym{0%{transform:translate(0);-ms-transform:translate(0);-moz-transform:translate(0);-webkit-transform:translate(0);-o-transform:translate(0)}25%{transform:translateY(-15%);-ms-transform:translateY(-15%);-moz-transform:translateY(-15%);-webkit-transform:translateY(-15%);-o-transform:translateY(-15%)}75%{transform:translateY(15%);-ms-transform:translateY(15%);-moz-transform:translateY(15%);-webkit-transform:translateY(15%);-o-transform:translateY(15%)}to{transform:translate(0);-ms-transform:translate(0);-moz-transform:translate(0);-webkit-transform:translate(0);-o-transform:translate(0)}}@keyframes _zs_galleryn{0%{transform:translate(0);-ms-transform:translate(0);-moz-transform:translate(0);-webkit-transform:translate(0);-o-transform:translate(0)}25%{transform:translateY(2px);-ms-transform:translateY(2px);-moz-transform:translateY(2px);-webkit-transform:translateY(2px);-o-transform:translateY(2px)}50%{transform:translate(0);-ms-transform:translate(0);-moz-transform:translate(0);-webkit-transform:translate(0);-o-transform:translate(0)}75%{transform:translateY(-2px);-ms-transform:translateY(-2px);-moz-transform:translateY(-2px);-webkit-transform:translateY(-2px);-o-transform:translateY(-2px)}to{transform:translate(0);-ms-transform:translate(0);-moz-transform:translate(0);-webkit-transform:translate(0);-o-transform:translate(0)}}@-webkit-keyframes _zs_galleryn{0%{transform:translate(0);-ms-transform:translate(0);-moz-transform:translate(0);-webkit-transform:translate(0);-o-transform:translate(0)}25%{transform:translateY(2px);-ms-transform:translateY(2px);-moz-transform:translateY(2px);-webkit-transform:translateY(2px);-o-transform:translateY(2px)}50%{transform:translate(0);-ms-transform:translate(0);-moz-transform:translate(0);-webkit-transform:translate(0);-o-transform:translate(0)}75%{transform:translateY(-2px);-ms-transform:translateY(-2px);-moz-transform:translateY(-2px);-webkit-transform:translateY(-2px);-o-transform:translateY(-2px)}to{transform:translate(0);-ms-transform:translate(0);-moz-transform:translate(0);-webkit-transform:translate(0);-o-transform:translate(0)}}@keyframes _zs_galleryo{0%{transform:translate(0);-ms-transform:translate(0);-moz-transform:translate(0);-webkit-transform:translate(0);-o-transform:translate(0)}25%{transform:translateY(-2px);-ms-transform:translateY(-2px);-moz-transform:translateY(-2px);-webkit-transform:translateY(-2px);-o-transform:translateY(-2px)}50%{transform:translate(0);-ms-transform:translate(0);-moz-transform:translate(0);-webkit-transform:translate(0);-o-transform:translate(0)}75%{transform:translateY(2px);-ms-transform:translateY(2px);-moz-transform:translateY(2px);-webkit-transform:translateY(2px);-o-transform:translateY(2px)}to{transform:translate(0);-ms-transform:translate(0);-moz-transform:translate(0);-webkit-transform:translate(0);-o-transform:translate(0)}}@-webkit-keyframes _zs_galleryo{0%{transform:translate(0);-ms-transform:translate(0);-moz-transform:translate(0);-webkit-transform:translate(0);-o-transform:translate(0)}25%{transform:translateY(-2px);-ms-transform:translateY(-2px);-moz-transform:translateY(-2px);-webkit-transform:translateY(-2px);-o-transform:translateY(-2px)}50%{transform:translate(0);-ms-transform:translate(0);-moz-transform:translate(0);-webkit-transform:translate(0);-o-transform:translate(0)}75%{transform:translateY(2px);-ms-transform:translateY(2px);-moz-transform:translateY(2px);-webkit-transform:translateY(2px);-o-transform:translateY(2px)}to{transform:translate(0);-ms-transform:translate(0);-moz-transform:translate(0);-webkit-transform:translate(0);-o-transform:translate(0)}}._zs_galleryew{position:relative;width:100%;height:32px;padding:0 25px 0 10px;border-radius:4px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;line-height:30px;transition:all .25s;border:1px solid #e6e6e6;background-color:#fff}._zs_galleryew ._zs_galleryex{display:block;width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}._zs_galleryew ._zs_galleryey{position:absolute;right:0;top:50%;width:28px;height:28px;font-size:28px;line-height:28px;margin-top:-14px;color:#e6e6e6;transition:all .25s}._zs_galleryew._zs_galleryez ._zs_galleryey{-webkit-transform:rotate(180deg);transform:rotate(180deg)}._zs_galleryaA{display:block;width:100%;padding:0 8px;cursor:pointer;height:26px;line-height:26px;border-radius:4px;transition:all .25s}._zs_galleryaA:hover{background-color:#f0f0f0}._zs_galleryaA._zs_galleryaB,._zs_galleryaA._zs_galleryaB:active,._zs_galleryaA._zs_galleryaB:focus,._zs_galleryaA._zs_galleryaB:hover{color:#4d7fff;background-color:#f6f9ff}._zs_galleryaA._zs_galleryeA,._zs_galleryaA._zs_galleryeA:active,._zs_galleryaA._zs_galleryeA:focus,._zs_galleryaA._zs_galleryeA:hover{color:#999;cursor:not-allowed;background-color:transparent}._zs_galleryeB ._zs_galleryaA:hover{background-color:transparent}._zs_galleryeC{display:none;position:absolute;left:0;z-index:99;min-width:100%;max-width:200%;border-radius:4px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:#fff;box-shadow:0 1px 1px 0 rgba(0,0,0,.08);border:1px solid #f5f5f6}._zs_galleryeC ._zs_galleryeD{padding:10px 10px 0}._zs_galleryeC ._zs_galleryeD ._zs_galleryeE{width:100%}._zs_galleryeC ._zs_galleryeF{padding:8px 10px;overflow:auto}._zs_galleryeC ._zs_galleryeF ._zs_galleryeG{padding:2px 0}._zs_galleryeC ._zs_galleryeF ._zs_galleryeH{height:26px;line-height:26px;padding-left:2px;padding-right:2px;color:#999;cursor:default}._zs_galleryeC._zs_galleryeI{top:100%;margin-top:10px}._zs_galleryeC._zs_galleryeI._zs_galleryez{display:block;-webkit-animation:_zs_galleryk .25s ease-out;animation:_zs_galleryk .25s ease-out;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}._zs_galleryeC._zs_galleryeJ{bottom:100%;margin-bottom:10px}._zs_galleryeC._zs_galleryeJ._zs_galleryez{display:block;-webkit-animation:_zs_galleryl .25s ease-out;animation:_zs_galleryl .25s ease-out;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}._zs_galleryeK{min-width:600px}._zs_galleryeK ._zs_galleryeD ._zs_galleryeE{width:200px}._zs_galleryeK ._zs_galleryeF ._zs_galleryeL{margin-bottom:10px}._zs_galleryeK ._zs_galleryeF ._zs_galleryeL ._zs_galleryeG{float:left;width:25%}._zs_galleryeM,[mx-view*="mx-dropdown/bd"],[mx-view*="mx-dropdown/index"],[mx-view*="mx-dropdown/multiple"]{position:relative;display:inline-block;min-width:100px;vertical-align:middle}._zs_galleryeM:hover ._zs_galleryew,[mx-view*="mx-dropdown/bd"]:hover ._zs_galleryew,[mx-view*="mx-dropdown/index"]:hover ._zs_galleryew,[mx-view*="mx-dropdown/multiple"]:hover ._zs_galleryew{border-color:#ccc}._zs_galleryeM:hover ._zs_galleryew ._zs_galleryey,[mx-view*="mx-dropdown/bd"]:hover ._zs_galleryew ._zs_galleryey,[mx-view*="mx-dropdown/index"]:hover ._zs_galleryew ._zs_galleryey,[mx-view*="mx-dropdown/multiple"]:hover ._zs_galleryew ._zs_galleryey{color:#ccc}._zs_galleryeM[mx-disabled] ._zs_galleryew,._zs_galleryeM[mx-disabled]:hover ._zs_galleryew,[mx-view*="mx-dropdown/bd"][mx-disabled] ._zs_galleryew,[mx-view*="mx-dropdown/bd"][mx-disabled]:hover ._zs_galleryew,[mx-view*="mx-dropdown/index"][mx-disabled] ._zs_galleryew,[mx-view*="mx-dropdown/index"][mx-disabled]:hover ._zs_galleryew,[mx-view*="mx-dropdown/multiple"][mx-disabled] ._zs_galleryew,[mx-view*="mx-dropdown/multiple"][mx-disabled]:hover ._zs_galleryew{border-color:#e6e6e6;color:#999;background-color:#eee;cursor:not-allowed}._zs_galleryeM[mx-disabled] ._zs_galleryew ._zs_galleryey,._zs_galleryeM[mx-disabled]:hover ._zs_galleryew ._zs_galleryey,[mx-view*="mx-dropdown/bd"][mx-disabled] ._zs_galleryew ._zs_galleryey,[mx-view*="mx-dropdown/bd"][mx-disabled]:hover ._zs_galleryew ._zs_galleryey,[mx-view*="mx-dropdown/index"][mx-disabled] ._zs_galleryew ._zs_galleryey,[mx-view*="mx-dropdown/index"][mx-disabled]:hover ._zs_galleryew ._zs_galleryey,[mx-view*="mx-dropdown/multiple"][mx-disabled] ._zs_galleryew ._zs_galleryey,[mx-view*="mx-dropdown/multiple"][mx-disabled]:hover ._zs_galleryew ._zs_galleryey{color:#ccc}._zs_galleryeN{padding-top:10px;padding-left:18px;padding-right:18px;line-height:16px}._zs_galleryeN ._zs_galleryeO{float:left;padding-right:20px;color:#999}._zs_galleryeN ._zs_galleryeO:hover{color:#4d7fff}._zs_galleryeN._zs_galleryeP{padding-left:12px;padding-right:12px}._zs_galleryeQ{padding:10px;border-top:1px solid #e6e6e6}._zs_galleryeR{position:relative}._zs_galleryeR ._zs_galleryeS{position:absolute;top:-1px;left:18px;white-space:nowrap}'),t.exports=e.View.extend({tmpl:function(r,a,t,e,s,l,n,o){if(t||(t=r),!s){var _={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},m=/[&<>"'`]/g,i=function(r){return"&"+_[r]+";"};s=function(r){return""+(null==r?"":r)},e=function(r){return s(r).replace(m,i)}}if(!l){var f={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},d=function(r){return f[r]},p=/[!')(*]/g;l=function(r){return encodeURIComponent(s(r)).replace(p,d)}}if(!o){var g=/[\\'"]/g;o=function(r){return s(r).replace(g,"\\$&")}}var y="";return y+='<div class="_zs_galleryew ',r.expand&&(y+=" _zs_galleryez "),y+='"><span class="_zs_galleryex ',""===r.selected&&(y+=" dropdown-toggle-label-ph "),y+='">'+e(r.selectedText)+'</span><span mxs="_zs_gallerya\\:_" class="mc-iconfont _zs_galleryey">&#xe692;</span></div>'},init:function(r){var a=this;l.__f();var t=s("#"+a.id);a.__j=t;var o=r.selected;s.isArray(o)?a.__bD="array":o=o?(o+"").split(","):[];var _,m=r.textKey||"text",i=r.valueKey||"value",f=r.list||[],d=r.parents||[],p=r.parentKey||"pValue";if("object"==typeof f[0])if(f=f.map(function(r){return e.mix(r,{text:r[m],value:r[i],pValue:r[p]}),r}),0==d.length)_=!1,d=[{text:"组",value:"all",list:f}];else{_=!0;var g={};f.forEach(function(r){var a=r.pValue;g[a]=g[a]||[],g[a].push(r)});for(var y=0;y<d.length;y++){var x=d[y],z=x.value;x.list=g[z]||[],0==x.list.length&&x.splice(y--,1)}}else _=!1,d=[{text:"组",value:"all",list:f=f.map(function(r){return{text:r,value:r}})}];var c=r.multiple+""=="true",b=e.toMap(f,i),w=[];if(o.forEach(function(r){var a=b[o];s.isEmptyObject(a)||w.push(a)}),!c&&0==w.length){w=[f[0]];for(y=0;y<f.length;y++)if(!f[y].disabled){w=[f[y]];break}}var u=s("#"+a.id+"[mx-disabled]");switch(a.__bE=u&&u.length>0,a.__bF=r.scrollWrapper,a.__bG=!1,a.updater.set({viewId:a.id,searchbox:r.searchbox+""=="true",multiple:c,emptyText:r.emptyText||n.choose,hasGroups:_,parents:d,selectedItems:w,expand:!1,height:r.height||250,spm:a.__j.attr("data-spm-click")||""}),a.on("destroy",function(){a.__j.off("mouseenter mouseleave"),a.__bH&&clearTimeout(a.__bH),a.__bI&&clearTimeout(a.__bI),s("#dd_bd_"+a.id).remove(),l.__g(a),l.__h()}),a.__bJ=r.triggerType||"click",a.__bJ){case"click":t.on("click",function(){a.__bH=setTimeout(a.wrapAsync(function(){a.updater.get("expand")?a.__m():a.__bE||a.__n()}),a.constants.showDelay)});break;case"hover":t.hover(function(){clearTimeout(a.__bI),a.__bH=setTimeout(a.wrapAsync(function(){a.__bE||a.__n()}),a.constants.showDelay)},function(){a.__bK()})}a.bindScroll()},render:function(){this.updater.digest({}),this.__bL()},__bL:function(r){var a=this,t=a.updater.get("selectedItems"),e=[],s=[];t.forEach(function(r){e.push(r.text),s.push(r.value)});var l,n=a.updater.get("emptyText");a.updater.digest({selectedText:e.join(",")||n}),l="array"==a.__bD?s:s.join(","),a.__j.val(l),r&&a.__j.trigger({type:"change",selected:l,values:s,texts:e,value:s.join(","),text:e.join(",")})},__bO:function(){var r=this,a=s("#"+r.id+" ._zs_galleryew").outerWidth(),t=r.id,e='<div class="_zs_galleryeC _zs_galleryeI" id="dd_bd_'+t+'"\n                style="min-width: '+a+"px; max-width: "+2*a+'px;"></div>';s(document.body).append(e);var l=r.owner.mountVframe("dd_bd_"+t,"");l.on("created",function(){var a=r.__bM();"hover"==r.__bJ&&a.hover(function(){clearTimeout(r.__bI)},function(){r.__bK()})}),r.__bN=l},__k:function(r){return e.inside(r,this.id)||e.inside(r,"dd_bd_"+this.id)},__n:function(){var r=this;clearTimeout(r.__bH),r.__bG||(r.__bG=!0,r.__bO());var a=r.updater.get();a.expand||(r.__bN.mountView("mx-dropdown/content",{data:a,submit:function(a){r.__m(),r.updater.set(a),r.__bL(!0)},cancel:function(){r.__m()}}),r.updater.digest({expand:!0}),r.__bM().addClass("_zs_galleryez"),l.__p(r))},__bK:function(){var r=this;clearTimeout(r.__bH),clearTimeout(r.__bI),r.__bI=setTimeout(r.wrapAsync(function(){r.__m()}),r.constants.hideDelay),l.__g(r)},__m:function(){var r=this;(clearTimeout(r.__bI),r.updater.get("expand"))&&(r.updater.digest({expand:!1}),s("#dd_bd_"+r.id).removeClass("_zs_galleryez"),l.__g(r))},bindScroll:function(){var r=this,a=r.__bF;a&&("string"!=typeof a||/^#/.test(a)||/^\./.test(a)?s(a):s("#"+a)).scroll(function(){r.updater.get("expand")&&r.__bM()})},__bM:function(){var r=this.__j,a=s("#dd_bd_"+this.id);if(a&&a.length){var t=r.outerWidth(),e=r.outerHeight(),l=r.offset(),n=a.outerWidth(),o=(a.outerHeight(),l.top+e);return left=l.left-(n-t)/2,a.css({left:left,top:o}),a}},"$win<scroll>":function(r){this.updater.get("expand")&&this.__bM()},"$doc<dialogScolll>":function(r){this.updater.get("expand")&&this.__bM()},constants:{showDelay:100,hideDelay:200}})});