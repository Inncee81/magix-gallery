define("mx-cascade/index",["magix","mx-tree/util","../mx-medusa/util","../mx-util/monitor"],(e,t,r)=>{var a=e("magix"),l=(a.Vframe,e("mx-tree/util")),i=e("../mx-medusa/util"),n=e("../mx-util/monitor");a.applyStyle("_zs_galleryx","._zs_gallerycW{width:auto;min-width:0;max-width:none;white-space:nowrap}._zs_gallerycX{display:inline-block;min-width:100px;height:calc(var(--input-small-height)*6);overflow-y:auto;vertical-align:top;border-left:1px solid var(--color-border)}._zs_gallerycX:first-child{border-left:0}._zs_gallerycY{position:relative;height:var(--input-small-height);padding-right:var(--input-small-height);padding-left:10px;line-height:var(--input-small-height);transition:background-color var(--duration),color var(--duration);cursor:pointer}._zs_gallerycY ._zs_gallerycZ{display:block;width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}._zs_gallerycY ._zs_galleryd_{position:absolute;right:0;top:0;font-size:24px;line-height:var(--input-small-height);color:#999;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}._zs_gallerycY:hover{background-color:var(--color-bg-hover)}._zs_gallerycY._zs_galleryda{color:var(--color-brand)}._zs_gallerycY._zs_galleryda,._zs_gallerycY._zs_galleryda:hover{background-color:var(--color-brand-opacity)}"),r.exports=a.View.extend({tmpl:function(e,t,r,a,l,i,n,s){if(r||(r=e),!l){var c={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},o=/[&<>"'`]/g,d=function(e){return"&"+c[e]+";"};l=function(e){return""+(null==e?"":e)},a=function(e){return l(e).replace(o,d)}}if(!i){var _={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},u=function(e){return _[e]},g=/[!')(*]/g;i=function(e){return encodeURIComponent(l(e)).replace(g,u)}}if(!s){var p=/[\\'"]/g;s=function(e){return l(e).replace(p,"\\$&")}}var h="",v=e.expand,x=e.disabled,f=e.name,m=e.selectedText,y=e.groups,z=e.viewId,b=e.textKey;if(h+='<div class="mx-trigger ',v&&(h+=" mx-trigger-open "),h+='" ',x||(h+=' mx-click="'+t+'__o()" '),h+='><span mxa="_zs_gallery+:_" class="mx-trigger-label">',f&&(h+=a(f)+"ï¼š"),h+=a(m)+'</span><span mxs="_zs_gallery+:_" class="mc-iconfont mx-trigger-arrow">&#xe692;</span></div>',!x){h+='<div class="mx-output mx-output-bottom ',v&&(h+=" mx-output-open "),h+=' clearfix _zs_gallerycW">';for(var w=0,K=y.length;w<K;w++){var k=y[w];h+='<div class="_zs_gallerycX" id="'+a(z)+"_g_"+a(w)+'">';for(var T=0,V=k.length;T<V;T++){var Y=k[T];h+='<div class="_zs_gallerycY ',Y.cur&&(h+=" _zs_galleryda "),h+='" mx-click="'+t+"__ac({gIndex:"+a(w)+",iIndex:"+a(T)+'})"><span mxa="_zs_gallery+:a" class="_zs_gallerycZ">'+a(Y[b])+"</span>",Y.children&&Y.children.length&&(h+='<span mxs="_zs_gallery+:a" class="mc-iconfont _zs_galleryd_">&#xe692;</span>'),h+="</div>"}h+="</div>"}h+="</div>"}return h},init:function(e){var t=this;t.__s=e,n.__h(),t.on("destroy",function(){n.__i(t),n.__j()})},render:function(){var e=this,t=e.__s,r=t.valueKey||"value",a=t.textKey||"text",n=t.parentKey||"pValue",s=t.disabled+""=="true"||$("#"+e.id)[0].hasAttribute("mx-disabled"),c=l.listToTree(t.list,r,n),o=c.map,d=c.list;e.updater.set({viewId:e.id,disabled:s,placeholder:t.placeholder||i.choose,valueKey:r,textKey:a,parentKey:n,map:o,list:d,expand:!1});var _=t.selected||"",u=e.__ab(_);u.selectedText=u.selectedTexts.join("/"),u.selectedValue=_,e.updater.digest(u),e.__a=$("#"+e.id),e.__a.val(_)},__ab:function(e){var t=this.updater,r=t.get("valueKey"),a=t.get("textKey"),l=t.get("parentKey"),i=t.get("placeholder"),n=t.get("map"),s=t.get("list"),c=[],o=[],d=[];if(e&&n[e]){var _=function(e){var t=n[e];if(c.unshift(t[a]),o.unshift(t[r]+""),t[l]){var i=n[t[l]].children;i.forEach(function(e){e.cur=!1}),t.cur=!0,d.unshift(i),_(t[l])}else s.forEach(function(e){e.cur=!1}),t.cur=!0,d.unshift(s)};_(e)}else c=[i],d=[s];return{groups:d,selectedTexts:c,selectedValues:o}},__l:function(e){return a.inside(e,this.id)},__n:function(e){this.updater.get("expand")&&(this.updater.digest({expand:!1}),n.__i(this))},"__o<click>":function(e){var t=this.updater,r=t.get("expand"),a=t.get("selectedValue");if(!r){var l=this.__ab(a);l.expand=!0,t.digest(l),n.__q(this)}},"__ac<click>":function(e){var t=this.updater,r=t.get("selectedValues"),a=t.get("valueKey"),l=e.params.gIndex,i=e.params.iIndex,n=t.get("groups"),s=n[l],c=s[i];if(c.children=c.children||[],c.children.length>0)s.forEach(function(e){e.cur=!1}),c.cur=!0,n=n.slice(0,l+1),c.children.forEach(function(e){e.cur=r.indexOf(e[a]+"")>-1}),n.push(c.children),t.digest({groups:n});else{var o=c[a],d=this.__ab(o);d.selectedValue=o,d.selectedText=d.selectedTexts.join("/"),t.digest(d);var _=$.Event("change",{item:c,selected:o});this.__a.val(o).trigger(_),this.__n()}}})});