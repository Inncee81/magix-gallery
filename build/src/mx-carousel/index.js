define("mx-carousel/index",["magix","$","../mx-runner/index"],(t,e,i)=>{var a=t("magix"),_=t("$");t("../mx-runner/index");a.applyStyle("_zs_galleryy","._zs_gallerycZ{box-shadow:0 1px 1px 0 rgba(0,0,0,.08);border:1px solid #f5f5f6}._zs_galleryd_{position:relative;width:100%;overflow:hidden}._zs_galleryd_ ._zs_galleryda{position:relative;z-index:3}._zs_gallerydb{display:inline-block;vertical-align:top}._zs_gallerydb ._zs_gallerydc{cursor:pointer;background-color:#fff;opacity:.5;display:block;border-radius:1px;transition:all .5s}._zs_gallerydb ._zs_gallerydc:hover{opacity:.8}._zs_gallerydd{position:absolute;left:0;bottom:12px;z-index:4;height:5px;width:100%;text-align:center}._zs_gallerydd ._zs_gallerydb{margin:0 2px}._zs_gallerydd ._zs_gallerydb ._zs_gallerydc{width:20px;height:5px}._zs_gallerydd ._zs_gallerydb ._zs_gallerydc._zs_galleryde{opacity:1;width:28px}._zs_gallerydf{position:absolute;top:50%;right:12px;z-index:4;width:5px;-webkit-transform:translateY(-50%);transform:translateY(-50%)}._zs_gallerydf ._zs_gallerydb{margin:2px 0}._zs_gallerydf ._zs_gallerydb ._zs_gallerydc{width:5px;height:20px}._zs_gallerydf ._zs_gallerydb ._zs_gallerydc._zs_galleryde{opacity:1;height:28px}"),i.exports=a.View.extend({tmpl:function(t,e,i,a,_,r,s,l){if(i||(i=t),!_){var n={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},d=/[&<>"'`]/g,o=function(t){return"&"+n[t]+";"};_=function(t){return""+(null==t?"":t)},a=function(t){return _(t).replace(d,o)}}if(!r){var h={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},c=function(t){return h[t]},g=/[!')(*]/g;r=function(t){return encodeURIComponent(_(t)).replace(g,c)}}if(!l){var u=/[\\'"]/g;l=function(t){return _(t).replace(u,"\\$&")}}var p="",y=t.height,f=t.content,v=t.dots,z=t.vertical,x=t.len,m=t.dotClass;if(p+='<div class="_zs_galleryd_" style="height: '+a(y)+'px;"><div mxa="_zs_gallery;:_" class="_zs_galleryda" mx-mouseover="'+e+'__m()" mx-mouseout="'+e+'__a_()">'+_(f)+"</div>",v){p+='<ul class="',p+=z?" _zs_gallerydf ":" _zs_gallerydd ",p+='" mx-mouseover="'+e+'__m()" mx-mouseout="'+e+'__a_()">';for(var w=0;w<x;w+=1)p+='<li mxa="_zs_gallery;:a" class="_zs_gallerydb"><i class="_zs_gallerydc '+a(m)+'" mx-click="'+e+"__Z({idx:"+a(w)+'})"></i></li>';p+="</ul>"}return p+="</div>"},init:function(t){var e=this,i=_("#"+e.id);e.__k=i,e.__O=t,e.updater.set({mode:t.mode||"carousel",width:t.width||_(i).width()||400,height:t.height||_(i).height()||200,active:t.active||0,interval:0|t.interval||3e3,autoplay:t.autoplay+""=="true",dots:t.dots+""!="false",vertical:t.vertical+""=="true",timing:t.timing||"ease-in-out",duration:t.duration||".5s",dotClass:t.dotClass||""}),t.prevTrigger&&_("#"+t.prevTrigger).on("click",function(){e.__P(-1)}),t.nextTrigger&&_("#"+t.nextTrigger).on("click",function(){e.__P(1)}),e.on("destroy",function(){e.__Q(),e.__R&&clearTimeout(e.__R)})},render:function(){var t=this.updater.get(),e=this.__k,i=e.children();this.updater.digest({len:i.length,content:e.html()}),this.__S=e.find("._zs_gallerydc");var a=e.find("._zs_galleryda");this.__T=a,this.__U=a.find('[data-carousel="true"]'),this.__V(),this.__W(t.active,1),t.autoplay&&this.__X()},__V:function(){this.__k;var t=this.updater.get(),e=t.width,i=t.height,a=t.mode,r=this.__U;switch(a){case"carousel":for(var s=0;s<r.length;s++){var l=_(r[s]);t.vertical?l.css({position:"absolute",top:i*s,left:0,width:e,height:i}):l.css({position:"absolute",top:0,left:e*s,width:e,height:i})}break;case"fade":for(s=0;s<r.length;s++){(l=_(r[s])).css({position:"absolute",opacity:0,top:0,left:0,width:e,height:i})}}t.vertical?this.__T.height(r.length*i).width(e):this.__T.width(r.length*e).height(i)},__W:function(t,e){var i=this.updater,a=i.get(),_=a.mode,r=a.duration,s=a.timing;switch(_){case"carousel":i.set({active:t});var l=a.width,n=a.height,d={transform:"translate3d("+(a.vertical?"0,-"+t*n+"px":"-"+t*l+"px,0")+",0)",transition:"transform "+r+" "+s};e&&delete d.transition,this.__T.css(d);break;case"fade":var o=this.__U;o.css({opacity:0});d={opacity:1,transition:"opacity "+r+" "+s};o.eq(t).css(d),i.set({active:t})}this.__S.removeClass("_zs_galleryde").eq(t).addClass("_zs_galleryde")},__X:function(){var t=this,e=t.updater.get();if(e.autoplay){var i=e.active;t.__Y=setInterval(function(){var e=++i;e>=t.__U.length&&(i=e=0),t.__W(e)},e.interval)}},__Q:function(){this.__Y&&clearInterval(this.__Y)},__P:function(t){var e=this.updater.get("active"),i=this.updater.get("len");(e=+e+t)>=i&&(e=0),e<0&&(e=i-1),this.__W(e)},"__Z<click>":function(t){this.__W(t.params.idx)},"__a_<mouseout>":function(t){a.inside(t.relatedTarget,this.id)||(this.__R=setTimeout(this.wrapAsync(this.__X,this),50))},"__m<mouseover>":function(t){a.inside(t.relatedTarget,this.id)||(this.__R&&clearTimeout(this.__R),this.__Q())},"$win<resize>":function(){var t=this.updater.get(),e=this.__O,i=this.__k;this.updater.set({width:e.width||_(i).width()||400}),this.__V(),this.__W(t.active,1)}})});