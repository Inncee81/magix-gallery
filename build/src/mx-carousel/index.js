define("mx-carousel/index",["magix","$","../mx-runner/index"],(t,e,i)=>{var a=t("magix"),_=t("$");t("../mx-runner/index");a.applyStyle("_zs_galleryy","._zs_gallerycK{box-shadow:0 2px 4px rgba(51,51,51,.08);border:1px solid #eee}._zs_gallerycL{position:relative;width:100%;overflow:hidden}._zs_gallerycL ._zs_gallerycM{position:relative;z-index:3}._zs_gallerycN{display:inline-block;vertical-align:top}._zs_gallerycN ._zs_gallerycO{cursor:pointer;background-color:#fff;opacity:.5;display:block;border-radius:1px;transition:all .5s}._zs_gallerycN ._zs_gallerycO:hover{opacity:.8}._zs_gallerycP{position:absolute;left:0;bottom:12px;z-index:4;height:5px;width:100%;text-align:center}._zs_gallerycP ._zs_gallerycN{margin:0 2px}._zs_gallerycP ._zs_gallerycN ._zs_gallerycO{width:20px;height:5px}._zs_gallerycP ._zs_gallerycN ._zs_gallerycO._zs_gallerycQ{opacity:1;width:28px}._zs_gallerycR{position:absolute;top:50%;right:12px;z-index:4;width:5px;-webkit-transform:translateY(-50%);transform:translateY(-50%)}._zs_gallerycR ._zs_gallerycN{margin:2px 0}._zs_gallerycR ._zs_gallerycN ._zs_gallerycO{width:5px;height:20px}._zs_gallerycR ._zs_gallerycN ._zs_gallerycO._zs_gallerycQ{opacity:1;height:28px}"),i.exports=a.View.extend({tmpl:function(t,e,i,a,_,r,s,l){if(i||(i=t),!_){var n={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},c=/[&<>"'`]/g,o=function(t){return"&"+n[t]+";"};_=function(t){return""+(null==t?"":t)},a=function(t){return _(t).replace(c,o)}}if(!r){var h={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},g=function(t){return h[t]},d=/[!')(*]/g;r=function(t){return encodeURIComponent(_(t)).replace(d,g)}}if(!l){var u=/[\\'"]/g;l=function(t){return _(t).replace(u,"\\$&")}}var p="",y=t.height,v=t.content,f=t.dots,z=t.vertical,x=t.len,m=t.dotClass;if(p+='<div class="_zs_gallerycL" style="height: '+a(y)+'px;"><div mxa="_zs_gallery?:_" class="_zs_gallerycM" mx-mouseover="'+e+'__l()" mx-mouseout="'+e+'__Z()">'+_(v)+"</div>",f){p+='<ul class="',p+=z?" _zs_gallerycR ":" _zs_gallerycP ",p+='" mx-mouseover="'+e+'__l()" mx-mouseout="'+e+'__Z()">';for(var w=0;w<x;w+=1)p+='<li mxa="_zs_gallery?:a" class="_zs_gallerycN"><i class="_zs_gallerycO '+a(m)+'" mx-click="'+e+"__Y({idx:"+a(w)+'})"></i></li>';p+="</ul>"}return p+="</div>"},init:function(t){var e=this,i=_("#"+e.id);e.__j=i,e.__N=t,e.updater.set({mode:t.mode||"carousel",width:t.width||_(i).width()||400,height:t.height||_(i).height()||200,active:t.active||0,interval:0|t.interval||3e3,autoplay:t.autoplay+""=="true",dots:t.dots+""!="false",vertical:t.vertical+""=="true",timing:t.timing||"ease-in-out",duration:t.duration||".5s",dotClass:t.dotClass||""}),t.prevTrigger&&_("#"+t.prevTrigger).on("click",function(){e.__O(-1)}),t.nextTrigger&&_("#"+t.nextTrigger).on("click",function(){e.__O(1)}),e.on("destroy",function(){e.__P(),e.__Q&&clearTimeout(e.__Q)})},render:function(){var t=this.updater.get(),e=this.__j,i=e.children();this.updater.digest({len:i.length,content:e.html()}),this.__R=e.find("._zs_gallerycO");var a=e.find("._zs_gallerycM");this.__S=a,this.__T=a.find('[data-carousel="true"]'),this.__U(),this.__V(t.active,1),t.autoplay&&this.__W()},__U:function(){this.__j;var t=this.updater.get(),e=t.width,i=t.height,a=t.mode,r=this.__T;switch(a){case"carousel":for(var s=0;s<r.length;s++){var l=_(r[s]);t.vertical?l.css({position:"absolute",top:i*s,left:0,width:e,height:i}):l.css({position:"absolute",top:0,left:e*s,width:e,height:i})}break;case"fade":for(s=0;s<r.length;s++){(l=_(r[s])).css({position:"absolute",opacity:0,top:0,left:0,width:e,height:i})}}t.vertical?this.__S.height(r.length*i).width(e):this.__S.width(r.length*e).height(i)},__V:function(t,e){var i=this.updater,a=i.get(),_=a.mode,r=a.duration,s=a.timing;switch(_){case"carousel":i.set({active:t});var l=a.width,n=a.height,c={transform:"translate3d("+(a.vertical?"0,-"+t*n+"px":"-"+t*l+"px,0")+",0)",transition:"transform "+r+" "+s};e&&delete c.transition,this.__S.css(c);break;case"fade":var o=this.__T;o.css({opacity:0});c={opacity:1,transition:"opacity "+r+" "+s};o.eq(t).css(c),i.set({active:t})}this.__R.removeClass("_zs_gallerycQ").eq(t).addClass("_zs_gallerycQ")},__W:function(){var t=this,e=t.updater.get();if(e.autoplay){var i=e.active;t.__X=setInterval(function(){var e=++i;e>=t.__T.length&&(i=e=0),t.__V(e)},e.interval)}},__P:function(){this.__X&&clearInterval(this.__X)},__O:function(t){var e=this.updater.get("active"),i=this.updater.get("len");(e=+e+t)>=i&&(e=0),e<0&&(e=i-1),this.__V(e)},"__Y<click>":function(t){this.__V(t.params.idx)},"__Z<mouseout>":function(t){a.inside(t.relatedTarget,this.id)||(this.__Q=setTimeout(this.wrapAsync(this.__W,this),50))},"__l<mouseover>":function(t){a.inside(t.relatedTarget,this.id)||(this.__Q&&clearTimeout(this.__Q),this.__P())},"$win<resize>":function(){var t=this.updater.get(),e=this.__N,i=this.__j;this.updater.set({width:e.width||_(i).width()||400}),this.__U(),this.__V(t.active,1)}})});