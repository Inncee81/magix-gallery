define("mx-secradio/index",["magix"],(e,t,a)=>{var l=e("magix");l.applyStyle("_zs_galleryah","._zs_galleryjd{box-shadow:0 2px 4px rgba(51,51,51,.08);border:1px solid #eee}._zs_galleryje{position:relative;height:32px;line-height:32px;transition:height .2s;overflow:hidden}._zs_galleryje ._zs_galleryjf{width:20px;cursor:pointer;font-size:14px;color:#ccc;transition:color .2s}._zs_galleryje ._zs_galleryjf:hover{color:#666}._zs_galleryjg{cursor:pointer;color:#999}._zs_galleryjh{padding-left:20px}._zs_galleryjh._zs_galleryji{height:0}"),a.exports=l.View.extend({tmpl:function(e,t,a,l,r,i,s,n){if(a||(a=e),!r){var c={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},o=/[&<>"'`]/g,u=function(e){return"&"+c[e]+";"};r=function(e){return""+(null==e?"":e)},l=function(e){return r(e).replace(o,u)}}if(!i){var d={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},p=function(e){return d[e]},_=/[!')(*]/g;i=function(e){return encodeURIComponent(r(e)).replace(_,p)}}if(!n){var g=/[\\'"]/g;n=function(e){return r(e).replace(g,"\\$&")}}var x="",h=e.needExpand,v=e.close,f=e.prefix,m=e.maxHeight,y=e.list,z=e.parentPrefix,j=e.viewId,b=e.selected;h&&(x+='<div mxa="_zs_gallerycl:_" class="_zs_galleryje _zs_galleryjg" mx-click="'+t+'__cS()">一键',x+=v?"展开":"收起",f&&(x+=l(f)),x+="</div>"),x+='<div mxv class="scroll-y" ',m&&(x+=' style="max-height: '+l(m)+'px;" '),x+=">";for(var V=0,$=y.length;V<$;V++){var w=y[V];x+='<div mxa="_zs_gallerycl:a" class="_zs_galleryje"><label mx-click="'+t+"__cT({index:"+l(V)+'})">',h&&(x+='<i mxa="_zs_gallerycl:b" class="mc-iconfont _zs_galleryjf">',w.close?x+="&#xe65b;":x+="&#xe65a;",x+="</i>"),x+=" ",z&&(x+=" "+l(z)+"： "),x+=" "+l(w.text)+"</label></div>";for(var E=0,k=w.subs,K=k.length;E<K;E++){var H=k[E];x+='<div mxv class="_zs_galleryje _zs_galleryjh ',w.close&&(x+=" _zs_galleryji "),x+='"><label mxv><input class="radio" type="radio" value="'+l(H.value)+'" name="'+l(j)+'_radio" ',b==H.value&&(x+=' checked="true" '),x+=' mx-change="'+t+"__bV({value:"+l(H.value)+'})"/>',f&&(x+=" "+l(f)+"： "),x+=" "+l(H.text)+"</label></div>"}x+=" "}return x+="</div>"},init:function(e){this.updater.snapshot(),this.$map={},this.assign(e)},assign:function(e){var t=this,a=t.updater.altered(),l=e.needExpand+""!="false",r=e.close+""=="true";l||(r=!1);var i=e.parentTextKey||"text",s=e.textKey||"text",n=e.valueKey||"value",c=e.subKey||"subs",o=[];(e.list||[]).forEach(function(e){var a={text:e[i],subs:e[c].map(function(e){return{text:e[s],value:e[n]}})};a.pValue=t.__cR(a),a.close=t.$map[a.pValue]||r,o.push(a)});var u=e.selected||"",d=e.parentPrefix||"",p=e.prefix||"",_=e.maxHeight||"";return t.updater.set({viewId:t.id,needExpand:l,close:r,parentPrefix:d,prefix:p,maxHeight:_,list:o,selected:u}),a||(a=t.updater.altered()),!!a&&(t.updater.snapshot(),!0)},render:function(){this.updater.digest();var e=this.updater.get("selected");$("#"+this.id).val(e)},__cR:function(e){return e.subs.map(function(e){return e.value+""}).sort().join("_")},"__cS<click>":function(e){var t=this,a=!this.updater.get("close"),l=this.updater.get("list");l.forEach(function(e){e.close=a,a?t.$map[e.pValue]=!0:delete t.$map[e.pValue]}),t.updater.digest({close:a,list:l})},"__cT<click>":function(e){var t=this,a=e.params.index,l=!0,r=this.updater.get("list");r.forEach(function(e,r){a==r&&(e.close=!e.close,e.close?t.$map[e.pValue]=!0:delete t.$map[e.pValue]),l=l&&e.close}),t.updater.digest({close:l,list:r})},"__bV<change>":function(e){var t=e.params.value;this.updater.digest({selected:t}),$("#"+this.id).val(t)}})});