define("mx-secradio/index",["magix","../mx-medusa/util"],(e,t,a)=>{var i=e("magix"),r=e("../mx-medusa/util");i.applyStyle("_zs_galleryas",":root{--mx-secradio-oper-size:calc(var(--font-size) + 2px)}._zs_galleryiM{position:relative;height:32px;line-height:32px;transition:height .2s;overflow:hidden}._zs_galleryiM ._zs_galleryiN{width:var(--mx-tree-oper-size);height:var(--mx-tree-oper-size);margin-right:5px;line-height:var(--mx-tree-oper-size);font-size:var(--mx-tree-oper-size);transition:color .2s;cursor:pointer;color:#ccc;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}._zs_galleryiM ._zs_galleryiN:hover{color:#666}._zs_galleryiO{cursor:pointer;color:#999}._zs_galleryiP{padding-left:calc(var(--mx-secradio-oper-size) + 5px)}._zs_galleryiP._zs_galleryiQ{height:0}"),a.exports=i.View.extend({tmpl:function(e,t,a,i,r,l,s,n){if(a||(a=e),!r){var c={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},o=/[&<>"'`]/g,u=function(e){return"&"+c[e]+";"};r=function(e){return""+(null==e?"":e)},i=function(e){return r(e).replace(o,u)}}if(!l){var p={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},d=function(e){return p[e]},x=/[!')(*]/g;l=function(e){return encodeURIComponent(r(e)).replace(x,d)}}if(!n){var _=/[\\'"]/g;n=function(e){return r(e).replace(_,"\\$&")}}var g="",v=e.needExpand,h=e.close,m=e.text,f=e.prefix,y=e.maxHeight,z=e.list,b=e.parentPrefix,$=e.viewId,V=e.selected;v&&(g+='<div mxa="_zs_gallerydA:_" class="_zs_galleryiM _zs_galleryiO" mx-click="'+t+'__cX()">',g+=i(h?m.expand:m.collapse),f&&(g+=i(f)),g+="</div>"),g+='<div mxv class="scroll-y" ',y&&(g+=' style="max-height: '+i(y)+'px;" '),g+=">";for(var k=0,w=z.length;k<w;k++){var E=z[k];g+='<div mxa="_zs_gallerydA:a" class="_zs_galleryiM"><label mx-click="'+t+"__cY({index:"+i(k)+'})">',v&&(g+='<i mxa="_zs_gallerydA:b" class="mc-iconfont _zs_galleryiN">',E.close?g+="&#xe65b;":g+="&#xe65a;",g+="</i>"),g+=" ",b&&(g+=i(b)+"："),g+=i(E.text)+"</label></div>";for(var M=0,P=E.subs,A=P.length;M<A;M++){var K=P[M];g+='<div mxv class="_zs_galleryiM _zs_galleryiP ',E.close&&(g+=" _zs_galleryiQ "),g+='"><label mxv><input class="radio" type="radio" value="'+i(K.value)+'" name="'+i($)+'_radio" ',V==K.value&&(g+=' checked="true" '),g+=' mx-change="'+t+"__bW({value:"+i(K.value)+'})"/>',f&&(g+=i(f)+"："),g+=i(K.text)+"</label></div>"}g+=" "}return g+="</div>"},init:function(e){this.updater.snapshot(),this.$map={},this.assign(e)},assign:function(e){var t=this,a=t.updater.altered(),i=e.needExpand+""!="false",l=e.close+""=="true";i||(l=!1);var s=e.parentTextKey||"text",n=e.textKey||"text",c=e.valueKey||"value",o=e.subKey||"subs",u=[];(e.list||[]).forEach(function(e){var a={text:e[s],subs:e[o].map(function(e){return{text:e[n],value:e[c]}})};a.pValue=t.__cW(a),a.close=t.$map[a.pValue]||l,u.push(a)});var p=e.selected||"",d=e.parentPrefix||"",x=e.prefix||"",_=e.maxHeight||"";return t.updater.set({viewId:t.id,needExpand:i,close:l,parentPrefix:d,prefix:x,maxHeight:_,list:u,selected:p,text:{expand:r["secradio.expand"],collapse:r["secradio.collapse"]}}),a||(a=t.updater.altered()),!!a&&(t.updater.snapshot(),!0)},render:function(){this.updater.digest();var e=this.updater.get("selected");$("#"+this.id).val(e)},__cW:function(e){return e.subs.map(function(e){return e.value+""}).sort().join("_")},"__cX<click>":function(e){var t=this,a=!this.updater.get("close"),i=this.updater.get("list");i.forEach(function(e){e.close=a,a?t.$map[e.pValue]=!0:delete t.$map[e.pValue]}),t.updater.digest({close:a,list:i})},"__cY<click>":function(e){var t=this,a=e.params.index,i=!0,r=this.updater.get("list");r.forEach(function(e,r){a==r&&(e.close=!e.close,e.close?t.$map[e.pValue]=!0:delete t.$map[e.pValue]),i=i&&e.close}),t.updater.digest({close:i,list:r})},"__bW<change>":function(e){var t=e.params.value;this.updater.digest({selected:t}),$("#"+this.id).val(t)}})});