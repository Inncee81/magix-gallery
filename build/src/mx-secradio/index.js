define("mx-secradio/index",["magix","../mx-medusa/util"],(e,l,a)=>{var t=e("magix"),r=e("../mx-medusa/util");t.applyStyle("_zs_galleryaw","._zs_gallerykY{box-shadow:0 1px 1px 0 rgba(0,0,0,.08);border:1px solid #f5f5f6}._zs_gallerykZ{position:relative;height:32px;line-height:32px;transition:height .2s;overflow:hidden}._zs_gallerykZ ._zs_galleryl_{width:20px;cursor:pointer;font-size:14px;color:#ccc;transition:color .2s}._zs_gallerykZ ._zs_galleryl_:hover{color:#666}._zs_galleryla{cursor:pointer;color:#999}._zs_gallerylb{padding-left:20px}._zs_gallerylb._zs_gallerylc{height:0}"),a.exports=t.View.extend({tmpl:function(e,l,a,t,r,s,i,n){if(a||(a=e),!r){var c={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},o=/[&<>"'`]/g,d=function(e){return"&"+c[e]+";"};r=function(e){return""+(null==e?"":e)},t=function(e){return r(e).replace(o,d)}}if(!s){var u={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},p=function(e){return u[e]},_=/[!')(*]/g;s=function(e){return encodeURIComponent(r(e)).replace(_,p)}}if(!n){var x=/[\\'"]/g;n=function(e){return r(e).replace(x,"\\$&")}}var g="",v=e.needExpand,f=e.close,h=e.text,m=e.prefix,y=e.maxHeight,z=e.list,b=e.parentPrefix,k=e.viewId,$=e.selected;v&&(g+='<div mxa="_zs_gallerydC:_" class="_zs_gallerykZ _zs_galleryla" mx-click="'+l+'__dk()">',g+=t(f?h.expand:h.collapse),m&&(g+=t(m)),g+="</div>"),g+='<div mxv class="scroll-y" ',y&&(g+=' style="max-height: '+t(y)+'px;" '),g+=">";for(var w=0,V=z.length;w<V;w++){var E=z[w];g+='<div mxa="_zs_gallerydC:a" class="_zs_gallerykZ"><label mx-click="'+l+"__dl({index:"+t(w)+'})">',v&&(g+='<i mxa="_zs_gallerydC:b" class="mc-iconfont _zs_galleryl_">',E.close?g+="&#xe65b;":g+="&#xe65a;",g+="</i>"),g+=" ",b&&(g+=" "+t(b)+"： "),g+=" "+t(E.text)+"</label></div>";for(var Z=0,C=E.subs,K=C.length;Z<K;Z++){var j=C[Z];g+='<div mxv class="_zs_gallerykZ _zs_gallerylb ',E.close&&(g+=" _zs_gallerylc "),g+='"><label mxv><input class="radio" type="radio" value="'+t(j.value)+'" name="'+t(k)+'_radio" ',$==j.value&&(g+=' checked="true" '),g+=' mx-change="'+l+"__bT({value:"+t(j.value)+'})"/>',m&&(g+=" "+t(m)+"： "),g+=" "+t(j.text)+"</label></div>"}g+=" "}return g+="</div>"},init:function(e){this.updater.snapshot(),this.$map={},this.assign(e)},assign:function(e){var l=this,a=l.updater.altered(),t=e.needExpand+""!="false",s=e.close+""=="true";t||(s=!1);var i=e.parentTextKey||"text",n=e.textKey||"text",c=e.valueKey||"value",o=e.subKey||"subs",d=[];(e.list||[]).forEach(function(e){var a={text:e[i],subs:e[o].map(function(e){return{text:e[n],value:e[c]}})};a.pValue=l.__dj(a),a.close=l.$map[a.pValue]||s,d.push(a)});var u=e.selected||"",p=e.parentPrefix||"",_=e.prefix||"",x=e.maxHeight||"";return l.updater.set({viewId:l.id,needExpand:t,close:s,parentPrefix:p,prefix:_,maxHeight:x,list:d,selected:u,text:{expand:r["secradio.expand"],collapse:r["secradio.collapse"]}}),a||(a=l.updater.altered()),!!a&&(l.updater.snapshot(),!0)},render:function(){this.updater.digest();var e=this.updater.get("selected");$("#"+this.id).val(e)},__dj:function(e){return e.subs.map(function(e){return e.value+""}).sort().join("_")},"__dk<click>":function(e){var l=this,a=!this.updater.get("close"),t=this.updater.get("list");t.forEach(function(e){e.close=a,a?l.$map[e.pValue]=!0:delete l.$map[e.pValue]}),l.updater.digest({close:a,list:t})},"__dl<click>":function(e){var l=this,a=e.params.index,t=!0,r=this.updater.get("list");r.forEach(function(e,r){a==r&&(e.close=!e.close,e.close?l.$map[e.pValue]=!0:delete l.$map[e.pValue]),t=t&&e.close}),l.updater.digest({close:t,list:r})},"__bT<change>":function(e){var l=e.params.value;this.updater.digest({selected:l}),$("#"+this.id).val(l)}})});