define("mx-secradio/index",["magix","../mx-medusa/util"],(e,l,a)=>{var t=e("magix"),r=e("../mx-medusa/util");t.applyStyle("_zs_galleryav","._zs_gallerylj{box-shadow:0 1px 1px 0 rgba(0,0,0,.08);border:1px solid #f5f5f6}._zs_gallerylk{position:relative;height:32px;line-height:32px;transition:height .2s;overflow:hidden}._zs_gallerylk ._zs_galleryll{width:20px;cursor:pointer;font-size:14px;color:#ccc;transition:color .2s}._zs_gallerylk ._zs_galleryll:hover{color:#666}._zs_gallerylm{cursor:pointer;color:#999}._zs_galleryln{padding-left:20px}._zs_galleryln._zs_gallerylo{height:0}"),a.exports=t.View.extend({tmpl:function(e,l,a,t,r,s,i,n){if(a||(a=e),!r){var c={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},o=/[&<>"'`]/g,u=function(e){return"&"+c[e]+";"};r=function(e){return""+(null==e?"":e)},t=function(e){return r(e).replace(o,u)}}if(!s){var d={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},p=function(e){return d[e]},_=/[!')(*]/g;s=function(e){return encodeURIComponent(r(e)).replace(_,p)}}if(!n){var x=/[\\'"]/g;n=function(e){return r(e).replace(x,"\\$&")}}var g="",v=e.needExpand,f=e.close,h=e.text,m=e.prefix,y=e.maxHeight,z=e.list,b=e.parentPrefix,k=e.viewId,$=e.selected;v&&(g+='<div mxa="_zs_galleryc-:_" class="_zs_gallerylk _zs_gallerylm" mx-click="'+l+'__cT()">',g+=t(f?h.expand:h.collapse),m&&(g+=t(m)),g+="</div>"),g+='<div mxv class="scroll-y" ',y&&(g+=' style="max-height: '+t(y)+'px;" '),g+=">";for(var V=0,w=z.length;V<w;V++){var E=z[V];g+='<div mxa="_zs_galleryc-:a" class="_zs_gallerylk"><label mx-click="'+l+"__cU({index:"+t(V)+'})">',v&&(g+='<i mxa="_zs_galleryc-:b" class="mc-iconfont _zs_galleryll">',E.close?g+="&#xe65b;":g+="&#xe65a;",g+="</i>"),g+=" ",b&&(g+=" "+t(b)+"： "),g+=" "+t(E.text)+"</label></div>";for(var K=0,H=E.subs,I=H.length;K<I;K++){var P=H[K];g+='<div mxv class="_zs_gallerylk _zs_galleryln ',E.close&&(g+=" _zs_gallerylo "),g+='"><label mxv><input class="radio" type="radio" value="'+t(P.value)+'" name="'+t(k)+'_radio" ',$==P.value&&(g+=' checked="true" '),g+=' mx-change="'+l+"__ca({value:"+t(P.value)+'})"/>',m&&(g+=" "+t(m)+"： "),g+=" "+t(P.text)+"</label></div>"}g+=" "}return g+="</div>"},init:function(e){this.updater.snapshot(),this.$map={},this.assign(e)},assign:function(e){var l=this,a=l.updater.altered(),t=e.needExpand+""!="false",s=e.close+""=="true";t||(s=!1);var i=e.parentTextKey||"text",n=e.textKey||"text",c=e.valueKey||"value",o=e.subKey||"subs",u=[];(e.list||[]).forEach(function(e){var a={text:e[i],subs:e[o].map(function(e){return{text:e[n],value:e[c]}})};a.pValue=l.__cS(a),a.close=l.$map[a.pValue]||s,u.push(a)});var d=e.selected||"",p=e.parentPrefix||"",_=e.prefix||"",x=e.maxHeight||"";return l.updater.set({viewId:l.id,needExpand:t,close:s,parentPrefix:p,prefix:_,maxHeight:x,list:u,selected:d,text:{expand:r["secradio.expand"],collapse:r["secradio.collapse"]}}),a||(a=l.updater.altered()),!!a&&(l.updater.snapshot(),!0)},render:function(){this.updater.digest();var e=this.updater.get("selected");$("#"+this.id).val(e)},__cS:function(e){return e.subs.map(function(e){return e.value+""}).sort().join("_")},"__cT<click>":function(e){var l=this,a=!this.updater.get("close"),t=this.updater.get("list");t.forEach(function(e){e.close=a,a?l.$map[e.pValue]=!0:delete l.$map[e.pValue]}),l.updater.digest({close:a,list:t})},"__cU<click>":function(e){var l=this,a=e.params.index,t=!0,r=this.updater.get("list");r.forEach(function(e,r){a==r&&(e.close=!e.close,e.close?l.$map[e.pValue]=!0:delete l.$map[e.pValue]),t=t&&e.close}),l.updater.digest({close:t,list:r})},"__ca<change>":function(e){var l=e.params.value;this.updater.digest({selected:l}),$("#"+this.id).val(l)}})});