define("__test__/pro/top",["magix","../example","mx-effects/notice","mx-title/second","mx-pagination/index","mx-copy/index","../hl"],(e,t,a)=>{e("mx-effects/notice"),e("mx-title/second"),e("mx-pagination/index"),e("mx-copy/index"),e("../hl");var n=e("magix").Router,l=e("../example");a.exports=l.extend({tmpl:function(e,t,a,n,l,i,r,s){if(a||(a=e),!l){var g={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},c=/[&<>"'`]/g,d=function(e){return"&"+g[e]+";"};l=function(e){return""+(null==e?"":e)},n=function(e){return l(e).replace(c,d)}}if(!i){var o={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},x=function(e){return o[e]},_=/[!')(*]/g;i=function(e){return encodeURIComponent(l(e)).replace(_,x)}}if(!s){var m=/[\\'"]/g;s=function(e){return l(e).replace(m,"\\$&")}}var p="",u=e.contents,v=e.list,z=e.count,h=e.pageSize,y=e.currentPage,f=e.viewId,b=e.text1,P=e.text2;p+='<div class="mb20 mr20" mx-view="mx-effects/notice?border=true&content='+i(u)+'"></div><div mxs="_zs_galleryO:_" mx-view="mx-title/second?content=%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B"></div><div mxa="_zs_galleryO:_" class="_zs_galleryh"><div mxa="_zs_galleryO:a" class="_zs_galleryk"><div mxs="_zs_galleryO:a" class="clearfix mb20"><div class="fl color-9">以下示例：</div><div class="fl">翻页的时候返回顶部</div></div><table mxa="_zs_galleryO:b" class="table"><thead mxs="_zs_galleryO:b"><tr><th>name</th><th>text</th></tr></thead><tbody>';for(var O=0,S=v.length;O<S;O++){var w=v[O];p+="<tr><td>"+n(w.name)+"</td><td>"+n(w.text)+"</td></tr>"}return p+='</tbody></table><div mxa="_zs_galleryO:c" class="table-pager-wrapper"><div mx-change="'+t+'changePager()" mx-view="mx-pagination/index?total='+i(z)+"&size="+i(h)+"&page="+i(y)+'"></div></div></div><div mxa="_zs_galleryO:d" class="clearfix"><div mxa="_zs_galleryO:e" class="_zs_galleryl _zs_gallerya"><div mxs="_zs_galleryO:c" class="_zs_galleryj">HTML Code</div><div class="_zs_gallerym" mx-success="'+t+'done({id:1})" mx-view="mx-copy/index?copyNode='+i(f)+'_text_1"><span mxa="_zs_galleryO:f" class="_zs_galleryo">'+l(b)+'</span><i mxs="_zs_galleryO:d" class="mc-iconfont _zs_galleryn">&#xe610;</i></div><pre mx-view="__test__/hl" id="'+n(f)+'_text_1">\n&lt;table class="table"&gt;\n    &lt;thead&gt;\n        &lt;tr&gt;\n            &lt;th&gt;name&lt;/th&gt;\n            &lt;th&gt;text&lt;/th&gt;\n        &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;tbody&gt;\n        &#123;&#123;each list as item&#125;&#125;\n        &lt;tr&gt;\n            &lt;td&gt;&#123;&#123;=item.name&#125;&#125;&lt;/td&gt;\n            &lt;td&gt;&#123;&#123;=item.text&#125;&#125;&lt;/td&gt;\n        &lt;/tr&gt;\n        &#123;&#123;/each&#125;&#125;\n    &lt;/tbody&gt;\n&lt;/table&gt;\n&lt;div class="table-pager-wrapper"&gt;\n    &lt;mx-pagination \n        total="&#123;&#123;=count&#125;&#125;" \n        size="&#123;&#123;=pageSize&#125;&#125;" \n        page="&#123;&#123;=currentPage&#125;&#125;" \n        mx-change="changePager()" /&gt;\n&lt;/div&gt;</pre></div><div mxa="_zs_galleryO:g" class="_zs_galleryl _zs_galleryb _zs_galleryf"><div mxs="_zs_galleryO:e" class="_zs_galleryj">JS Code</div><div class="_zs_gallerym" mx-success="'+t+'done({id:2})" mx-view="mx-copy/index?copyNode='+i(f)+'_text_2"><span mxa="_zs_galleryO:h" class="_zs_galleryo">'+l(P)+'</span><i mxs="_zs_galleryO:d" class="mc-iconfont _zs_galleryn">&#xe610;</i></div><pre mx-view="__test__/hl" id="'+n(f)+"_text_2\">\nlet Magix = require('magix');\nlet Router = Magix.Router;\n\nmodule.exports = Magix.View.extend(&#123;\n    tmpl: '@index.html',\n    init() &#123;\n        let that = this;\n        that.observeLocation(['currentPage', 'pageSize']);\n        that.scrollIfNeed('body', ['currentPage', 'pageSize']);\n\n        let list = [], count = 100;\n        for (let index = 0; index &lt; count; index++) &#123;\n            list.push(&#123;\n                name: 'name' + (index + 1),\n                text: 'text' + (index + 1)\n            &#125;)\n        &#125;\n\n        that.updater.set(&#123;\n            allList: list,\n            count: count\n        &#125;)\n    &#125;,\n    render() &#123;\n        let that = this;\n        let data = that.updater.get();\n        let locParams = Router.parse().params;\n        let allList = data.allList;\n        let currentPage = locParams.currentPage || 1,\n            pageSize = locParams.pageSize || 20;\n\n        let list = allList.slice((currentPage - 1) * pageSize, currentPage * pageSize);\n        that.updater.digest(&#123;\n            list,\n            currentPage,\n            pageSize\n        &#125;);\n    &#125;,\n    'changePager&lt;change&gt;'(e) &#123;\n        // e.page 当前第几页\n        // e.size 每页多少条\n        Router.to(&#123;\n            currentPage: e.page,\n            pageSize: e.size\n        &#125;)\n    &#125;\n&#125;);</pre></div></div></div>"},init:function(){this.observeLocation(["currentPage","pageSize"]),this.scrollIfNeed("body",["currentPage","pageSize"]);for(var e=[],t=0;t<100;t++)e.push({name:"name"+(t+1),text:"text"+(t+1)});this.updater.set({allList:e,count:100,contents:["脚手架 boot.ts 中 merge 文件 lib/scroll.js，view 上挂载 scrollIfNeed，该方式监听参数变动返回容器顶部","this.scrollIfNeed('相对滚定的节点，如body',['参数1', '参数2']);"].join("<br />")})},render:function(){var e=this.updater.get(),t=n.parse().params,a=e.allList,l=t.currentPage||1,i=t.pageSize||20,r=a.slice((l-1)*i,l*i);this.updater.digest({list:r,currentPage:l,pageSize:i})},"changePager<change>":function(e){n.to({currentPage:e.page,pageSize:e.size})}})});