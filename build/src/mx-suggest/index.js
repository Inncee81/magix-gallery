define("mx-suggest/index",["magix","$","../mx-monitor/index"],(t,a,e)=>{var r=t("magix"),s=t("$");r.applyStyle("_zs_galleryaj",'._zs_galleryjP{box-shadow:0 2px 4px rgba(51,51,51,.08);border:1px solid #eee}@keyframes _zs_gallerys{0%{transform:translateY(-20%);-ms-transform:translateY(-20%);-moz-transform:translateY(-20%);-webkit-transform:translateY(-20%);-o-transform:translateY(-20%);opacity:0}to{transform:translate(0);-ms-transform:translate(0);-moz-transform:translate(0);-webkit-transform:translate(0);-o-transform:translate(0);opacity:1}}@-webkit-keyframes _zs_gallerys{0%{transform:translateY(-20%);-ms-transform:translateY(-20%);-moz-transform:translateY(-20%);-webkit-transform:translateY(-20%);-o-transform:translateY(-20%);opacity:0}to{transform:translate(0);-ms-transform:translate(0);-moz-transform:translate(0);-webkit-transform:translate(0);-o-transform:translate(0);opacity:1}}@keyframes _zs_galleryt{0%{transform:translateY(20%);-ms-transform:translateY(20%);-moz-transform:translateY(20%);-webkit-transform:translateY(20%);-o-transform:translateY(20%);opacity:0}to{transform:translate(0);-ms-transform:translate(0);-moz-transform:translate(0);-webkit-transform:translate(0);-o-transform:translate(0);opacity:1}}@-webkit-keyframes _zs_galleryt{0%{transform:translateY(20%);-ms-transform:translateY(20%);-moz-transform:translateY(20%);-webkit-transform:translateY(20%);-o-transform:translateY(20%);opacity:0}to{transform:translate(0);-ms-transform:translate(0);-moz-transform:translate(0);-webkit-transform:translate(0);-o-transform:translate(0);opacity:1}}@keyframes _zs_galleryu{0%{transform:translate(0);-ms-transform:translate(0);-moz-transform:translate(0);-webkit-transform:translate(0);-o-transform:translate(0)}25%{transform:translateY(-15%);-ms-transform:translateY(-15%);-moz-transform:translateY(-15%);-webkit-transform:translateY(-15%);-o-transform:translateY(-15%)}75%{transform:translateY(15%);-ms-transform:translateY(15%);-moz-transform:translateY(15%);-webkit-transform:translateY(15%);-o-transform:translateY(15%)}to{transform:translate(0);-ms-transform:translate(0);-moz-transform:translate(0);-webkit-transform:translate(0);-o-transform:translate(0)}}@-webkit-keyframes _zs_galleryu{0%{transform:translate(0);-ms-transform:translate(0);-moz-transform:translate(0);-webkit-transform:translate(0);-o-transform:translate(0)}25%{transform:translateY(-15%);-ms-transform:translateY(-15%);-moz-transform:translateY(-15%);-webkit-transform:translateY(-15%);-o-transform:translateY(-15%)}75%{transform:translateY(15%);-ms-transform:translateY(15%);-moz-transform:translateY(15%);-webkit-transform:translateY(15%);-o-transform:translateY(15%)}to{transform:translate(0);-ms-transform:translate(0);-moz-transform:translate(0);-webkit-transform:translate(0);-o-transform:translate(0)}}[mx-view*="mx-suggest/index"]{display:inline-block}[mx-view*="mx-suggest/index"] ._zs_galleryjQ{padding:40px 0}._zs_galleryjR,._zs_galleryjS{position:relative;height:32px}._zs_galleryjR ._zs_galleryjT,._zs_galleryjS ._zs_galleryjT{display:none;position:absolute;top:100%;z-index:99;min-width:100%;max-height:300px;margin-top:10px;padding:8px 10px;border-radius:4px;background-color:#fff;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;overflow-y:auto;box-shadow:0 2px 4px rgba(51,51,51,.08);border:1px solid #eee}._zs_galleryjR ._zs_galleryjT ._zs_galleryjU,._zs_galleryjS ._zs_galleryjT ._zs_galleryjU{margin:2px 0;padding:0 10px;cursor:pointer;height:26px;line-height:26px;border-radius:4px;white-space:nowrap;word-break:break-all}._zs_galleryjR ._zs_galleryjT ._zs_galleryjU:hover,._zs_galleryjS ._zs_galleryjT ._zs_galleryjU:hover{background-color:#f0f0f0}._zs_galleryjR ._zs_galleryjT ._zs_galleryjU._zs_galleryjV,._zs_galleryjR ._zs_galleryjT ._zs_galleryjU._zs_galleryjV:active,._zs_galleryjR ._zs_galleryjT ._zs_galleryjU._zs_galleryjV:focus,._zs_galleryjR ._zs_galleryjT ._zs_galleryjU._zs_galleryjV:hover,._zs_galleryjS ._zs_galleryjT ._zs_galleryjU._zs_galleryjV,._zs_galleryjS ._zs_galleryjT ._zs_galleryjU._zs_galleryjV:active,._zs_galleryjS ._zs_galleryjT ._zs_galleryjU._zs_galleryjV:focus,._zs_galleryjS ._zs_galleryjT ._zs_galleryjU._zs_galleryjV:hover{color:#fff;background-color:#4d7fff}._zs_galleryjR ._zs_galleryjT._zs_galleryjW,._zs_galleryjS ._zs_galleryjT._zs_galleryjW{display:block;-webkit-animation:_zs_gallerys .25s ease-out;animation:_zs_gallerys .25s ease-out;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}._zs_galleryjS ._zs_galleryjT{right:0}._zs_galleryjR ._zs_galleryjT{left:0}');var l=t("../mx-monitor/index");e.exports=r.View.extend({tmpl:function(t,a,e,r,s,l,n,o){if(e||(e=t),!s){var _={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},i=/[&<>"'`]/g,m=function(t){return"&"+_[t]+";"};s=function(t){return""+(null==t?"":t)},r=function(t){return s(t).replace(i,m)}}if(!l){var f={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},g=function(t){return f[t]},d=/[!')(*]/g;l=function(t){return encodeURIComponent(s(t)).replace(d,g)}}if(!o){var u=/[\\'"]/g;o=function(t){return s(t).replace(u,"\\$&")}}n||(n=function(t,a,e,r){for(r=t[y];--r;)if(t[e=y+r]===a)return e;return t[e=y+t[y]++]=a,e});var y="",c="",p=t.align,z=t.placeholder,h=t.viewId,j=t.selectText,x=t.show,v=t.loading,k=t.list,b=t.selectedValue;if(c+='<div mxv class="search-box ',c+="right"==p?" _zs_galleryjS ":" _zs_galleryjR ",c+='"><i mxs="_zs_gallerycX:_" class="mc-iconfont search-icon">&#xe651;</i><input class="input search-input" placeholder="'+r(z)+'" id="'+r(h)+'_input" value="'+r(j)+'" mx-keyup="'+a+'__du()" mx-paste="'+a+'__du()" mx-focusin="'+a+'__du()" mx-focusout="'+a+'__l()" mx-change="'+a+'__l()"/><ul class="_zs_galleryjT ',x&&(c+=" _zs_galleryjW "),c+='">',v)c+='<div mxs="_zs_gallerycX:a" class="loading loading-ext _zs_galleryjQ"><span class="loading-anim"></span></div>';else{if(c+=" ",k.length>0){c+=" ";for(var w=0,Y=k.length;w<Y;w++){var T=k[w];c+='<li class="_zs_galleryjU ',b+""==T.value+""&&(c+=" _zs_galleryjV "),c+='" mx-click="'+a+"__bG({item:'"+n(e,T)+"'})\">"+r(T.text)+"</li>"}c+=" "}else c+='<li mxs="_zs_gallerycX:b" class="text-center color-9">无匹配选项</li>';c+=" "}return c+="</ul></div>"},init:function(t){var a=this;a.updater.snapshot(),a.assign(t),l.__f(),a.on("destroy",function(){l.__g(a),l.__h(),a.__dp&&clearTimeout(a.__dp)})},assign:function(t){var a=this.updater.altered(),e=t.placeholder||"";e||(e="搜索"),this["key.value"]=t.listValue||"value",this["key.text"]=t.listText||"text";var r=this.__dq(t.list),l=t.selected||"",n="";if(l)for(var o=0;o<r.length;o++)if(r[o].value==l){n=r[o].text;break}this.__dr=l,this.__ds=r;var _=(t.type||"text")+"";return"all"==_&&(_="text,value"),this.__dt=_.split(","),this.__j=s("#"+this.id),this.updater.set({viewId:this.id,list:r,selectedValue:l,selectText:n,placeholder:e,align:t.align||"left",show:!1}),a||(a=this.updater.altered()),!!a&&(this.updater.snapshot(),!0)},__dq:function(t){var a=this["key.value"],e=this["key.text"],r=[];return t&&t.length>0&&(r="object"==typeof t[0]?t.map(function(t){return{value:t[a],text:t[e]}}):t.map(function(t){return{value:t,text:t}})),r},render:function(){this.updater.digest()},"__du<focusin,keyup,paste>":function(t){t.stopPropagation();var a=this;a.__dp&&clearTimeout(a.__dp);for(var e=a.updater.get(),r=e.list,s=e.selectedValue,l=-1,n=0;n<r.length;n++)if(r[n].value==s){l=n;break}40==t.keyCode||38==t.keyCode?(40==t.keyCode&&(l+=1)>=r.length&&(l=0),38==t.keyCode&&(l-=1)<0&&(l=r.length-1),a.updater.digest({selectedValue:r[l].value})):13==t.keyCode?(l<0&&(l=0),a.__dr=r[l].value,a.__m(),a.__bX()):a.__dp=setTimeout(a.wrapAsync(function(){a.__n()}),300)},__m:function(){for(var t=this.updater.get().list,a=this.__dr+"",e="",r=0;r<t.length;r++){var s=t[r];if(s.value+""===a){e=s.text;break}}this.updater.digest({selectedValue:a,selectText:e,show:!1}),l.__g(this)},showLoading:function(){this.updater.digest({loading:!0})},hideLoading:function(){this.updater.digest({loading:!1})},update:function(t){this.__ds=this.__dq(t);var a=s("#"+this.id+"_input").val();this.updater.digest({list:this.__ds,selectText:a,show:!0}),l.__p(this)},__n:function(t){var a=this.__ds,e=s("#"+this.id+"_input").val(),r=(e+"").toLowerCase(),n=[],o=this.__dt;a.forEach(function(t){var a=!1;o.forEach(function(e){(t[e]+"").toLowerCase().indexOf(r)>-1&&(a=!0)}),a&&n.push(t)}),this.updater.digest({list:n,selectText:e,show:!0}),l.__p(this),this.__j.trigger({type:"show",keyword:e})},__k:function(t){return r.inside(t,this.id)},"__l<change,focusout>":function(t){t.stopPropagation()},"__bG<click>":function(t){t.stopPropagation();var a=t.params.item;this.updater.digest({selectText:a.text,selectedValue:this.__dr=a.value,show:!1}),this.__bX()},__bX:function(){var t=this.updater.get("selectedValue"),a=this.updater.get("selectText");this.__j.val(t).trigger({type:"suggest",selected:{value:t,text:a}})}})});