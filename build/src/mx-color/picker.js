define("mx-color/picker",["magix","$","../mx-monitor/index","./index"],(i,e,t)=>{var r=i("magix"),o=i("$"),a=i("../mx-monitor/index");i("./index"),r.applyStyle("_zs_galleryC",'._zs_gallerydD{box-shadow:0 1px 1px 0 rgba(0,0,0,.08);border:1px solid #f5f5f6}[mx-view*="mx-color/picker"]{display:inline-block;position:relative;vertical-align:middle}[mx-view*="mx-color/picker"] ._zs_gallerydE{display:none;position:absolute;z-index:1000;width:246px}[mx-view*="mx-color/picker"] ._zs_gallerydE._zs_gallerydF{display:block;-webkit-animation:fade-in-down .25s ease-out;animation:fade-in-down .25s ease-out;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}[mx-view*="mx-color/picker"] ._zs_gallerydG{width:100%;min-width:246px}[mx-view*="mx-color/index"]{position:relative;display:inline-block;z-index:1;padding:10px;background-color:#fff;border:1px solid #e6e6e6;border-radius:4px}._zs_gallerydH,._zs_gallerydI,._zs_gallerydJ{width:224px}._zs_gallerydH{margin:10px 0}._zs_gallerydK{position:relative;float:left;width:15px;height:15px;margin:-1px 0 0 -1px;border:1px solid #333;cursor:pointer}._zs_gallerydK._zs_gallerydL:after,._zs_gallerydK._zs_gallerydL:before{content:" ";position:absolute;left:0;top:0;width:100%;height:100%}._zs_gallerydK._zs_gallerydL:before{z-index:2;border:1px solid #fff}._zs_gallerydK._zs_gallerydL:after{z-index:1;border:2px solid #333}._zs_gallerydM{float:left;position:relative;width:196px;height:196px;cursor:pointer}._zs_gallerydM ._zs_gallerydN{position:absolute;width:8px;height:8px;box-shadow:0 0 0 1.5px #fff,inset 0 0 1px 1px rgba(0,0,0,.3),0 0 1px 2px rgba(0,0,0,.4);border-radius:50%}._zs_gallerydO{float:right;position:relative;width:18px;height:196px;cursor:pointer}._zs_gallerydO ._zs_gallerydP{position:absolute;right:-6px;top:-6px;width:0;height:0;background-color:none;border:6px solid transparent;border-right-color:#333;border-left:none}._zs_gallerydQ{width:104px}._zs_gallerydR{height:32px;width:50px;margin-right:10px;border-radius:4px;border:1px solid #e6e6e6}._zs_gallerydS{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAIAAADZF8uwAAAAGUlEQVQYV2M4gwH+YwCGIasIUwhT25BVBADtzYNYrHvv4gAAAABJRU5ErkJggg==);width:224px;height:12px;margin-bottom:10px}._zs_gallerydT{height:100%}._zs_gallerydU{position:absolute;left:-2px;top:2px;height:8px;width:4px;box-shadow:0 0 0 1.5px #fff,inset 0 0 1px 1px rgba(0,0,0,.3),0 0 1px 2px rgba(0,0,0,.4);background:#fff}'),t.exports=r.View.extend({tmpl:function(i,e,t,r,o,a,l,n){if(t||(t=i),!o){var d={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},s=/[&<>"'`]/g,p=function(i){return"&"+d[i]+";"};o=function(i){return""+(null==i?"":i)},r=function(i){return o(i).replace(s,p)}}if(!a){var _={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},g=function(i){return _[i]},h=/[!')(*]/g;a=function(i){return encodeURIComponent(o(i)).replace(h,g)}}if(!n){var x=/[\\'"]/g;n=function(i){return o(i).replace(x,"\\$&")}}l||(l=function(i,e,t,r){for(r=i[f];--r;)if(i[t=f+r]===e)return t;return i[t=f+i[f]++]=e,t});var f="",c="",u=i.viewId,w=i.info,m=i.show,y=i.left,b=i.top;return c+='<div class="input _zs_gallerydG" id="input_'+r(u)+'" mx-click="'+e+'__o()" mx-change="'+e+'__l()">'+r(w.color)+'</div><div mxv="info" class="_zs_gallerydE ',m&&(c+="_zs_gallerydF"),c+='" id="cpcnt_'+r(u)+'" style="left:'+r(y)+"px;top:"+r(b)+'px;" mx-view="mx-color/index?data='+l(t,w)+'" mx-change="'+e+'__as()"></div>'},init:function(i){var e=this;a.__f(),e.on("destroy",function(){a.__g(e),a.__h()}),e.updater.snapshot(),e.assign(i)},assign:function(i){var e=this.updater.altered(),t=i.color||"";return this.updater.set({viewId:this.id,align:i.align,info:{showBtns:!0,showAlpha:i.showAlpha,color:t}}),this.__j=o("#"+this.id),this.__j.val(t),e||(e=this.updater.altered()),!!e&&(this.updater.snapshot(),!0)},render:function(){this.updater.digest({})},"__l<change>":function(i){i.stopPropagation()},"__o<click>":function(i){i.preventDefault(),this.updater.get("show")?this.__m():this.__n()},__n:function(){var i=this.updater;if(!i.get("show")){i.digest({show:!0});var e=o("#input_"+this.id),t=o("#cpcnt_"+this.id),r=0,l=e.outerHeight()+10;"right"==i.get("align")&&(r=e.outerWidth()-t.outerWidth()),i.digest({top:l,left:r}),a.__p(this)}},__m:function(){if(this.updater.get("show")){var i=this.updater.get("info"),e=this.__j.val();i.color=e,this.updater.digest({show:!1,info:i}),a.__g(this)}},__k:function(i){var e=r.inside(i,this.id)||r.inside(i,this.__j[0]);if(!e)for(var t=this.owner.children(),o=t.length-1;o>=0;o--){var a=r.Vframe.get(t[o]);if(a&&(e=a.invoke("__k",[i])),e)break}return e},"__as<change>":function(i){i.stopPropagation();this.__j.val(i.color).trigger({type:"change",color:i.color}),this.__m()}})});