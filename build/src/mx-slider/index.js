define("mx-slider/index",["magix","$","../mx-dragdrop/index"],(_,e,a)=>{"use strict";e.__esModule=!0;var l=_("magix"),r=_("$"),s=_("../mx-dragdrop/index");l.applyStyle("_zs_galleryl",'._zs_galleryjj{box-shadow:0 2px 4px rgba(51,51,51,.08);border:1px solid #eee}[mx-view*="mx-slider/index"],[mx-view*="mx-slider/range"]{position:relative;display:inline-block;outline:0;cursor:pointer}[mx-view*="mx-slider/index"] ._zs_galleryjk,[mx-view*="mx-slider/range"] ._zs_galleryjk{position:absolute;top:0;right:-74px;width:64px}[mx-view*="mx-slider/index"][mx-disabled],[mx-view*="mx-slider/range"][mx-disabled]{cursor:not-allowed}[mx-view*="mx-slider/index"][mx-disabled] ._zs_galleryau ._zs_galleryav ._zs_galleryax,[mx-view*="mx-slider/index"][mx-disabled] ._zs_galleryau ._zs_galleryav ._zs_galleryax:before,[mx-view*="mx-slider/index"][mx-disabled] ._zs_galleryau ._zs_galleryav ._zs_galleryaw,[mx-view*="mx-slider/range"][mx-disabled] ._zs_galleryau ._zs_galleryav ._zs_galleryax,[mx-view*="mx-slider/range"][mx-disabled] ._zs_galleryau ._zs_galleryav ._zs_galleryax:before,[mx-view*="mx-slider/range"][mx-disabled] ._zs_galleryau ._zs_galleryav ._zs_galleryaw{background-color:#ccc}._zs_galleryau{line-height:28px}._zs_galleryau ._zs_galleryav{display:inline-block;position:relative;border-radius:2px;background:#f0f0f0}._zs_galleryau ._zs_galleryav ._zs_galleryaw{position:absolute;border-radius:2px;left:0;background-color:#cddbff}._zs_galleryau ._zs_galleryav ._zs_galleryaw._zs_galleryjl{height:4px;top:0}._zs_galleryau ._zs_galleryav ._zs_galleryaw._zs_galleryjm{width:4px;bottom:0}._zs_galleryau ._zs_galleryav ._zs_galleryax{position:absolute;width:8px;height:8px;border-radius:50%;background-color:#4d7fff;outline:0}._zs_galleryau ._zs_galleryav ._zs_galleryax:before{content:" ";position:absolute;top:-4px;left:-4px;width:16px;height:16px;border-radius:50%;background-color:#4d7fff;opacity:.3}._zs_galleryau ._zs_galleryav ._zs_galleryax._zs_galleryjn{top:-2px}._zs_galleryau ._zs_galleryav ._zs_galleryax._zs_galleryjo{left:-2px}._zs_galleryau ._zs_galleryav ._zs_galleryjp{position:absolute;font-size:12px;pointer-events:none;line-height:normal}._zs_galleryau ._zs_galleryav ._zs_galleryjp._zs_galleryjq{top:-23px}._zs_galleryau ._zs_galleryav ._zs_galleryjp._zs_galleryjr{right:12px}._zs_galleryau ._zs_galleryav ._zs_galleryjs,._zs_galleryau ._zs_galleryav ._zs_galleryjt,._zs_galleryau ._zs_galleryav ._zs_galleryju,._zs_galleryau ._zs_galleryav ._zs_galleryjv{position:absolute;font-size:12px;pointer-events:none;line-height:normal}._zs_galleryau ._zs_galleryav ._zs_galleryjs{left:0;top:9px}._zs_galleryau ._zs_galleryav ._zs_galleryjt{right:0;top:9px}._zs_galleryau ._zs_galleryav ._zs_galleryju{bottom:0;left:12px}._zs_galleryau ._zs_galleryav ._zs_galleryjv{top:0;left:12px}._zs_galleryau ._zs_galleryav._zs_galleryjw{height:4px;top:-2px}._zs_galleryau ._zs_galleryav._zs_galleryjx{width:4px;left:8px}._zs_galleryau ._zs_galleryjy{margin-left:3px;color:#999}');a.exports=l.View.extend({tmpl:function(_,e,a,l,r,s,i,t){if(a||(a=_),!r){var n={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},g=/[&<>"'`]/g,d=function(_){return"&"+n[_]+";"};r=function(_){return""+(null==_?"":_)},l=function(_){return r(_).replace(g,d)}}if(!s){var o={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},y=function(_){return o[_]},u=/[!')(*]/g;s=function(_){return encodeURIComponent(r(_)).replace(u,y)}}if(!t){var p=/[\\'"]/g;t=function(_){return r(_).replace(p,"\\$&")}}var c="",z=_.vertical,x=_.height,v=_.width,f=_.min,m=_.max,h=_.needInput,j=_.viewId,b=_.disabled;return c+='<div mxa="_zs_gallerycx:_" class="_zs_galleryau"><span class="_zs_galleryav ',c+=z?" _zs_galleryjx ":" _zs_galleryjw ",c+='" mx-contextmenu="'+e+'__H()" style="',c+=z?"height:"+l(x):"width:"+l(v),c+='px"><span class="_zs_galleryaw ',c+=z?" _zs_galleryjm ":" _zs_galleryjl ",c+='"></span><span class="_zs_galleryax ',c+=z?" _zs_galleryjo ":" _zs_galleryjn ",c+='" mx-mousedown="'+e+'__di()"></span><span class="_zs_galleryjp ',c+=z?" _zs_galleryjr ":" _zs_galleryjq ",c+='"></span><span class="',c+=z?" _zs_galleryju ":" _zs_galleryjs ",c+='">'+l(f)+'</span><span class="',c+=z?" _zs_galleryjv ":" _zs_galleryjt",c+='">'+l(m)+"</span></span></div>",h&&(c+='<input class="input input-small _zs_galleryjk" id="'+l(j)+'_input" ',b&&(c+=' disabled="true" '),c+=' mx-keyup="'+e+'__ai()" mx-focusout="'+e+'__bQ()"/>'),c},mixins:[s],init:function(_){this.assign(_),this.__j=r("#"+this.id)},assign:function(_){var e=this;e.__cl=+_.width||280,e.__cU=+_.height||280,e.__cV=+_.min||0,e.__cW=+_.max||100,e.__cX=+_.step||1,e.__cY=_.tip||"";var a=r("#"+e.id+"[mx-disabled]");e.__cZ=a&&a.length>0,e.__d_=_.vertical+""=="true",e.__da=_.needInput+""=="true"&&!e.__d_;var l,s=e.__cX+"",i=s.indexOf(".");return i=i>=0?s.slice(i+1).length:0,e.__db=i,l=_.value?+_.value:(e.__cW+e.__cV)/2,e.__dc=l,!0},render:function(){var _=this;_.updater.digest({viewId:_.id,min:_.__cV.toFixed(_.__db),max:_.__cW.toFixed(_.__db),width:_.__cl,height:_.__cU,vertical:_.__d_,needInput:_.__da,disabled:_.__cZ}),_.val(_.__dc);var e=_.__j.find("._zs_galleryau");_.__dd=e;var a=function(a){if(!_.__de&&!_.__cZ){var l=e.offset(),r=_.__df(),s=((_.__d_?r.rMax-a.pageY+l.top:a.pageX-l.left)-r.half)/r.max,i=_.__dg(s);_.val(i)}},l=function(e){if(!_.__dh)if(37==e.keyCode||40==e.keyCode){e.preventDefault();var a=+_.__dc;a-=_.__cX,_.val(a)}else if(39==e.keyCode||38==e.keyCode){e.preventDefault();a=+_.__dc;a+=_.__cX,_.val(a)}};e.on("click",a),e.on("keydown",l),_.on("destroy",function(){e.off("click",a),e.off("keydown",l)})},__df:function(){var _=this,e=_.__j.find("._zs_galleryav"),a=_.__j.find("._zs_galleryaw"),l=_.__j.find("._zs_galleryax"),r=_.__j.find("._zs_galleryjp"),s=_.__j.find("._zs_galleryjk"),i=l.outerWidth()/2,t=_.__d_?e.height():e.width();return{rail:e,pLabel:r,inputArea:s,tracker:a,indicator:l,rMax:t,max:t-2*i,half:i}},val:function(_,e){var a=this,l=+_;if(l||0===l){a.__j.prop("value",l);var r=a.__cW,s=a.__cV;l>r?l=r:l<s&&(l=s);var i=(l-s)/(r-s),t=a.__df(),n=i*t.max;a.__d_?t.indicator.css({bottom:n}):t.indicator.css({left:n}),_=a.__dg(i);var g=t.pLabel;g.html(_+(a.__cY?'<span class="_zs_galleryjy">'+a.__cY+"</span>":"")),t.inputArea&&t.inputArea.length&&t.inputArea.val(_);var d,o=n+t.half;if(a.__d_)o-(d=g.height()/2)<0?o=0:o+d>t.rMax?o=t.rMax-2*d:o-=d,g.css({bottom:o});else o<(d=g.width()/2)?o=0:o+d>t.rMax?o=t.rMax-2*d:o-=d,g.css({left:o});a.__d_?t.tracker.height(n+t.half):t.tracker.width(n+t.half),e||(a.__dc!=_&&a.__y(_),a.__dc=_)}return+a.__dc},__dg:function(_){var e,a=this.__cW,l=this.__cV,r=this.__cX;return 0===_?e=l:1===_?e=a:(e=l+(a-l)*_,e=Math.round(e/r)*r),e=e.toFixed(this.__db)},__y:function(_){this.__j.prop("value",+_).trigger({type:"change",value:+_})},"__di<mousedown>":function(_){var e=this;if(!e.__cZ){var a=r(_.eventTarget),l=a.outerWidth(),i=-1;i=e.__d_?a.parent().height()-l:a.parent().width()-l;var t=parseInt(a.css(e.__d_?"bottom":"left"),10),n=e.__dc;e.__dh=1,e.dragdrop(_.eventTarget,function(a){s.clear();var l=-1;(l=e.__d_?t+_.pageY-a.pageY:t+a.pageX-_.pageX)<0?l=0:l>i&&(l=i);var r=l/i;e.val(n=e.__dg(r),!0)},function(){e.__dc!=n&&(e.__dc=n,e.__y(n)),e.__de=!0,setTimeout(e.wrapAsync(function(){delete e.__de}),20),delete e.__dh})}},"__ai<keyup>":function(_){var e=this;_.stopPropagation(),clearTimeout(e.__dj);var a=r.trim(_.eventTarget.value);e.__dj=setTimeout(e.wrapAsync(function(){r.isNumeric(a)&&e.val(a)}),400)},"__bQ<focusout>":function(_){_.stopPropagation();var e=r.trim(_.eventTarget.value);r.isNumeric(e)&&this.val(e)},"__H<contextmenu>":function(_){_.preventDefault()}})});