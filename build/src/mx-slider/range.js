define("mx-slider/range",["magix","$","../mx-dragdrop/index"],(_,l,e)=>{var a=_("magix"),r=_("$"),s=_("../mx-dragdrop/index");a.applyStyle("_zs_galleryaw",'[mx-view*="mx-slider/index"],[mx-view*="mx-slider/range"]{position:relative;display:inline-block;outline:0;cursor:pointer}[mx-view*="mx-slider/index"] ._zs_galleryjk,[mx-view*="mx-slider/range"] ._zs_galleryjk{position:absolute;top:0;right:-74px;width:64px}[mx-view*="mx-slider/index"][mx-disabled],[mx-view*="mx-slider/range"][mx-disabled]{cursor:not-allowed}[mx-view*="mx-slider/index"][mx-disabled] ._zs_galleryjl ._zs_galleryjm ._zs_galleryjn,[mx-view*="mx-slider/index"][mx-disabled] ._zs_galleryjl ._zs_galleryjm ._zs_galleryjn:before,[mx-view*="mx-slider/index"][mx-disabled] ._zs_galleryjl ._zs_galleryjm ._zs_galleryjo,[mx-view*="mx-slider/range"][mx-disabled] ._zs_galleryjl ._zs_galleryjm ._zs_galleryjn,[mx-view*="mx-slider/range"][mx-disabled] ._zs_galleryjl ._zs_galleryjm ._zs_galleryjn:before,[mx-view*="mx-slider/range"][mx-disabled] ._zs_galleryjl ._zs_galleryjm ._zs_galleryjo{background-color:#ccc}._zs_galleryjl{line-height:28px}._zs_galleryjl ._zs_galleryjm{display:inline-block;position:relative;border-radius:2px;background:#f0f0f0}._zs_galleryjl ._zs_galleryjm ._zs_galleryjo{position:absolute;border-radius:2px;left:0;background-color:var(--color-brand-light)}._zs_galleryjl ._zs_galleryjm ._zs_galleryjo._zs_galleryjp{height:4px;top:0}._zs_galleryjl ._zs_galleryjm ._zs_galleryjo._zs_galleryjq{width:4px;bottom:0}._zs_galleryjl ._zs_galleryjm ._zs_galleryjn{width:8px;height:8px;outline:0}._zs_galleryjl ._zs_galleryjm ._zs_galleryjn,._zs_galleryjl ._zs_galleryjm ._zs_galleryjn:before{position:absolute;border-radius:50%;background-color:var(--color-brand)}._zs_galleryjl ._zs_galleryjm ._zs_galleryjn:before{content:" ";top:-4px;left:-4px;width:16px;height:16px;opacity:.3}._zs_galleryjl ._zs_galleryjm ._zs_galleryjn._zs_galleryjr{top:-2px}._zs_galleryjl ._zs_galleryjm ._zs_galleryjn._zs_galleryjs{left:-2px}._zs_galleryjl ._zs_galleryjm ._zs_galleryjt{position:absolute;font-size:var(--font-size);pointer-events:none;line-height:normal}._zs_galleryjl ._zs_galleryjm ._zs_galleryjt._zs_galleryju{top:-23px}._zs_galleryjl ._zs_galleryjm ._zs_galleryjt._zs_galleryjv{right:12px}._zs_galleryjl ._zs_galleryjm ._zs_galleryjw,._zs_galleryjl ._zs_galleryjm ._zs_galleryjx,._zs_galleryjl ._zs_galleryjm ._zs_galleryjy,._zs_galleryjl ._zs_galleryjm ._zs_galleryjz{position:absolute;font-size:var(--font-size);pointer-events:none;line-height:normal}._zs_galleryjl ._zs_galleryjm ._zs_galleryjw{left:0;top:9px}._zs_galleryjl ._zs_galleryjm ._zs_galleryjx{right:0;top:9px}._zs_galleryjl ._zs_galleryjm ._zs_galleryjy{bottom:0;left:12px}._zs_galleryjl ._zs_galleryjm ._zs_galleryjz{top:0;left:12px}._zs_galleryjl ._zs_galleryjm._zs_galleryjA{height:4px;top:-2px}._zs_galleryjl ._zs_galleryjm._zs_galleryjB{width:4px;left:8px}._zs_galleryjl ._zs_galleryjC{margin-left:3px;color:#999}');e.exports=a.View.extend({tmpl:function(_,l,e,a,r,s,t,i){if(e||(e=_),!r){var d={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},n=/[&<>"'`]/g,g=function(_){return"&"+d[_]+";"};r=function(_){return""+(null==_?"":_)},a=function(_){return r(_).replace(n,g)}}if(!s){var o={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},y=function(_){return o[_]},z=/[!')(*]/g;s=function(_){return encodeURIComponent(r(_)).replace(z,y)}}if(!i){var j=/[\\'"]/g;i=function(_){return r(_).replace(j,"\\$&")}}var m="",p=_.vertical,x=_.height,f=_.width,h=_.viewId,c=_.min,u=_.max;return m+='<div mxa="_zs_gallerydQ:_" class="_zs_galleryjl"><span class="_zs_galleryjm',m+=p?" _zs_galleryjB":" _zs_galleryjA",m+='" mx-contextmenu="'+l+'__J()" style="',m+=p?"height:"+a(x):"width:"+a(f),m+='px"><span class="_zs_galleryjo',m+=p?" _zs_galleryjq":" _zs_galleryjp",m+='"></span><span tabindex="0" mx-keydown="'+l+'__ds({start:true})" class="_zs_galleryjn',m+=p?" _zs_galleryjs":" _zs_galleryjr",m+='" mx-mousedown="'+l+'__dm({start:true})" id="left_'+a(h)+'"></span><span class="_zs_galleryjt',m+=p?" _zs_galleryjv":" _zs_galleryju",m+='" id="leftl_'+a(h)+'"></span><span tabindex="0" mx-keydown="'+l+'__ds()" class="_zs_galleryjn',m+=p?" _zs_galleryjs":" _zs_galleryjr",m+='" mx-mousedown="'+l+'__dm({end:true})" id="right_'+a(h)+'"></span><span class="_zs_galleryjt',m+=p?" _zs_galleryjv":" _zs_galleryju",m+='" id="rightl_'+a(h)+'"></span><span class="',m+=p?"_zs_galleryjy":"_zs_galleryjw",m+='">'+a(c)+'</span><span class="',m+=p?"_zs_galleryjz":"_zs_galleryjx",m+='">'+a(u)+"</span></span></div>"},mixins:[s],init:function(_){var l=this,e=r("#"+l.id);l.assign(_);var s=function(_){if(!l.__di&&!l.__k){var r=e.offset(),s=l.__dj(),t=((l.__dd?s.rMax-_.pageY+r.top:_.pageX-r.left)-s.half)/s.max,i=l.__dk(t),d=+l.__aa,n=+l.__do;Math.abs(d-i)<Math.abs(n-i)?(l.__dp(i),l.__aa=i,l.__A(),a.node("left_"+l.id).focus()):(l.__dq(i),l.__do=i,l.__A(),a.node("right_"+l.id).focus())}};e.on("click",s),l.on("destroy",function(){e.off("click",s)}),l.__a=e},assign:function(_){var l=this;l.__cF=+_.width||280,l.__cZ=+_.height||280,l.__d_=+_.min||0,l.__da=+_.max||100,l.__db=+_.step||1,l.__k=_.disabled+""=="true"||r("#"+l.id)[0].hasAttribute("mx-disabled"),l.__dd=_.vertical+""=="true";var e=l.__db+"",a=e.indexOf(".");a=a>=0?e.slice(a+1).length:0,l.__df=a;var s=_.value;return s?(s=(s+"").split(","),l.__aa=+s[0]||0,l.__do=+s[1]||0):(l.__aa=l.__d_,l.__do=(l.__d_+l.__da)/2),!0},render:function(){var _=this;_.updater.digest({min:_.__d_.toFixed(_.__df),max:_.__da.toFixed(_.__df),viewId:_.id,height:_.__cZ,width:_.__cF,vertical:_.__dd}),_.val([_.__aa,_.__do])},__dj:function(){var _=this,l=_.__a.find("._zs_galleryjm"),e=_.__a.find("._zs_galleryjo"),a=r("#left_"+_.id),s=r("#right_"+_.id),t=_.__dd?l.height():l.width(),i=a.outerWidth()/2,d=t-2*i;return{rail:l,iLeftL:r("#leftl_"+_.id),iRightL:r("#rightl_"+_.id),tracker:e,iLeft:a,iRight:s,left:parseInt(a.css(_.__dd?"bottom":"left"),10),right:parseInt(s.css(_.__dd?"bottom":"left"),10),rMax:t,max:d,half:i}},__dp:function(_){var l=this;_=+_;var e=l.__da,a=l.__d_;_>e?_=e:_<a&&(_=a);var r=(_-a)/(e-a),s=l.__dj(),t=r*s.max;l.__dd?s.iLeft.css({bottom:t}):s.iLeft.css({left:t}),_=l.__dk(r);var i=s.iLeftL;i.html(_);var d,n=t+s.half;l.__dd?(n-(d=i.height()/2)<0?n=0:n+d>s.rMax?n=s.rMax-2*d:n-=d,i.css({bottom:n}),s.tracker.css({bottom:t+s.half}).height(s.right-t)):(n<(d=i.width()/2)?n=0:n+d>s.rMax?n=s.rMax-2*d:n-=d,i.css({left:n}),s.tracker.css({left:t+s.half}).width(s.right-t));return _},__dq:function(_){var l=this;_=+_;var e=l.__da,a=l.__d_;_>e?_=e:_<a&&(_=a);var r=(_-a)/(e-a),s=l.__dj(),t=r*s.max;l.__dd?s.iRight.css({bottom:t}):s.iRight.css({left:t}),_=l.__dk(r);var i=s.iRightL;i.html(_);var d,n=t+s.half;l.__dd?(n-(d=i.height()/2)<0?n=0:n+d>s.rMax?n=s.rMax-2*d:n-=d,i.css({bottom:n}),s.tracker.height(t-s.left)):(n<(d=i.width()/2)?n=0:n+d>s.rMax?n=s.rMax-2*d:n-=d,i.css({left:n}),s.tracker.width(t-s.left));return _},val:function(_){var l,e=this;if(_){var a=(_+"").split(","),r=+a[0]||0,s=+a[1]||0;r>s&&(r=(l=[s,r])[0],s=l[1]),e.__a.prop("value",[r,s]),r=e.__dp(r),s=e.__dq(s),e.__aa==r&&e.__do==s||(e.__aa=r,e.__do=s,e.__A())}return[+e.__aa,+e.__do]},__dk:function(_){var l,e=this.__da,a=this.__d_,r=this.__db;return 0===_?l=a:1===_?l=e:(l=a+(e-a)*_,l=Math.round(l/r)*r),l=l.toFixed(this.__df)},__A:function(){var _=[+this.__aa,+this.__do];this.__a.prop("value",_).trigger({type:"change",value:_,start:+this.__aa,end:+this.__do})},__dr:function(_,l){var e=this;_==e.__aa&&l==e.__do||(e.__aa=_,e.__do=l,e.__A())},"__dm<mousedown>":function(_){var l=this;if(!l.__k){var e=r(_.eventTarget),t=e.outerWidth(),i=-1;i=l.__dd?e.parent().height()-t:e.parent().width()-t;var d=parseInt(e.css(l.__dd?"bottom":"left"),10),n=l.__aa,g=l.__do;l.__dl=1,l.dragdrop(_.eventTarget,function(e){s.clear();var r=-1;(r=l.__dd?d+_.pageY-e.pageY:d+e.pageX-_.pageX)<0?r=0:r>i&&(r=i);var t=r/i,o=l.__dk(t),y=+o;if(_.params.end){var z=+l.__aa;y>=z?(l.__aa!=n&&(n=l.__dp(z)),g=l.__dq(o),a.node("right_"+l.id).focus()):(l.__aa!=g&&(g=l.__dq(z)),n=l.__dp(o),a.node("left_"+l.id).focus())}else{var j=+l.__do;y<=j?(l.__do!=g&&(g=l.__dq(j)),n=l.__dp(o),a.node("left_"+l.id).focus()):(l.__do!=n&&(n=l.__dp(j)),g=l.__dq(o),a.node("right_"+l.id).focus())}},function(){l.__dr(n,g),l.__di=!0,setTimeout(l.wrapAsync(function(){delete l.__di}),20),delete l.__dl})}},"__ds<keydown>":function(_){var l,e=this,r=e.__db;if(!e.__dl&&(37==_.keyCode||40==_.keyCode?(_.preventDefault(),r=-r,l=!0):39!=_.keyCode&&38!=_.keyCode||(_.preventDefault(),l=!0),l)){var s=e.__aa,t=+s,i=e.__do,d=+i,n=_.params.start;n?t+=r:d+=r,t>d?(n?a.node("right_"+e.id).focus():a.node("left_"+e.id).focus(),d!=+s&&(s=e.__dp(d)),t!=+i&&(i=e.__dq(t))):n?s=e.__dp(t):i=e.__dq(d),e.__dr(s,i)}},"__J<contextmenu>":function(_){_.preventDefault()}})});