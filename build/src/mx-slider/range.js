define("mx-slider/range",["magix","$","../mx-dragdrop/index"],(_,l,e)=>{var a=_("magix"),r=_("$"),s=_("../mx-dragdrop/index");a.applyStyle("_zs_galleryk",'._zs_galleryle{box-shadow:0 1px 1px 0 rgba(0,0,0,.08);border:1px solid #f5f5f6}[mx-view*="mx-slider/index"],[mx-view*="mx-slider/range"]{position:relative;display:inline-block;outline:0;cursor:pointer}[mx-view*="mx-slider/index"] ._zs_gallerylf,[mx-view*="mx-slider/range"] ._zs_gallerylf{position:absolute;top:0;right:-74px;width:64px}[mx-view*="mx-slider/index"][mx-disabled],[mx-view*="mx-slider/range"][mx-disabled]{cursor:not-allowed}[mx-view*="mx-slider/index"][mx-disabled] ._zs_galleryaC ._zs_galleryaD ._zs_galleryaF,[mx-view*="mx-slider/index"][mx-disabled] ._zs_galleryaC ._zs_galleryaD ._zs_galleryaF:before,[mx-view*="mx-slider/index"][mx-disabled] ._zs_galleryaC ._zs_galleryaD ._zs_galleryaE,[mx-view*="mx-slider/range"][mx-disabled] ._zs_galleryaC ._zs_galleryaD ._zs_galleryaF,[mx-view*="mx-slider/range"][mx-disabled] ._zs_galleryaC ._zs_galleryaD ._zs_galleryaF:before,[mx-view*="mx-slider/range"][mx-disabled] ._zs_galleryaC ._zs_galleryaD ._zs_galleryaE{background-color:#ccc}._zs_galleryaC{line-height:28px}._zs_galleryaC ._zs_galleryaD{display:inline-block;position:relative;border-radius:2px;background:#f0f0f0}._zs_galleryaC ._zs_galleryaD ._zs_galleryaE{position:absolute;border-radius:2px;left:0;background-color:#cddbff}._zs_galleryaC ._zs_galleryaD ._zs_galleryaE._zs_gallerylg{height:4px;top:0}._zs_galleryaC ._zs_galleryaD ._zs_galleryaE._zs_gallerylh{width:4px;bottom:0}._zs_galleryaC ._zs_galleryaD ._zs_galleryaF{position:absolute;width:8px;height:8px;border-radius:50%;background-color:#4d7fff;outline:0}._zs_galleryaC ._zs_galleryaD ._zs_galleryaF:before{content:" ";position:absolute;top:-4px;left:-4px;width:16px;height:16px;border-radius:50%;background-color:#4d7fff;opacity:.3}._zs_galleryaC ._zs_galleryaD ._zs_galleryaF._zs_galleryli{top:-2px}._zs_galleryaC ._zs_galleryaD ._zs_galleryaF._zs_gallerylj{left:-2px}._zs_galleryaC ._zs_galleryaD ._zs_gallerylk{position:absolute;font-size:12px;pointer-events:none;line-height:normal}._zs_galleryaC ._zs_galleryaD ._zs_gallerylk._zs_galleryll{top:-23px}._zs_galleryaC ._zs_galleryaD ._zs_gallerylk._zs_gallerylm{right:12px}._zs_galleryaC ._zs_galleryaD ._zs_galleryln,._zs_galleryaC ._zs_galleryaD ._zs_gallerylo,._zs_galleryaC ._zs_galleryaD ._zs_gallerylp,._zs_galleryaC ._zs_galleryaD ._zs_gallerylq{position:absolute;font-size:12px;pointer-events:none;line-height:normal}._zs_galleryaC ._zs_galleryaD ._zs_galleryln{left:0;top:9px}._zs_galleryaC ._zs_galleryaD ._zs_gallerylo{right:0;top:9px}._zs_galleryaC ._zs_galleryaD ._zs_gallerylp{bottom:0;left:12px}._zs_galleryaC ._zs_galleryaD ._zs_gallerylq{top:0;left:12px}._zs_galleryaC ._zs_galleryaD._zs_gallerylr{height:4px;top:-2px}._zs_galleryaC ._zs_galleryaD._zs_galleryls{width:4px;left:8px}._zs_galleryaC ._zs_gallerylt{margin-left:3px;color:#999}');e.exports=a.View.extend({tmpl:function(_,l,e,a,r,s,t,i){if(e||(e=_),!r){var d={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},g=/[&<>"'`]/g,n=function(_){return"&"+d[_]+";"};r=function(_){return""+(null==_?"":_)},a=function(_){return r(_).replace(g,n)}}if(!s){var o={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},y=function(_){return o[_]},p=/[!')(*]/g;s=function(_){return encodeURIComponent(r(_)).replace(p,y)}}if(!i){var z=/[\\'"]/g;i=function(_){return r(_).replace(z,"\\$&")}}var x="",f=_.vertical,h=_.height,c=_.width,u=_.viewId,m=_.min,v=_.max;return x+='<div mxa="_zs_gallerydC:_" class="_zs_galleryaC"><span class="_zs_galleryaD',x+=f?" _zs_galleryls":" _zs_gallerylr",x+='" mx-contextmenu="'+l+'__H()" style="',x+=f?"height:"+a(h):"width:"+a(c),x+='px"><span class="_zs_galleryaE',x+=f?" _zs_gallerylh":" _zs_gallerylg",x+='"></span><span tabindex="0" mx-keydown="'+l+'__dE({start:true})" class="_zs_galleryaF',x+=f?" _zs_gallerylj":" _zs_galleryli",x+='" mx-mousedown="'+l+'__dy({start:true})" id="left_'+a(u)+'"></span><span class="_zs_gallerylk',x+=f?" _zs_gallerylm":" _zs_galleryll",x+='" id="leftl_'+a(u)+'"></span><span tabindex="0" mx-keydown="'+l+'__dE()" class="_zs_galleryaF',x+=f?" _zs_gallerylj":" _zs_galleryli",x+='" mx-mousedown="'+l+'__dy({end:true})" id="right_'+a(u)+'"></span><span class="_zs_gallerylk',x+=f?" _zs_gallerylm":" _zs_galleryll",x+='" id="rightl_'+a(u)+'"></span><span class="',x+=f?"_zs_gallerylp":"_zs_galleryln",x+='">'+a(m)+'</span><span class="',x+=f?"_zs_gallerylq":"_zs_gallerylo",x+='">'+a(v)+"</span></span></div>"},mixins:[s],init:function(_){var l=this,e=r("#"+l.id);l.assign(_);var s=function(_){if(!l.__du&&!l.__do){var r=e.offset(),s=l.__dv(),t=((l.__dp?s.rMax-_.pageY+r.top:_.pageX-r.left)-s.half)/s.max,i=l.__dw(t),d=+l.__Z,g=+l.__dA;Math.abs(d-i)<Math.abs(g-i)?(l.__dB(i),l.__Z=i,l.__y(),a.node("left_"+l.id).focus()):(l.__dC(i),l.__dA=i,l.__y(),a.node("right_"+l.id).focus())}};e.on("click",s),l.on("destroy",function(){e.off("click",s)}),l.__j=e},assign:function(_){var l=this;l.__cE=+_.width||280,l.__dj=+_.height||280,l.__dk=+_.min||0,l.__dl=+_.max||100,l.__dm=+_.step||1;var e=r("#"+l.id+"[mx-disabled]");l.__do=e&&e.length>0,l.__dp=_.vertical+""=="true";var a=l.__dm+"",s=a.indexOf(".");s=s>=0?a.slice(s+1).length:0,l.__dr=s;var t=_.value;return t?(t=(t+"").split(","),l.__Z=+t[0]||0,l.__dA=+t[1]||0):(l.__Z=l.__dk,l.__dA=(l.__dk+l.__dl)/2),!0},render:function(){var _=this;_.updater.digest({min:_.__dk.toFixed(_.__dr),max:_.__dl.toFixed(_.__dr),viewId:_.id,height:_.__dj,width:_.__cE,vertical:_.__dp}),_.val([_.__Z,_.__dA])},__dv:function(){var _=this,l=_.__j.find("._zs_galleryaD"),e=_.__j.find("._zs_galleryaE"),a=r("#left_"+_.id),s=r("#right_"+_.id),t=_.__dp?l.height():l.width(),i=a.outerWidth()/2,d=t-2*i;return{rail:l,iLeftL:r("#leftl_"+_.id),iRightL:r("#rightl_"+_.id),tracker:e,iLeft:a,iRight:s,left:parseInt(a.css(_.__dp?"bottom":"left"),10),right:parseInt(s.css(_.__dp?"bottom":"left"),10),rMax:t,max:d,half:i}},__dB:function(_){var l=this;_=+_;var e=l.__dl,a=l.__dk;_>e?_=e:_<a&&(_=a);var r=(_-a)/(e-a),s=l.__dv(),t=r*s.max;l.__dp?s.iLeft.css({bottom:t}):s.iLeft.css({left:t}),_=l.__dw(r);var i=s.iLeftL;i.html(_);var d,g=t+s.half;l.__dp?(g-(d=i.height()/2)<0?g=0:g+d>s.rMax?g=s.rMax-2*d:g-=d,i.css({bottom:g}),s.tracker.css({bottom:t+s.half}).height(s.right-t)):(g<(d=i.width()/2)?g=0:g+d>s.rMax?g=s.rMax-2*d:g-=d,i.css({left:g}),s.tracker.css({left:t+s.half}).width(s.right-t));return _},__dC:function(_){var l=this;_=+_;var e=l.__dl,a=l.__dk;_>e?_=e:_<a&&(_=a);var r=(_-a)/(e-a),s=l.__dv(),t=r*s.max;l.__dp?s.iRight.css({bottom:t}):s.iRight.css({left:t}),_=l.__dw(r);var i=s.iRightL;i.html(_);var d,g=t+s.half;l.__dp?(g-(d=i.height()/2)<0?g=0:g+d>s.rMax?g=s.rMax-2*d:g-=d,i.css({bottom:g}),s.tracker.height(t-s.left)):(g<(d=i.width()/2)?g=0:g+d>s.rMax?g=s.rMax-2*d:g-=d,i.css({left:g}),s.tracker.width(t-s.left));return _},val:function(_){var l,e=this;if(_){var a=(_+"").split(","),r=+a[0]||0,s=+a[1]||0;r>s&&(r=(l=[s,r])[0],s=l[1]),e.__j.prop("value",[r,s]),r=e.__dB(r),s=e.__dC(s),e.__Z==r&&e.__dA==s||(e.__Z=r,e.__dA=s,e.__y())}return[+e.__Z,+e.__dA]},__dw:function(_){var l,e=this.__dl,a=this.__dk,r=this.__dm;return 0===_?l=a:1===_?l=e:(l=a+(e-a)*_,l=Math.round(l/r)*r),l=l.toFixed(this.__dr)},__y:function(){var _=[+this.__Z,+this.__dA];this.__j.prop("value",_).trigger({type:"change",value:_,start:+this.__Z,end:+this.__dA})},__dD:function(_,l){var e=this;_==e.__Z&&l==e.__dA||(e.__Z=_,e.__dA=l,e.__y())},"__dy<mousedown>":function(_){var l=this;if(!l.__do){var e=r(_.eventTarget),t=e.outerWidth(),i=-1;i=l.__dp?e.parent().height()-t:e.parent().width()-t;var d=parseInt(e.css(l.__dp?"bottom":"left"),10),g=l.__Z,n=l.__dA;l.__dx=1,l.dragdrop(_.eventTarget,function(e){s.clear();var r=-1;(r=l.__dp?d+_.pageY-e.pageY:d+e.pageX-_.pageX)<0?r=0:r>i&&(r=i);var t=r/i,o=l.__dw(t),y=+o;if(_.params.end){var p=+l.__Z;y>=p?(l.__Z!=g&&(g=l.__dB(p)),n=l.__dC(o),a.node("right_"+l.id).focus()):(l.__Z!=n&&(n=l.__dC(p)),g=l.__dB(o),a.node("left_"+l.id).focus())}else{var z=+l.__dA;y<=z?(l.__dA!=n&&(n=l.__dC(z)),g=l.__dB(o),a.node("left_"+l.id).focus()):(l.__dA!=g&&(g=l.__dB(z)),n=l.__dC(o),a.node("right_"+l.id).focus())}},function(){l.__dD(g,n),l.__du=!0,setTimeout(l.wrapAsync(function(){delete l.__du}),20),delete l.__dx})}},"__dE<keydown>":function(_){var l,e=this,r=e.__dm;if(!e.__dx&&(37==_.keyCode||40==_.keyCode?(_.preventDefault(),r=-r,l=!0):39!=_.keyCode&&38!=_.keyCode||(_.preventDefault(),l=!0),l)){var s=e.__Z,t=+s,i=e.__dA,d=+i,g=_.params.start;g?t+=r:d+=r,t>d?(g?a.node("right_"+e.id).focus():a.node("left_"+e.id).focus(),d!=+s&&(s=e.__dB(d)),t!=+i&&(i=e.__dC(t))):g?s=e.__dB(t):i=e.__dC(d),e.__dD(s,i)}},"__H<contextmenu>":function(_){_.preventDefault()}})});