define("mx-slider/range",["magix","$","../mx-dragdrop/index"],(_,e,l)=>{var a=_("magix"),i=_("$"),r=_("../mx-dragdrop/index");a.applyStyle("_zs_galleryat",'[mx-view*="mx-slider/index"],[mx-view*="mx-slider/range"]{position:relative;display:inline-block;outline:0;cursor:pointer}[mx-view*="mx-slider/index"] ._zs_galleryiR,[mx-view*="mx-slider/range"] ._zs_galleryiR{position:absolute;top:0;right:-74px;width:64px}[mx-view*="mx-slider/index"][mx-disabled],[mx-view*="mx-slider/range"][mx-disabled]{cursor:not-allowed}[mx-view*="mx-slider/index"][mx-disabled] ._zs_galleryiS ._zs_galleryiT ._zs_galleryiU,[mx-view*="mx-slider/index"][mx-disabled] ._zs_galleryiS ._zs_galleryiT ._zs_galleryiU:before,[mx-view*="mx-slider/index"][mx-disabled] ._zs_galleryiS ._zs_galleryiT ._zs_galleryiV,[mx-view*="mx-slider/range"][mx-disabled] ._zs_galleryiS ._zs_galleryiT ._zs_galleryiU,[mx-view*="mx-slider/range"][mx-disabled] ._zs_galleryiS ._zs_galleryiT ._zs_galleryiU:before,[mx-view*="mx-slider/range"][mx-disabled] ._zs_galleryiS ._zs_galleryiT ._zs_galleryiV{background-color:#ccc}._zs_galleryiS{line-height:28px}._zs_galleryiS ._zs_galleryiT{display:inline-block;position:relative;border-radius:2px;background:#f0f0f0}._zs_galleryiS ._zs_galleryiT ._zs_galleryiV{position:absolute;border-radius:2px;left:0;background-color:var(--color-brand-light)}._zs_galleryiS ._zs_galleryiT ._zs_galleryiV._zs_galleryiW{height:4px;top:0}._zs_galleryiS ._zs_galleryiT ._zs_galleryiV._zs_galleryiX{width:4px;bottom:0}._zs_galleryiS ._zs_galleryiT ._zs_galleryiU{width:8px;height:8px;outline:0}._zs_galleryiS ._zs_galleryiT ._zs_galleryiU,._zs_galleryiS ._zs_galleryiT ._zs_galleryiU:before{position:absolute;border-radius:50%;background-color:var(--color-brand)}._zs_galleryiS ._zs_galleryiT ._zs_galleryiU:before{content:" ";top:-4px;left:-4px;width:16px;height:16px;opacity:.3}._zs_galleryiS ._zs_galleryiT ._zs_galleryiU._zs_galleryiY{top:-2px}._zs_galleryiS ._zs_galleryiT ._zs_galleryiU._zs_galleryiZ{left:-2px}._zs_galleryiS ._zs_galleryiT ._zs_galleryj_{position:absolute;font-size:var(--font-size);pointer-events:none;line-height:normal}._zs_galleryiS ._zs_galleryiT ._zs_galleryj_._zs_galleryja{top:-23px}._zs_galleryiS ._zs_galleryiT ._zs_galleryj_._zs_galleryjb{right:12px}._zs_galleryiS ._zs_galleryiT ._zs_galleryjc,._zs_galleryiS ._zs_galleryiT ._zs_galleryjd,._zs_galleryiS ._zs_galleryiT ._zs_galleryje,._zs_galleryiS ._zs_galleryiT ._zs_galleryjf{position:absolute;font-size:var(--font-size);pointer-events:none;line-height:normal}._zs_galleryiS ._zs_galleryiT ._zs_galleryjc{left:0;top:9px}._zs_galleryiS ._zs_galleryiT ._zs_galleryjd{right:0;top:9px}._zs_galleryiS ._zs_galleryiT ._zs_galleryje{bottom:0;left:12px}._zs_galleryiS ._zs_galleryiT ._zs_galleryjf{top:0;left:12px}._zs_galleryiS ._zs_galleryiT._zs_galleryjg{height:4px;top:-2px}._zs_galleryiS ._zs_galleryiT._zs_galleryjh{width:4px;left:8px}._zs_galleryiS ._zs_galleryji{margin-left:3px;color:#999}');l.exports=a.View.extend({tmpl:function(_,e,l,a,i,r,s,t){if(l||(l=_),!i){var d={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},g=/[&<>"'`]/g,n=function(_){return"&"+d[_]+";"};i=function(_){return""+(null==_?"":_)},a=function(_){return i(_).replace(g,n)}}if(!r){var o={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},y=function(_){return o[_]},z=/[!')(*]/g;r=function(_){return encodeURIComponent(i(_)).replace(z,y)}}if(!t){var p=/[\\'"]/g;t=function(_){return i(_).replace(p,"\\$&")}}var f="",x=_.vertical,h=_.height,c=_.width,u=_.viewId,m=_.min,v=_.max;return f+='<div mxa="_zs_gallerydN:_" class="_zs_galleryiS"><span class="_zs_galleryiT',f+=x?" _zs_galleryjh":" _zs_galleryjg",f+='" mx-contextmenu="'+e+'__J()" style="',f+=x?"height:"+a(h):"width:"+a(c),f+='px"><span class="_zs_galleryiV',f+=x?" _zs_galleryiX":" _zs_galleryiW",f+='"></span><span tabindex="0" mx-keydown="'+e+'__ds({start:true})" class="_zs_galleryiU',f+=x?" _zs_galleryiZ":" _zs_galleryiY",f+='" mx-mousedown="'+e+'__dm({start:true})" id="left_'+a(u)+'"></span><span class="_zs_galleryj_',f+=x?" _zs_galleryjb":" _zs_galleryja",f+='" id="leftl_'+a(u)+'"></span><span tabindex="0" mx-keydown="'+e+'__ds()" class="_zs_galleryiU',f+=x?" _zs_galleryiZ":" _zs_galleryiY",f+='" mx-mousedown="'+e+'__dm({end:true})" id="right_'+a(u)+'"></span><span class="_zs_galleryj_',f+=x?" _zs_galleryjb":" _zs_galleryja",f+='" id="rightl_'+a(u)+'"></span><span class="',f+=x?"_zs_galleryje":"_zs_galleryjc",f+='">'+a(m)+'</span><span class="',f+=x?"_zs_galleryjf":"_zs_galleryjd",f+='">'+a(v)+"</span></span></div>"},mixins:[r],init:function(_){var e=this,l=i("#"+e.id);e.assign(_);var r=function(_){if(!e.__di&&!e.__k){var i=l.offset(),r=e.__dj(),s=((e.__dd?r.rMax-_.pageY+i.top:_.pageX-i.left)-r.half)/r.max,t=e.__dk(s),d=+e.__aa,g=+e.__do;Math.abs(d-t)<Math.abs(g-t)?(e.__dp(t),e.__aa=t,e.__A(),a.node("left_"+e.id).focus()):(e.__dq(t),e.__do=t,e.__A(),a.node("right_"+e.id).focus())}};l.on("click",r),e.on("destroy",function(){l.off("click",r)}),e.___=l},assign:function(_){var e=this;e.__cF=+_.width||280,e.__cZ=+_.height||280,e.__d_=+_.min||0,e.__da=+_.max||100,e.__db=+_.step||1,e.__k=_.disabled+""=="true"||i("#"+e.id)[0].hasAttribute("mx-disabled"),e.__dd=_.vertical+""=="true";var l=e.__db+"",a=l.indexOf(".");a=a>=0?l.slice(a+1).length:0,e.__df=a;var r=_.value;return r?(r=(r+"").split(","),e.__aa=+r[0]||0,e.__do=+r[1]||0):(e.__aa=e.__d_,e.__do=(e.__d_+e.__da)/2),!0},render:function(){var _=this;_.updater.digest({min:_.__d_.toFixed(_.__df),max:_.__da.toFixed(_.__df),viewId:_.id,height:_.__cZ,width:_.__cF,vertical:_.__dd}),_.val([_.__aa,_.__do])},__dj:function(){var _=this,e=_.___.find("._zs_galleryiT"),l=_.___.find("._zs_galleryiV"),a=i("#left_"+_.id),r=i("#right_"+_.id),s=_.__dd?e.height():e.width(),t=a.outerWidth()/2,d=s-2*t;return{rail:e,iLeftL:i("#leftl_"+_.id),iRightL:i("#rightl_"+_.id),tracker:l,iLeft:a,iRight:r,left:parseInt(a.css(_.__dd?"bottom":"left"),10),right:parseInt(r.css(_.__dd?"bottom":"left"),10),rMax:s,max:d,half:t}},__dp:function(_){var e=this;_=+_;var l=e.__da,a=e.__d_;_>l?_=l:_<a&&(_=a);var i=(_-a)/(l-a),r=e.__dj(),s=i*r.max;e.__dd?r.iLeft.css({bottom:s}):r.iLeft.css({left:s}),_=e.__dk(i);var t=r.iLeftL;t.html(_);var d,g=s+r.half;e.__dd?(g-(d=t.height()/2)<0?g=0:g+d>r.rMax?g=r.rMax-2*d:g-=d,t.css({bottom:g}),r.tracker.css({bottom:s+r.half}).height(r.right-s)):(g<(d=t.width()/2)?g=0:g+d>r.rMax?g=r.rMax-2*d:g-=d,t.css({left:g}),r.tracker.css({left:s+r.half}).width(r.right-s));return _},__dq:function(_){var e=this;_=+_;var l=e.__da,a=e.__d_;_>l?_=l:_<a&&(_=a);var i=(_-a)/(l-a),r=e.__dj(),s=i*r.max;e.__dd?r.iRight.css({bottom:s}):r.iRight.css({left:s}),_=e.__dk(i);var t=r.iRightL;t.html(_);var d,g=s+r.half;e.__dd?(g-(d=t.height()/2)<0?g=0:g+d>r.rMax?g=r.rMax-2*d:g-=d,t.css({bottom:g}),r.tracker.height(s-r.left)):(g<(d=t.width()/2)?g=0:g+d>r.rMax?g=r.rMax-2*d:g-=d,t.css({left:g}),r.tracker.width(s-r.left));return _},val:function(_){var e,l=this;if(_){var a=(_+"").split(","),i=+a[0]||0,r=+a[1]||0;i>r&&(i=(e=[r,i])[0],r=e[1]),l.___.prop("value",[i,r]),i=l.__dp(i),r=l.__dq(r),l.__aa==i&&l.__do==r||(l.__aa=i,l.__do=r,l.__A())}return[+l.__aa,+l.__do]},__dk:function(_){var e,l=this.__da,a=this.__d_,i=this.__db;return 0===_?e=a:1===_?e=l:(e=a+(l-a)*_,e=Math.round(e/i)*i),e=e.toFixed(this.__df)},__A:function(){var _=[+this.__aa,+this.__do];this.___.prop("value",_).trigger({type:"change",value:_,start:+this.__aa,end:+this.__do})},__dr:function(_,e){var l=this;_==l.__aa&&e==l.__do||(l.__aa=_,l.__do=e,l.__A())},"__dm<mousedown>":function(_){var e=this;if(!e.__k){var l=i(_.eventTarget),s=l.outerWidth(),t=-1;t=e.__dd?l.parent().height()-s:l.parent().width()-s;var d=parseInt(l.css(e.__dd?"bottom":"left"),10),g=e.__aa,n=e.__do;e.__dl=1,e.dragdrop(_.eventTarget,function(l){r.clear();var i=-1;(i=e.__dd?d+_.pageY-l.pageY:d+l.pageX-_.pageX)<0?i=0:i>t&&(i=t);var s=i/t,o=e.__dk(s),y=+o;if(_.params.end){var z=+e.__aa;y>=z?(e.__aa!=g&&(g=e.__dp(z)),n=e.__dq(o),a.node("right_"+e.id).focus()):(e.__aa!=n&&(n=e.__dq(z)),g=e.__dp(o),a.node("left_"+e.id).focus())}else{var p=+e.__do;y<=p?(e.__do!=n&&(n=e.__dq(p)),g=e.__dp(o),a.node("left_"+e.id).focus()):(e.__do!=g&&(g=e.__dp(p)),n=e.__dq(o),a.node("right_"+e.id).focus())}},function(){e.__dr(g,n),e.__di=!0,setTimeout(e.wrapAsync(function(){delete e.__di}),20),delete e.__dl})}},"__ds<keydown>":function(_){var e,l=this,i=l.__db;if(!l.__dl&&(37==_.keyCode||40==_.keyCode?(_.preventDefault(),i=-i,e=!0):39!=_.keyCode&&38!=_.keyCode||(_.preventDefault(),e=!0),e)){var r=l.__aa,s=+r,t=l.__do,d=+t,g=_.params.start;g?s+=i:d+=i,s>d?(g?a.node("right_"+l.id).focus():a.node("left_"+l.id).focus(),d!=+r&&(r=l.__dp(d)),s!=+t&&(t=l.__dq(s))):g?r=l.__dp(s):t=l.__dq(d),l.__dr(r,t)}},"__J<contextmenu>":function(_){_.preventDefault()}})});