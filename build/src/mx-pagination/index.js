define("mx-pagination/index",["magix","$","../mx-medusa/util","mx-dropdown/index"],(l,e,a)=>{l("mx-dropdown/index");var s=l("magix"),i=l("$"),r=[10,20,30,40],_=l("../mx-medusa/util");s.applyStyle("_zs_galleryaj","._zs_galleryhY{color:#666}._zs_galleryhY ._zs_galleryhZ{float:left;line-height:var(--input-small-height)}._zs_galleryhY ._zs_galleryhZ ._zs_galleryi_{min-width:66px}._zs_galleryhY ._zs_galleryia{display:inline-block}._zs_galleryhY ._zs_galleryia ._zs_galleryic{float:left;line-height:var(--input-small-height)}._zs_galleryhY ._zs_galleryia ._zs_galleryic ._zs_galleryid,._zs_galleryhY ._zs_galleryia ._zs_galleryic ._zs_galleryie{display:block;min-width:var(--input-small-height);height:var(--input-small-height);margin:0 2px;font-size:var(--font-size);border-radius:var(--border-radius);text-align:center}._zs_galleryhY ._zs_galleryia ._zs_galleryic ._zs_galleryie{color:#666}._zs_galleryhY ._zs_galleryia ._zs_galleryic ._zs_galleryie:hover{color:#333}._zs_galleryhY ._zs_galleryia ._zs_galleryic ._zs_galleryie._zs_galleryif{color:#333;background-color:#eee}._zs_galleryhY ._zs_galleryia ._zs_galleryic ._zs_galleryie._zs_galleryig{background:transparent;cursor:not-allowed}._zs_galleryhY ._zs_galleryia ._zs_galleryic ._zs_galleryid{color:#999;line-height:calc(var(--input-small-height) + 2px)}._zs_galleryhY ._zs_galleryia ._zs_galleryic ._zs_galleryid:hover{color:#666}._zs_galleryhY ._zs_galleryia ._zs_galleryic ._zs_galleryid._zs_galleryig{color:#eee;background:transparent;cursor:not-allowed}._zs_galleryhY ._zs_galleryih{float:right;margin-left:15px}._zs_galleryhY ._zs_galleryih ._zs_galleryii{width:40px;text-align:center}"),a.exports=s.View.extend({tmpl:function(l,e,a,s,i,r,_,t){if(a||(a=l),!i){var g={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},c=/[&<>"'`]/g,n=function(l){return"&"+g[l]+";"};i=function(l){return""+(null==l?"":l)},s=function(l){return i(l).replace(c,n)}}if(!r){var p={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},z=function(l){return p[l]},o=/[!')(*]/g;r=function(l){return encodeURIComponent(i(l)).replace(o,z)}}if(!t){var y=/[\\'"]/g;t=function(l){return i(l).replace(y,"\\$&")}}_||(_=function(l,e,a,s){for(s=l[m];--s;)if(l[a=m+s]===e)return a;return l[a=m+l[m]++]=e,a});var m="",h="",u=l.simplify,f=l.mini,d=l.tipOffset,x=l.tipTotal,v=l.tipPer,Y=l.sizesChange,k=l.sizesPlacement,b=l.sizes,w=l.size,j=l.tipUnit,J=l.jump,P=l.tipJumpTo,T=l.next,$=l.viewId,A=l.tipJumpUnit,I=l.hideTotal,M=l.page,U=l.pages,C=l.start,O=l.end;if(h+='<div mxv mxa="_zs_galleryc!:_" class="clearfix _zs_galleryhY">',u||f||(h+='<div mxv mxa="_zs_galleryc!:a" class="_zs_galleryhZ"><span>'+i(d)+"</span><span>"+i(x)+"，</span><span>"+i(v)+"</span>",h+=Y?'<div mxv="sizes,size" class="ml10 mr10 _zs_galleryi_" mx-change="'+e+'__cy()" mx-view="mx-dropdown/index?small=true&placement='+r(k)+"&list="+_(a,b)+"&selected="+_(a,w)+'"></div>':" "+s(w)+" ",h+="<span>"+i(j)+"</span></div>"),h+=" ",J||(h+='<div mxv mxa="_zs_galleryc!:b" class="_zs_galleryih"><span mxa="_zs_galleryc!:c" class="mr5">'+s(P)+'</span><input class="input input-small _zs_galleryii mr5" value="'+s(T)+'" id="'+s($)+'_jump_input" mx-change="'+e+'__m()" mx-focusin="'+e+'__m()" mx-focusout="'+e+'__m()"/><span mxa="_zs_galleryc!:d" class="mr10">'+s(A)+'</span><a mxs="_zs_galleryc!:_" href="javascript:;" class="btn btn-small" mx-click="'+e+'__cz()">跳转</a></div>'),h+='<ul class="clearfix _zs_galleryia" ',I||(h+=' style="float: right;" '),h+='><li mxa="_zs_galleryc!:e" class="_zs_galleryic"><a class="mc-iconfont _zs_galleryid ',1==M&&(h+="_zs_galleryig"),h+='" href="#" mx-click="'+e+"",h+=M>1?"__cx({page:"+s(M-1)+"})":"__J()",h+='">&#xe61e;</a></li>',f)h+='<li mxa="_zs_galleryc!:f" class="_zs_galleryic">'+s(M)+" / "+s(U)+"</li>";else{h+=" ",C>1&&(h+='<li mxs="_zs_galleryc!:a" class="_zs_galleryic"><a class="_zs_galleryie" href="#" mx-click="'+e+'__cx({page:1})">1</a></li>'),h+=" ",C>2&&(h+='<li mxs="_zs_galleryc!:b" class="_zs_galleryic"><a class="_zs_galleryie _zs_galleryig" href="#" mx-click="'+e+'__J()">...</a></li>'),h+=" ";for(var S=C;S<=O;S++)h+='<li mxa="_zs_galleryc!:g" class="_zs_galleryic"><a class="_zs_galleryie ',S==M&&(h+="_zs_galleryif"),h+='" href="#" mx-click="'+e+"__cx({page:"+s(S)+'})">'+s(S)+"</a></li>";h+=" ",O+2<=U&&(h+='<li mxs="_zs_galleryc!:b" class="_zs_galleryic"><a class="_zs_galleryie _zs_galleryig" href="#" mx-click="'+e+'__J()">...</a></li>'),h+=" ",O<U&&(h+='<li mxa="_zs_galleryc!:h" class="_zs_galleryic"><a class="_zs_galleryie" href="#" mx-click="'+e+"__cx({page:"+s(U)+'})">'+s(U)+"</a></li>"),h+=" "}return h+='<li mxa="_zs_galleryc!:i" class="_zs_galleryic"><a class="mc-iconfont _zs_galleryid rotate180 ',M==U&&(h+="_zs_galleryig"),h+='" href="#" mx-click="'+e+"",h+=M<U?"__cx({page:"+s(M+1)+"})":"__J()",h+='">&#xe61e;</a></li>',I||(h+='<li mxa="_zs_galleryc!:j" class="_zs_galleryic ml10">'+i(x)+"</li>"),h+="</ul></div>"},init:function(l){this.updater.snapshot(),this.assign(l)},assign:function(l){var e=this,a=e.updater.altered(),s=[];try{s=JSON.parse(l.sizes)}catch(e){s=l.sizes}s&&s.length||(s=r);var i=!0;/^false$/i.test(l.sizesChange)&&(i=!1);var _,t=l.size||40;return _=l.page?l.page:l.offset?parseInt(l.offset/t)+1:1,e.updater.set({viewId:e.id,step:l.step||5,simplify:l.simplify+""=="true",mini:l.mini+""=="true",hideTotal:l.hideTotal+""=="true",jump:l.jump+""=="false",total:0|l.total||0,page:_,size:t,sizesChange:i,sizesPlacement:l.sizesPlacement||"bottom",sizes:s}),a||(a=e.updater.altered()),!!a&&(e.updater.snapshot(),!0)},render:function(){var l=this.__cw();this.updater.digest(l)},__cw:function(){var l=this.updater.get(),e=l.total,a=0|l.page,s=Math.ceil((l.total||1)/l.size);a>s&&(a=s);var i,r=0|l.step,t=r/2|0,g=Math.max(1,a-t),c=Math.min(s,g+r-1);(g=Math.max(1,c-r+1))<=2&&c+(i=3-g)<s&&(c+=i),c+2>s&&g-(i=2-(s-c))>1&&(g-=i),3==g&&(g-=1),c+2==s&&(c+=1);var n=(a-1)*l.size+1,p=Math.min(l.total,a*l.size);0==e&&(n=p=0);var z=a+1;return z>s&&(z=s),{pages:s,offsetStart:n,offsetEnd:p,page:a,start:g,end:c,next:z,tipOffset:_["pager.offset"].replace("${min}",""+n).replace("${max}",""+p),tipTotal:_["pager.total"].replace("${total}",""+e),tipPer:_["pager.per.page"],tipUnit:_["pager.unit"],tipJumpTo:_["pager.jump.to"],tipJumpUnit:_["pager.jump.unit"]}},__A:function(){var l=i("#"+this.id),e=this.updater.get(),a=+e.page,s=+e.size,r=(a-1)*s;l.trigger({type:"change",page:a,size:s,offset:r})},"__cx<click>":function(l){l.preventDefault();this.updater.set(l.params),this.render(),this.__A()},"__cy<change>":function(l){l.stopPropagation();this.updater.set({size:l.value}),this.render(),this.__A()},"__m<change,focusin,focusout>":function(l){l.stopPropagation()},"__cz<click>":function(l){l.stopPropagation();var e=+i("#"+this.id+"_jump_input").val();Number.isInteger(e)&&(this.updater.set({page:e}),this.render(),this.__A())},"__J<click>":function(l){l.preventDefault()}})});