define("mx-pagination/index",["magix","$","../mx-medusa/util","mx-dropdown/index"],(l,e,a)=>{l("mx-dropdown/index");var s=l("magix"),i=l("$"),_=[10,20,30,40],r=l("../mx-medusa/util");s.applyStyle("_zs_gallerya_","._zs_galleryhX{box-shadow:0 2px 4px rgba(51,51,51,.08);border:1px solid #eee}._zs_galleryhY{color:#999}._zs_galleryhY ._zs_galleryhZ{float:left;line-height:26px}._zs_galleryhY ._zs_galleryhZ ._zs_galleryi_{min-width:66px;height:26px;line-height:24px}._zs_galleryhY ._zs_galleryia{display:inline-block}._zs_galleryhY ._zs_galleryia ._zs_galleryib{float:left;line-height:26px}._zs_galleryhY ._zs_galleryia ._zs_galleryib ._zs_galleryic,._zs_galleryhY ._zs_galleryia ._zs_galleryib ._zs_galleryid{display:block;min-width:26px;height:26px;margin:0 2px;font-size:12px;border-radius:4px;text-align:center;color:#999}._zs_galleryhY ._zs_galleryia ._zs_galleryib ._zs_galleryid:hover{color:#666;background-color:#eee}._zs_galleryhY ._zs_galleryia ._zs_galleryib ._zs_galleryid._zs_galleryie{color:#fff;background-color:#4d7fff}._zs_galleryhY ._zs_galleryia ._zs_galleryib ._zs_galleryid._zs_galleryif{background:transparent;cursor:not-allowed}._zs_galleryhY ._zs_galleryia ._zs_galleryib ._zs_galleryic{line-height:28px}._zs_galleryhY ._zs_galleryia ._zs_galleryib ._zs_galleryic:hover{color:#666}._zs_galleryhY ._zs_galleryia ._zs_galleryib ._zs_galleryic._zs_galleryif{color:#e6e6e6;background:transparent;cursor:not-allowed}._zs_galleryhY ._zs_galleryig{float:right;margin-left:15px}._zs_galleryhY ._zs_galleryig ._zs_galleryih{width:40px;text-align:center}"),a.exports=s.View.extend({tmpl:function(l,e,a,s,i,_,r,t){if(a||(a=l),!i){var g={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},n=/[&<>"'`]/g,c=function(l){return"&"+g[l]+";"};i=function(l){return""+(null==l?"":l)},s=function(l){return i(l).replace(n,c)}}if(!_){var p={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},z=function(l){return p[l]},o=/[!')(*]/g;_=function(l){return encodeURIComponent(i(l)).replace(o,z)}}if(!t){var y=/[\\'"]/g;t=function(l){return i(l).replace(y,"\\$&")}}r||(r=function(l,e,a,s){for(s=l[h];--s;)if(l[a=h+s]===e)return a;return l[a=h+l[h]++]=e,a});var h="",m="",u=l.simplify,d=l.mini,f=l.tipOffset,x=l.tipTotal,b=l.tipPer,v=l.sizesChange,k=l.sizesPlacement,Y=l.sizes,w=l.size,j=l.tipUnit,P=l.jump,T=l.tipJumpTo,$=l.next,H=l.viewId,J=l.tipJumpUnit,M=l.hideTotal,U=l.page,C=l.pages,I=l.start,O=l.end;if(m+='<div mxv mxa="_zs_galleryb3:_" class="clearfix _zs_galleryhY">',u||d||(m+='<div mxv mxa="_zs_galleryb3:a" class="_zs_galleryhZ"><span>'+i(f)+"</span><span>"+i(x)+"，</span><span>"+i(b)+"</span>",m+=v?'<div mxv="sizes,size" class="ml10 mr10 _zs_galleryi_" mx-change="'+e+'__cc()" mx-view="mx-dropdown/index?placement='+_(k)+"&list="+r(a,Y)+"&selected="+r(a,w)+'"></div>':"<b>&nbsp;"+s(w)+"&nbsp;</b>",m+="<span>"+i(j)+"</span></div>"),m+=" ",P||(m+='<div mxv mxa="_zs_galleryb3:b" class="_zs_galleryig"><span mxa="_zs_galleryb3:c" class="mr5">'+s(T)+'</span><input class="input input-small _zs_galleryih mr5" value="'+s($)+'" id="'+s(H)+'_jump_input" mx-change="'+e+'__l()" mx-focusin="'+e+'__l()" mx-focusout="'+e+'__l()"/><span mxa="_zs_galleryb3:d" class="mr10">'+s(J)+'</span><a mxs="_zs_galleryb3:_" href="javascript:;" class="btn btn-small" mx-click="'+e+'__cd()">跳转</a></div>'),m+='<ul class="clearfix _zs_galleryia" ',M||(m+=' style="float: right;" '),m+='><li mxa="_zs_galleryb3:e" class="_zs_galleryib"><a class="mc-iconfont _zs_galleryic ',1==U&&(m+="_zs_galleryif"),m+='" href="#" mx-click="'+e+"",m+=U>1?"__cb({page:"+s(U-1)+"})":"__H()",m+='">&#xe61e;</a></li>',d)m+='<li mxa="_zs_galleryb3:f" class="_zs_galleryib">'+s(U)+" / "+s(C)+"</li>";else{m+=" ",I>1&&(m+='<li mxs="_zs_galleryb3:a" class="_zs_galleryib"><a class="_zs_galleryid" href="#" mx-click="'+e+'__cb({page:1})">1</a></li>'),m+=" ",I>2&&(m+='<li mxs="_zs_galleryb3:b" class="_zs_galleryib"><a class="_zs_galleryid _zs_galleryif" href="#" mx-click="'+e+'__H()">...</a></li>'),m+=" ";for(var S=I;S<=O;S++)m+='<li mxa="_zs_galleryb3:g" class="_zs_galleryib"><a class="_zs_galleryid ',S==U&&(m+="_zs_galleryie"),m+='" href="#" mx-click="'+e+"__cb({page:"+s(S)+'})">'+s(S)+"</a></li>";m+=" ",O+2<=C&&(m+='<li mxs="_zs_galleryb3:b" class="_zs_galleryib"><a class="_zs_galleryid _zs_galleryif" href="#" mx-click="'+e+'__H()">...</a></li>'),m+=" ",O<C&&(m+='<li mxa="_zs_galleryb3:h" class="_zs_galleryib"><a class="_zs_galleryid" href="#" mx-click="'+e+"__cb({page:"+s(C)+'})">'+s(C)+"</a></li>"),m+=" "}return m+='<li mxa="_zs_galleryb3:i" class="_zs_galleryib"><a class="mc-iconfont _zs_galleryic rotate180 ',U==C&&(m+="_zs_galleryif"),m+='" href="#" mx-click="'+e+"",m+=U<C?"__cb({page:"+s(U+1)+"})":"__H()",m+='">&#xe61e;</a></li>',M||(m+='<li mxa="_zs_galleryb3:j" class="_zs_galleryib ml10">'+i(x)+"</li>"),m+="</ul></div>"},init:function(l){this.updater.snapshot(),this.assign(l)},assign:function(l){var e=this,a=e.updater.altered(),s=[];try{s=JSON.parse(l.sizes)}catch(e){s=l.sizes}s&&s.length||(s=_);var i=!0;return/^false$/i.test(l.sizesChange)&&(i=!1),e.updater.set({viewId:e.id,step:l.step||5,simplify:l.simplify+""=="true",mini:l.mini+""=="true",hideTotal:l.hideTotal+""=="true",jump:l.jump+""=="false",page:l.page||1,total:0|l.total||0,size:l.size||40,sizesChange:i,sizesPlacement:l.sizesPlacement||"bottom",sizes:s}),a||(a=e.updater.altered()),!!a&&(e.updater.snapshot(),!0)},render:function(){var l=this.__ca();this.updater.digest(l)},__ca:function(){var l=this.updater.get(),e=l.total,a=0|l.page,s=Math.ceil((l.total||1)/l.size);a>s&&(a=s);var i,_=0|l.step,t=_/2|0,g=Math.max(1,a-t),n=Math.min(s,g+_-1);(g=Math.max(1,n-_+1))<=2&&n+(i=3-g)<s&&(n+=i),n+2>s&&g-(i=2-(s-n))>1&&(g-=i),3==g&&(g-=1),n+2==s&&(n+=1);var c=(a-1)*l.size+1,p=Math.min(l.total,a*l.size);0==e&&(c=p=0);var z=a+1;return z>s&&(z=s),{pages:s,offsetStart:c,offsetEnd:p,page:a,start:g,end:n,next:z,tipOffset:r["pager.offset"].replace("${min}","<b>"+c+"</b>").replace("${max}","<b>"+p+"</b>"),tipTotal:r["pager.total"].replace("${total}","<b>"+e+"</b>"),tipPer:r["pager.per.page"],tipUnit:r["pager.unit"],tipJumpTo:r["pager.jump.to"],tipJumpUnit:r["pager.jump.unit"]}},__y:function(){var l=i("#"+this.id),e=this.updater.get();l.trigger({type:"change",page:e.page,size:e.size})},"__cb<click>":function(l){l.preventDefault();this.updater.set(l.params),this.render(),this.__y()},"__cc<change>":function(l){l.stopPropagation();this.updater.set({size:l.value}),this.render(),this.__y()},"__l<change,focusin,focusout>":function(l){l.stopPropagation()},"__cd<click>":function(l){l.stopPropagation();var e=+i("#"+this.id+"_jump_input").val();Number.isInteger(e)&&(this.updater.set({page:e}),this.render(),this.__y())},"__H<click>":function(l){l.preventDefault()}})});