define("mx-pagination/index",["magix","$","../mx-medusa/util","mx-dropdown/index"],(l,e,a)=>{l("mx-dropdown/index");var s=l("magix"),_=l("$"),r=[10,20,30,40],t=l("../mx-medusa/util");s.applyStyle("_zs_galleryah","._zs_galleryjy{box-shadow:0 1px 1px 0 rgba(0,0,0,.08);border:1px solid #f5f5f6}._zs_galleryjz{color:#666}._zs_galleryjz ._zs_galleryjA{float:left;line-height:26px}._zs_galleryjz ._zs_galleryjA ._zs_galleryjB{min-width:66px}._zs_galleryjz ._zs_galleryjA ._zs_galleryjB ._zs_gallerydP{height:26px;line-height:24px}._zs_galleryjz ._zs_galleryjC{display:inline-block}._zs_galleryjz ._zs_galleryjC ._zs_galleryjD{float:left;line-height:26px}._zs_galleryjz ._zs_galleryjC ._zs_galleryjD ._zs_galleryjE,._zs_galleryjz ._zs_galleryjC ._zs_galleryjD ._zs_galleryjF{display:block;min-width:26px;height:26px;margin:0 2px;font-size:12px;border-radius:4px;text-align:center}._zs_galleryjz ._zs_galleryjC ._zs_galleryjD ._zs_galleryjF{color:#666}._zs_galleryjz ._zs_galleryjC ._zs_galleryjD ._zs_galleryjF:hover{color:#333}._zs_galleryjz ._zs_galleryjC ._zs_galleryjD ._zs_galleryjF._zs_galleryjG{color:#333;background-color:#eee}._zs_galleryjz ._zs_galleryjC ._zs_galleryjD ._zs_galleryjF._zs_galleryjH{background:transparent;cursor:not-allowed}._zs_galleryjz ._zs_galleryjC ._zs_galleryjD ._zs_galleryjE{color:#999;line-height:28px}._zs_galleryjz ._zs_galleryjC ._zs_galleryjD ._zs_galleryjE:hover{color:#666}._zs_galleryjz ._zs_galleryjC ._zs_galleryjD ._zs_galleryjE._zs_galleryjH{color:#eee;background:transparent;cursor:not-allowed}._zs_galleryjz ._zs_galleryjI{float:right;margin-left:15px}._zs_galleryjz ._zs_galleryjI ._zs_galleryjJ{width:40px;text-align:center}"),a.exports=s.View.extend({tmpl:function(l,e,a,s,_,r,t,i){if(a||(a=l),!_){var g={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},n=/[&<>"'`]/g,z=function(l){return"&"+g[l]+";"};_=function(l){return""+(null==l?"":l)},s=function(l){return _(l).replace(n,z)}}if(!r){var c={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},p=function(l){return c[l]},y=/[!')(*]/g;r=function(l){return encodeURIComponent(_(l)).replace(y,p)}}if(!i){var o=/[\\'"]/g;i=function(l){return _(l).replace(o,"\\$&")}}t||(t=function(l,e,a,s){for(s=l[j];--s;)if(l[a=j+s]===e)return a;return l[a=j+l[j]++]=e,a});var j="",m="",u=l.simplify,f=l.mini,x=l.tipOffset,d=l.tipTotal,h=l.tipPer,v=l.sizesChange,w=l.sizesPlacement,D=l.sizes,k=l.size,b=l.tipUnit,C=l.jump,H=l.tipJumpTo,F=l.next,P=l.viewId,I=l.tipJumpUnit,E=l.hideTotal,J=l.page,T=l.pages,$=l.start,A=l.end;if(m+='<div mxv mxa="_zs_gallerycw:_" class="clearfix _zs_galleryjz">',u||f||(m+='<div mxv mxa="_zs_gallerycw:a" class="_zs_galleryjA"><span>'+_(x)+"</span><span>"+_(d)+"，</span><span>"+_(h)+"</span>",m+=v?'<div mxv="sizes,size" class="ml10 mr10 _zs_galleryjB" mx-change="'+e+'__cj()" mx-view="mx-dropdown/index?placement='+r(w)+"&list="+t(a,D)+"&selected="+t(a,k)+'"></div>':" "+s(k)+" ",m+="<span>"+_(b)+"</span></div>"),m+=" ",C||(m+='<div mxv mxa="_zs_gallerycw:b" class="_zs_galleryjI"><span mxa="_zs_gallerycw:c" class="mr5">'+s(H)+'</span><input class="input input-small _zs_galleryjJ mr5" value="'+s(F)+'" id="'+s(P)+'_jump_input" mx-change="'+e+'__l()" mx-focusin="'+e+'__l()" mx-focusout="'+e+'__l()"/><span mxa="_zs_gallerycw:d" class="mr10">'+s(I)+'</span><a mxs="_zs_gallerycw:_" href="javascript:;" class="btn btn-small" mx-click="'+e+'__ck()">跳转</a></div>'),m+='<ul class="clearfix _zs_galleryjC" ',E||(m+=' style="float: right;" '),m+='><li mxa="_zs_gallerycw:e" class="_zs_galleryjD"><a class="mc-iconfont _zs_galleryjE ',1==J&&(m+="_zs_galleryjH"),m+='" href="#" mx-click="'+e+"",m+=J>1?"__ci({page:"+s(J-1)+"})":"__H()",m+='">&#xe61e;</a></li>',f)m+='<li mxa="_zs_gallerycw:f" class="_zs_galleryjD">'+s(J)+" / "+s(T)+"</li>";else{m+=" ",$>1&&(m+='<li mxs="_zs_gallerycw:a" class="_zs_galleryjD"><a class="_zs_galleryjF" href="#" mx-click="'+e+'__ci({page:1})">1</a></li>'),m+=" ",$>2&&(m+='<li mxs="_zs_gallerycw:b" class="_zs_galleryjD"><a class="_zs_galleryjF _zs_galleryjH" href="#" mx-click="'+e+'__H()">...</a></li>'),m+=" ";for(var M=$;M<=A;M++)m+='<li mxa="_zs_gallerycw:g" class="_zs_galleryjD"><a class="_zs_galleryjF ',M==J&&(m+="_zs_galleryjG"),m+='" href="#" mx-click="'+e+"__ci({page:"+s(M)+'})">'+s(M)+"</a></li>";m+=" ",A+2<=T&&(m+='<li mxs="_zs_gallerycw:b" class="_zs_galleryjD"><a class="_zs_galleryjF _zs_galleryjH" href="#" mx-click="'+e+'__H()">...</a></li>'),m+=" ",A<T&&(m+='<li mxa="_zs_gallerycw:h" class="_zs_galleryjD"><a class="_zs_galleryjF" href="#" mx-click="'+e+"__ci({page:"+s(T)+'})">'+s(T)+"</a></li>"),m+=" "}return m+='<li mxa="_zs_gallerycw:i" class="_zs_galleryjD"><a class="mc-iconfont _zs_galleryjE rotate180 ',J==T&&(m+="_zs_galleryjH"),m+='" href="#" mx-click="'+e+"",m+=J<T?"__ci({page:"+s(J+1)+"})":"__H()",m+='">&#xe61e;</a></li>',E||(m+='<li mxa="_zs_gallerycw:j" class="_zs_galleryjD ml10">'+_(d)+"</li>"),m+="</ul></div>"},init:function(l){this.updater.snapshot(),this.assign(l)},assign:function(l){var e=this,a=e.updater.altered(),s=[];try{s=JSON.parse(l.sizes)}catch(e){s=l.sizes}s&&s.length||(s=r);var _=!0;/^false$/i.test(l.sizesChange)&&(_=!1);var t,i=l.size||40;return t=l.page?l.page:l.offset?parseInt(l.offset/i)+1:1,e.updater.set({viewId:e.id,step:l.step||5,simplify:l.simplify+""=="true",mini:l.mini+""=="true",hideTotal:l.hideTotal+""=="true",jump:l.jump+""=="false",total:0|l.total||0,page:t,size:i,sizesChange:_,sizesPlacement:l.sizesPlacement||"bottom",sizes:s}),a||(a=e.updater.altered()),!!a&&(e.updater.snapshot(),!0)},render:function(){var l=this.__ch();this.updater.digest(l)},__ch:function(){var l=this.updater.get(),e=l.total,a=0|l.page,s=Math.ceil((l.total||1)/l.size);a>s&&(a=s);var _,r=0|l.step,i=r/2|0,g=Math.max(1,a-i),n=Math.min(s,g+r-1);(g=Math.max(1,n-r+1))<=2&&n+(_=3-g)<s&&(n+=_),n+2>s&&g-(_=2-(s-n))>1&&(g-=_),3==g&&(g-=1),n+2==s&&(n+=1);var z=(a-1)*l.size+1,c=Math.min(l.total,a*l.size);0==e&&(z=c=0);var p=a+1;return p>s&&(p=s),{pages:s,offsetStart:z,offsetEnd:c,page:a,start:g,end:n,next:p,tipOffset:t["pager.offset"].replace("${min}",""+z).replace("${max}",""+c),tipTotal:t["pager.total"].replace("${total}",""+e),tipPer:t["pager.per.page"],tipUnit:t["pager.unit"],tipJumpTo:t["pager.jump.to"],tipJumpUnit:t["pager.jump.unit"]}},__y:function(){var l=_("#"+this.id),e=this.updater.get(),a=+e.page,s=+e.size,r=(a-1)*s;l.trigger({type:"change",page:a,size:s,offset:r})},"__ci<click>":function(l){l.preventDefault();this.updater.set(l.params),this.render(),this.__y()},"__cj<change>":function(l){l.stopPropagation();this.updater.set({size:l.value}),this.render(),this.__y()},"__l<change,focusin,focusout>":function(l){l.stopPropagation()},"__ck<click>":function(l){l.stopPropagation();var e=+_("#"+this.id+"_jump_input").val();Number.isInteger(e)&&(this.updater.set({page:e}),this.render(),this.__y())},"__H<click>":function(l){l.preventDefault()}})});