define("mx-popmenu/index",["magix","../mx-monitor/index","mx-popover/base","$"],(r,_,e)=>{var i=r("magix"),t=(i.Vframe,r("../mx-monitor/index")),o=r("mx-popover/base"),a=r("$");i.applyStyle("_zs_galleryam","._zs_galleryjR{box-shadow:0 1px 1px 0 rgba(0,0,0,.08);border:1px solid #f5f5f6}._zs_galleryjS,._zs_galleryjT,._zs_galleryjU,._zs_galleryjV,._zs_galleryjW,._zs_galleryjX,._zs_galleryjY,._zs_galleryjZ,._zs_galleryk_,._zs_galleryka,._zs_gallerykb,._zs_gallerykc{opacity:0;transition:opacity .15s,-webkit-transform .15s;transition:transform .15s,opacity .15s;transition:transform .15s,opacity .15s,-webkit-transform .15s;-webkit-transform:scale(0);transform:scale(0)}._zs_galleryjT,._zs_galleryk_{-webkit-transform-origin:0 0;transform-origin:0 0}._zs_galleryjU,._zs_galleryjX{-webkit-transform-origin:100% 0;transform-origin:100% 0}._zs_galleryjS{-webkit-transform-origin:50% 0;transform-origin:50% 0}._zs_galleryjY,._zs_gallerykb{-webkit-transform-origin:0 100%;transform-origin:0 100%}._zs_galleryjV,._zs_gallerykc{-webkit-transform-origin:100% 100%;transform-origin:100% 100%}._zs_galleryka{-webkit-transform-origin:50% 100%;transform-origin:50% 100%}._zs_galleryjW{-webkit-transform-origin:100% 50%;transform-origin:100% 50%}._zs_galleryjZ{-webkit-transform-origin:0 50%;transform-origin:0 50%}._zs_gallerykd{opacity:1;-webkit-transform:scale(1);transform:scale(1)}._zs_galleryke{display:none}._zs_gallerykf,._zs_gallerykg{position:absolute;z-index:9999;height:auto;border-radius:4px;font-size:12px;line-height:22px;white-space:normal;font-weight:400;font-family:Helvetica,Arial,Microsoft Yahei,Hiragino Sans GB,Heiti SC,WenQuanYi Micro Hei,sans-serif}._zs_gallerykf{box-shadow:0 1px 1px 0 rgba(0,0,0,.08);border:1px solid #f5f5f6;background-color:#fff;color:#333}._zs_gallerykf ._zs_gallerykh{padding:10px;word-break:break-all}._zs_gallerykg{background-color:rgba(33,33,33,.72);color:#fff}._zs_gallerykg ._zs_gallerykh{padding:4px 10px}"),e.exports=o.extend({tmpl:function(r,_,e,i,t,o,a,n){if(e||(e=r),!t){var s={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},l=/[&<>"'`]/g,c=function(r){return"&"+s[r]+";"};t=function(r){return""+(null==r?"":r)},function(r){return t(r).replace(l,c)}}if(!o){var g={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},f=function(r){return g[r]},m=/[!')(*]/g;o=function(r){return encodeURIComponent(t(r)).replace(m,f)}}if(!n){var p=/[\\'"]/g;n=function(r){return t(r).replace(p,"\\$&")}}var b="",u=r.trigger;return b+=t(u)+""},init:function(r){var _=this;t.__f();var e=a("#"+_.id);_.__cG=e.html(),_.__j=e,_.__bJ=r.triggerType||"hover";var i=function(){clearTimeout(_.__bI),_.__bH=setTimeout(_.wrapAsync(function(){_.__n()}),_.constants.showDelay)},o=r.place||"bc";switch(_.__bJ){case"click":e.click(i);break;case"contextmenu":o="bl",_.__cH={left:e.width()/2,top:0-e.height()/2-10},e.contextmenu(function(r){r.preventDefault(),i()});break;case"hover":e.hover(i,function(){_.__bK()})}var n={t:"top",l:"left",r:"right",b:"bottom",c:"center"},s=o.split(""),l=n[s[0]],c=n[s[1]];_.__cy=l,_.__cz=c,_.__cA=_.constants.classNames[[l,c].join("-")]+" _zs_gallerykf",_.__bG=!1,_.__cB=!1,_.__cC=!1,_.__bF=r.scrollWrapper,_.__cI=r.menus||[],_.__cE=r.width?r.width+"px":"auto",_.__cF="left",_.bindScroll(),_.on("destroy",function(){_.__bH&&clearTimeout(_.__bH),_.__bI&&clearTimeout(_.__bI),a("#popover_"+_.id).remove(),t.__g(_),t.__h()})},render:function(){this.updater.digest({trigger:this.__cG})},__bO:function(){var r=this,_=r.__cA,e=r.__cE,i=r.id,t={menus:r.__cI},o='<div class="_zs_galleryke '+_+'" id="popover_'+i+'"\n                style="width: '+e+';"></div>';a(document.body).append(o);var n=r.owner.mountVframe("popover_"+i,"");n.on("created",function(){var _=r.__bM();_.removeClass("_zs_galleryke"),"hover"==r.__bJ&&_.hover(function(){clearTimeout(r.__bI)},function(){r.__bK()})}),n.mountView("mx-popmenu/content",{data:t,submit:function(_){r.__m(),r.__j.trigger({type:"change",selected:_})}})},__k:function(r){return i.inside(r,this.id)||i.inside(r,"popover_"+this.id)},__n:function(){var r=this;(clearTimeout(r.__bH),r.__bG||(r.__bG=!0,r.__bO()),r.__cC)||(r.__cC=!0,r.__bM().addClass("_zs_gallerykd"),t.__p(r))},__bK:function(){var r=this;clearTimeout(r.__bH),clearTimeout(r.__bI),r.__bI=setTimeout(r.wrapAsync(function(){r.__m()}),r.constants.hideDelay),t.__g(r)},__m:function(){var r=this;(clearTimeout(r.__bI),r.__cC)&&(r.__cC=!1,a("#popover_"+r.id).removeClass("_zs_gallerykd"),t.__g(r))}})});