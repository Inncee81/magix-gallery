define("mx-popmenu/index",["magix","../mx-monitor/index","mx-popover/base","$"],(r,e,_)=>{var t=r("magix"),i=(t.Vframe,r("../mx-monitor/index")),a=r("mx-popover/base"),o=r("$");t.applyStyle("_zs_galleryaj","._zs_galleryjS{box-shadow:0 1px 1px 0 rgba(0,0,0,.08);border:1px solid #f5f5f6}._zs_galleryjT,._zs_galleryjU,._zs_galleryjV,._zs_galleryjW,._zs_galleryjX,._zs_galleryjY,._zs_galleryjZ,._zs_galleryk_,._zs_galleryka,._zs_gallerykb,._zs_gallerykc,._zs_gallerykd{opacity:0;transition:opacity .15s,-webkit-transform .15s;transition:transform .15s,opacity .15s;transition:transform .15s,opacity .15s,-webkit-transform .15s;-webkit-transform:scale(0);transform:scale(0)}._zs_galleryjU,._zs_galleryka{-webkit-transform-origin:0 0;transform-origin:0 0}._zs_galleryjV,._zs_galleryjY{-webkit-transform-origin:100% 0;transform-origin:100% 0}._zs_galleryjT{-webkit-transform-origin:50% 0;transform-origin:50% 0}._zs_galleryjZ,._zs_gallerykc{-webkit-transform-origin:0 100%;transform-origin:0 100%}._zs_galleryjW,._zs_gallerykd{-webkit-transform-origin:100% 100%;transform-origin:100% 100%}._zs_gallerykb{-webkit-transform-origin:50% 100%;transform-origin:50% 100%}._zs_galleryjX{-webkit-transform-origin:100% 50%;transform-origin:100% 50%}._zs_galleryk_{-webkit-transform-origin:0 50%;transform-origin:0 50%}._zs_galleryke{opacity:1;-webkit-transform:scale(1);transform:scale(1)}._zs_gallerykf{display:none}._zs_gallerykg,._zs_gallerykh{position:absolute;z-index:9999;height:auto;border-radius:4px;font-size:12px;line-height:22px;white-space:normal;font-weight:400;font-family:Helvetica,Arial,Microsoft Yahei,Hiragino Sans GB,Heiti SC,WenQuanYi Micro Hei,sans-serif}._zs_gallerykg{box-shadow:0 1px 1px 0 rgba(0,0,0,.08);border:1px solid #f5f5f6;background-color:#fff;color:#333}._zs_gallerykg ._zs_galleryki{padding:10px;word-break:break-all}._zs_gallerykh{background-color:rgba(33,33,33,.72);color:#fff}._zs_gallerykh ._zs_galleryki{padding:4px 10px}"),_.exports=a.extend({tmpl:function(r,e,_,t,i,a,o,n){if(_||(_=r),!i){var s={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},l=/[&<>"'`]/g,c=function(r){return"&"+s[r]+";"};i=function(r){return""+(null==r?"":r)},function(r){return i(r).replace(l,c)}}if(!a){var g={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},f=function(r){return g[r]},p=/[!')(*]/g;a=function(r){return encodeURIComponent(i(r)).replace(p,f)}}if(!n){var m=/[\\'"]/g;n=function(r){return i(r).replace(m,"\\$&")}}var b="",u=r.trigger;return b+=i(u)+""},init:function(r){var e=this;i.__f();var _=o("#"+e.id);e.__cr=_.html(),e.__j=_,e.__bv=r.triggerType||"hover";var t=function(){clearTimeout(e.__bu),e.__bt=setTimeout(e.wrapAsync(function(){e.__n()}),e.constants.showDelay)},a=r.place||"bc";switch(e.__bv){case"click":_.click(t);break;case"contextmenu":a="bl",e.__cs={left:_.width()/2,top:0-_.height()/2-10},_.contextmenu(function(r){r.preventDefault(),t()});break;case"hover":_.hover(t,function(){e.__bw()})}var n={t:"top",l:"left",r:"right",b:"bottom",c:"center"},s=a.split(""),l=n[s[0]],c=n[s[1]];e.__cl=l,e.__cm=c,e.__cn=e.constants.classNames[l+c[0].toUpperCase()+c.slice(1)]+" _zs_gallerykg",e.__bp=!1,e.__bq=!1,e.__br=!1,e.__bs=r.scrollWrapper,e.__ct=r.menus||[],e.__cp=r.width?r.width+"px":"auto",e.__cq="left",e.bindScroll(),e.on("destroy",function(){e.__bt&&clearTimeout(e.__bt),e.__bu&&clearTimeout(e.__bu),o("#popover_"+e.id).remove(),i.__g(e),i.__h()})},render:function(){this.updater.digest({trigger:this.__cr})},__bz:function(){var r=this,e=r.__cn,_=r.__cp,t=r.id,i={menus:r.__ct},a='<div class="_zs_gallerykf '+e+'" id="popover_'+t+'"\n                style="width: '+_+';"></div>';o(document.body).append(a);var n=r.owner.mountVframe("popover_"+t,"");n.on("created",function(){var e=r.__bx();e.removeClass("_zs_gallerykf"),"hover"==r.__bv&&e.hover(function(){clearTimeout(r.__bu)},function(){r.__bw()})}),n.mountView("mx-popmenu/content",{data:i,submit:function(e){r.__m(),r.__j.trigger({type:"change",selected:e})}})},__k:function(r){return t.inside(r,this.id)||t.inside(r,"popover_"+this.id)},__n:function(){var r=this;(clearTimeout(r.__bt),r.__bp||(r.__bp=!0,r.__bz()),r.__br)||(r.__br=!0,r.__bx().addClass("_zs_galleryke"),i.__p(r))},__bw:function(){var r=this;clearTimeout(r.__bt),clearTimeout(r.__bu),r.__bu=setTimeout(r.wrapAsync(function(){r.__m()}),r.constants.hideDelay),i.__g(r)},__m:function(){var r=this;(clearTimeout(r.__bu),r.__br)&&(r.__br=!1,o("#popover_"+r.id).removeClass("_zs_galleryke"),i.__g(r))}})});