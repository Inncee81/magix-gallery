define("mx-popmenu/index",["magix","../mx-util/monitor","mx-popover/base","$"],(r,_,i)=>{var e=r("magix"),t=(e.Vframe,r("../mx-util/monitor")),a=r("mx-popover/base"),n=r("$");e.applyStyle("_zs_galleryai","._zs_galleryhS,._zs_galleryhT,._zs_galleryhU,._zs_galleryhV,._zs_galleryhW,._zs_galleryhX,._zs_galleryhY,._zs_galleryhZ,._zs_galleryi_,._zs_galleryia,._zs_galleryic,._zs_galleryid{opacity:0;transition:opacity .15s,-webkit-transform .15s;transition:transform .15s,opacity .15s;transition:transform .15s,opacity .15s,-webkit-transform .15s;-webkit-transform:scale(0);transform:scale(0)}._zs_galleryhT,._zs_galleryi_{-webkit-transform-origin:0 0;transform-origin:0 0}._zs_galleryhU,._zs_galleryhX{-webkit-transform-origin:100% 0;transform-origin:100% 0}._zs_galleryhS{-webkit-transform-origin:50% 0;transform-origin:50% 0}._zs_galleryhY,._zs_galleryic{-webkit-transform-origin:0 100%;transform-origin:0 100%}._zs_galleryhV,._zs_galleryid{-webkit-transform-origin:100% 100%;transform-origin:100% 100%}._zs_galleryia{-webkit-transform-origin:50% 100%;transform-origin:50% 100%}._zs_galleryhW{-webkit-transform-origin:100% 50%;transform-origin:100% 50%}._zs_galleryhZ{-webkit-transform-origin:0 50%;transform-origin:0 50%}._zs_galleryie{opacity:1;-webkit-transform:scale(1);transform:scale(1)}._zs_galleryif{display:none}._zs_galleryig,._zs_galleryih{position:absolute;z-index:9999;height:auto;border-radius:var(--border-radius);font-size:12px;line-height:22px;white-space:normal;font-weight:400;font-family:Helvetica,Arial,Microsoft Yahei,Hiragino Sans GB,Heiti SC,WenQuanYi Micro Hei,sans-serif}._zs_galleryig{background-color:#fff;color:#333}._zs_galleryig ._zs_galleryii{padding:10px;word-break:break-all}._zs_galleryih{background-color:rgba(33,33,33,.72);color:#fff}._zs_galleryih ._zs_galleryii{padding:4px 10px}"),i.exports=a.extend({tmpl:function(r,_,i,e,t,a,n,o){if(i||(i=r),!t){var l={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},s=/[&<>"'`]/g,c=function(r){return"&"+l[r]+";"};t=function(r){return""+(null==r?"":r)},function(r){return t(r).replace(s,c)}}if(!a){var g={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},f=function(r){return g[r]},m=/[!')(*]/g;a=function(r){return encodeURIComponent(t(r)).replace(m,f)}}if(!o){var u=/[\\'"]/g;o=function(r){return t(r).replace(u,"\\$&")}}var y="",b=r.trigger;return y+=t(b)+""},init:function(r){var _=this;t.__h();var i=n("#"+_.id);_.__cH=i.html(),_.___=i,_.__bN=r.triggerType||"hover";var e=function(){clearTimeout(_.__bM),_.__bL=setTimeout(_.wrapAsync(function(){_.__o()}),_.constants.showDelay)},a=r.place||"bc";switch(_.__bN){case"click":i.click(e);break;case"contextmenu":a="bl",_.__cI={left:i.width()/2,top:0-i.height()/2-10},i.contextmenu(function(r){r.preventDefault(),e()});break;case"hover":i.hover(e,function(){_.__bO()})}var o={t:"top",l:"left",r:"right",b:"bottom",c:"center"},l=a.split(""),s=o[l[0]],c=o[l[1]];_.__cz=s,_.__cA=c,_.__cB=_.constants.classNames[[s,c].join("-")]+" _zs_galleryig mx-shadow",_.__bK=!1,_.__cC=!1,_.__cD=!1,_.__bJ=r.scrollWrapper,_.__cJ=r.menus||[],_.__cF=r.width?r.width+"px":"auto",_.__cG="left",_.bindScroll(),_.on("destroy",function(){_.__bL&&clearTimeout(_.__bL),_.__bM&&clearTimeout(_.__bM),n("#popover_"+_.id).remove(),t.__i(_),t.__j()})},render:function(){this.updater.digest({trigger:this.__cH})},__bS:function(){var r=this,_=r.__cB,i=r.__cF,e=r.id,t={menus:r.__cJ},a='<div class="_zs_galleryif '+_+'" id="popover_'+e+'"\n                style="width: '+i+';"></div>';n(document.body).append(a);var o=r.owner.mountVframe("popover_"+e,"");o.on("created",function(){var _=r.__bQ();_.removeClass("_zs_galleryif"),"hover"==r.__bN&&_.hover(function(){clearTimeout(r.__bM)},function(){r.__bO()})}),o.mountView("mx-popmenu/content",{data:t,submit:function(_){r.__n(),r.___.trigger({type:"change",selected:_})}})},__l:function(r){return e.inside(r,this.id)||e.inside(r,"popover_"+this.id)},__o:function(){var r=this;(clearTimeout(r.__bL),r.__bK||(r.__bK=!0,r.__bS()),r.__cD)||(r.__cD=!0,r.__bQ().addClass("_zs_galleryie"),t.__q(r))},__bO:function(){var r=this;clearTimeout(r.__bL),clearTimeout(r.__bM),r.__bM=setTimeout(r.wrapAsync(function(){r.__n()}),r.constants.hideDelay),t.__i(r)},__n:function(){var r=this;(clearTimeout(r.__bM),r.__cD)&&(r.__cD=!1,n("#popover_"+r.id).removeClass("_zs_galleryie"),t.__i(r))}})});