define("mx-popmenu/index",["magix","../mx-util/monitor","mx-popover/base","$"],(r,i,_)=>{var e=r("magix"),t=(e.Vframe,r("../mx-util/monitor")),n=r("mx-popover/base"),o=r("$");e.applyStyle("_zs_galleryal","._zs_galleryim,._zs_galleryin,._zs_galleryio,._zs_galleryip,._zs_galleryiq,._zs_galleryir,._zs_galleryis,._zs_galleryit,._zs_galleryiu,._zs_galleryiv,._zs_galleryiw,._zs_galleryix{opacity:0;transition:opacity .15s,-webkit-transform .15s;transition:transform .15s,opacity .15s;transition:transform .15s,opacity .15s,-webkit-transform .15s;-webkit-transform:scale(0);transform:scale(0)}._zs_galleryin,._zs_galleryiu{-webkit-transform-origin:0 0;transform-origin:0 0}._zs_galleryio,._zs_galleryir{-webkit-transform-origin:100% 0;transform-origin:100% 0}._zs_galleryim{-webkit-transform-origin:50% 0;transform-origin:50% 0}._zs_galleryis,._zs_galleryiw{-webkit-transform-origin:0 100%;transform-origin:0 100%}._zs_galleryip,._zs_galleryix{-webkit-transform-origin:100% 100%;transform-origin:100% 100%}._zs_galleryiv{-webkit-transform-origin:50% 100%;transform-origin:50% 100%}._zs_galleryiq{-webkit-transform-origin:100% 50%;transform-origin:100% 50%}._zs_galleryit{-webkit-transform-origin:0 50%;transform-origin:0 50%}._zs_galleryiy{opacity:1;-webkit-transform:scale(1);transform:scale(1)}._zs_galleryiz{display:none}._zs_galleryiA,._zs_galleryiB{position:absolute;z-index:9999;height:auto;border-radius:var(--border-radius);font-size:12px;line-height:22px;white-space:normal;font-weight:400;font-family:Helvetica,Arial,Microsoft Yahei,Hiragino Sans GB,Heiti SC,WenQuanYi Micro Hei,sans-serif}._zs_galleryiA{background-color:#fff;color:#333}._zs_galleryiA ._zs_galleryiC{padding:10px;word-break:break-all}._zs_galleryiB{background-color:rgba(33,33,33,.72);color:#fff}._zs_galleryiB ._zs_galleryiC{padding:4px 10px}"),_.exports=n.extend({tmpl:function(r,i,_,e,t,n,o,a){if(_||(_=r),!t){var l={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},s=/[&<>"'`]/g,c=function(r){return"&"+l[r]+";"};t=function(r){return""+(null==r?"":r)},function(r){return t(r).replace(s,c)}}if(!n){var g={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},f=function(r){return g[r]},m=/[!')(*]/g;n=function(r){return encodeURIComponent(t(r)).replace(m,f)}}if(!a){var u=/[\\'"]/g;a=function(r){return t(r).replace(u,"\\$&")}}var y="",p=r.trigger;return y+=t(p)+""},init:function(r){var i=this;t.__h();var _=o("#"+i.id);i.__cH=_.html(),i.__a=_,i.__bN=r.triggerType||"hover";var e=function(){clearTimeout(i.__bM),i.__bL=setTimeout(i.wrapAsync(function(){i.__o()}),i.constants.showDelay)},n=r.place||"bc";switch(i.__bN){case"click":_.click(e);break;case"contextmenu":n="bl",i.__cI={left:_.width()/2,top:0-_.height()/2-10},_.contextmenu(function(r){r.preventDefault(),e()});break;case"hover":_.hover(e,function(){i.__bO()})}var a={t:"top",l:"left",r:"right",b:"bottom",c:"center"},l=n.split(""),s=a[l[0]],c=a[l[1]];i.__cz=s,i.__cA=c,i.__cB=i.constants.classNames[[s,c].join("-")]+" _zs_galleryiA mx-shadow",i.__bK=!1,i.__cC=!1,i.__cD=!1,i.__bJ=r.scrollWrapper,i.__cJ=r.menus||[],i.__cF=r.width?r.width+"px":"auto",i.__cG="left",i.bindScroll(),i.on("destroy",function(){i.__bL&&clearTimeout(i.__bL),i.__bM&&clearTimeout(i.__bM),o("#popover_"+i.id).remove(),t.__i(i),t.__j()})},render:function(){this.updater.digest({trigger:this.__cH})},__bS:function(){var r=this,i=r.__cB,_=r.__cF,e=r.id,t={menus:r.__cJ},n='<div class="_zs_galleryiz '+i+'" id="popover_'+e+'"\n                style="width: '+_+';"></div>';o(document.body).append(n);var a=r.owner.mountVframe("popover_"+e,"");a.on("created",function(){var i=r.__bQ();i.removeClass("_zs_galleryiz"),"hover"==r.__bN&&i.hover(function(){clearTimeout(r.__bM)},function(){r.__bO()})}),a.mountView("mx-popmenu/content",{data:t,submit:function(i){r.__n(),r.__a.trigger({type:"change",selected:i})}})},__l:function(r){return e.inside(r,this.id)||e.inside(r,"popover_"+this.id)},__o:function(){var r=this;(clearTimeout(r.__bL),r.__bK||(r.__bK=!0,r.__bS()),r.__cD)||(r.__cD=!0,r.__bQ().addClass("_zs_galleryiy"),t.__q(r))},__bO:function(){var r=this;clearTimeout(r.__bL),clearTimeout(r.__bM),r.__bM=setTimeout(r.wrapAsync(function(){r.__n()}),r.constants.hideDelay),t.__i(r)},__n:function(){var r=this;(clearTimeout(r.__bM),r.__cD)&&(r.__cD=!1,o("#popover_"+r.id).removeClass("_zs_galleryiy"),t.__i(r))}})});