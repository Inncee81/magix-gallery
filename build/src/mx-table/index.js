define("mx-table/index",["magix","$"],(t,e,_)=>{var i=t("magix"),d=t("$"),l=/width\s*:\s*(\d+)px/;i.applyStyle("_zs_galleryak",'._zs_galleryk_{box-shadow:0 2px 4px rgba(51,51,51,.08);border:1px solid #eee}[mx-view*="mx-table/excel"],[mx-view*="mx-table/index"]{position:relative}[mx-view*="mx-table/excel"] table,[mx-view*="mx-table/index"] table{table-layout:auto}[mx-view*="mx-table/excel"] ._zs_galleryka,[mx-view*="mx-table/excel"] ._zs_gallerykb,[mx-view*="mx-table/index"] ._zs_galleryka,[mx-view*="mx-table/index"] ._zs_gallerykb{position:absolute;left:0;right:0;overflow-x:scroll;overflow-y:hidden}[mx-view*="mx-table/excel"] ._zs_gallerykb,[mx-view*="mx-table/index"] ._zs_gallerykb{top:0;z-index:1;-ms-overflow-style:none;overflow:auto}[mx-view*="mx-table/excel"] ._zs_gallerykb::-webkit-scrollbar,[mx-view*="mx-table/index"] ._zs_gallerykb::-webkit-scrollbar{display:none;width:0;height:0}[mx-view*="mx-table/excel"] ._zs_gallerykb::-webkit-scrollbar-thumb,[mx-view*="mx-table/index"] ._zs_gallerykb::-webkit-scrollbar-thumb{background-color:transparent}[mx-view*="mx-table/excel"] ._zs_galleryka,[mx-view*="mx-table/index"] ._zs_galleryka{display:none;z-index:2}[mx-view*="mx-table/excel"] ._zs_galleryka ._zs_gallerykc,[mx-view*="mx-table/index"] ._zs_galleryka ._zs_gallerykc{height:10px}[mx-view*="mx-table/excel"] ._zs_galleryka::-webkit-scrollbar,[mx-view*="mx-table/index"] ._zs_galleryka::-webkit-scrollbar{width:14px;height:14px}[mx-view*="mx-table/excel"] ._zs_galleryka::-webkit-scrollbar-thumb,[mx-view*="mx-table/index"] ._zs_galleryka::-webkit-scrollbar-thumb{background-color:#d8e3ff;border-radius:7px}[mx-view*="mx-table/excel"] ._zs_gallerykd,[mx-view*="mx-table/index"] ._zs_gallerykd{position:absolute;top:0;left:0;z-index:2;background-color:#fff;width:auto}[mx-view*="mx-table/excel"] ._zs_galleryke,[mx-view*="mx-table/index"] ._zs_galleryke{box-shadow:3px 0 4px rgba(0,0,0,.06)}'),_.exports=i.View.extend({init:function(t){var e=this;e.__dv=0;var _=d("#"+e.id);e.__j=_;var i=_.find('table[left="true"]');i&&i.length>0?(e.__dw=i,e.__dx=e.__dy(i,"left"),e.__dz=i.find("thead"),e.__dA=_.find('table[center="true"]')):e.__dA=_.find("table"),e.__dB=e.__dy(e.__dA,"main"),e.__dC=e.__dA.find("thead"),e.__dD=t.sticky+""=="true",e.__dE=t.rowHoverClass||"hover-tr",t.scrollWrapper&&(e.__cj=d("#"+t.scrollWrapper)),e.assign()},assign:function(){return!0},render:function(){this.__dF(),this.__dG(this.__dv,"add")},__dy:function(t,e){e=this.id+"_"+e,t.attr("id",e+"_table");var _=t.parent("div");return _.attr(e,e),_},__dF:function(){var t=this,e=t.__dw;t.__dA;if(e){t.__dH();var _=t.__dB;_.addClass("_zs_gallerykb"),_.css("left",e.outerWidth()),t.__dI(),t.__dJ()}t.__dK(),t.__dL(),t.__dM()},__dL:function(){var t,e,_=this,i=_.id,l=_.__dx;if(_.__cj?(t=_.__cj,e=function(){_.__dN(t)}):(t=d(window),e=function(){_.__dO(t)}),l&&l.length>0&&l.hasClass("_zs_galleryke")){_.__dP=!0;var r=_.__dB,a=_.__dA,s=r.width(),o=a.width(),n=d("#"+i+"_scrollbar");if(n&&n.length)n.css({width:s}),n.find("._zs_gallerykc").width(o);else{var h='<div id="'+i+'_scrollbar" class="_zs_galleryka" style="width:'+s+'px;"><div class="_zs_gallerykc" style="width:'+o+'px;"><div><div>';r.after(d(h)),n=d("#"+i+"_scrollbar")}var c=function(){r[0].scrollLeft=n[0].scrollLeft},f=function(){var t=r[0].scrollLeft;n[0].scrollLeft=t,_.__dQ=t};n.off("scroll",c).on("scroll",c),r.off("scroll",f).on("scroll",f),_.__dR||(_.__dR=1,_.on("destroy",function(){t.off("scroll.custombar",e)}),t.off("scroll.custombar",e).on("scroll.custombar",e)),e(),_.__dQ&&(r[0].scrollLeft=_.__dQ,n[0].scrollLeft=_.__dQ)}else{_.__dP=!1;var x=d("#"+i+"_scrollbar");x&&x.length&&x.remove()}},__dM:function(){var t,e,_=this;_.__dD&&(_.__cj?(t=_.__cj,e=function(){_.__dS(t)}):(t=d(window),e=function(){_.__dT(t)}),_.__dU||(_.__dU=1,_.on("destroy",function(){t.off("scroll.customsticky",e)}),t.on("scroll.customsticky",e),_.__dV=_.__dC.height()),e())},__dK:function(){var t=function(t){for(var e=t.find("tbody>tr"),_=t.find("tbody>tr:first-child>td"),i=[],l=0;l<_.length;l++)for(var r=+(g=_.eq(l)).attr("colspan")||1,a=g.outerWidth(),s=0;s<r;s++)i.push(a/r);var o=e.length;for(l=0;l<o;l++){var n=d(e[l]).find("td"),h=0;for(s=0;s<n.length;s++){r=+(g=n.eq(s)).attr("colspan")||1,a=0;for(var c=0;c<r;c++)a+=i[c+h];g.css("width",a),h+=r}}var f=t.find("thead>tr");if(o>0)for(l=0;l<f.length;l++){var x=d(f[l]).find("th");for(h=0,s=0;s<x.length;s++){for(r=+(p=x.eq(s)).attr("colspan")||1,a=0,c=0;c<r;c++)a+=i[c+h];p.css("width",a),h+=r}}else{var v=t.find("thead>tr:first-child>th"),b=[];for(l=0;l<v.length;l++){var g;for(r=+(g=v.eq(l)).attr("colspan")||1,a=g.outerWidth(),s=0;s<r;s++)b.push(a/r)}for(l=0;l<f.length;l++)for(x=d(f[l]).find("th"),h=0,s=0;s<x.length;s++){var p;for(r=+(p=x.eq(s)).attr("colspan")||1,a=0,c=0;c<r;c++)a+=b[c+h];p.css("width",a),h+=r}}};t(this.__dA);var e=this.__dw;e&&t(e)},__dW:function(t){var e=t.find("thead>tr:first-child>th"),_=t.attr("width");if(!_){_=0;for(var i=e.length;i--;){var d,r=e.eq(i),a=120,s=r.attr("style");if(s)(d=s.match(l))&&(a=parseInt(d[1]));else a=(d=r.attr("width"))?+d:r.outerWidth();_+=a}}return+_},__dH:function(){var t=this.__dw,e=this.__dx,_=this.__dW(t);t.css("width",_),t.find("thead").css("width",_),e.css("width",t.outerWidth())},__dI:function(){var t=this,e=t.__j,_=t.__dA,i=t.__dw,d=e.width()-i.outerWidth(),l=t.__dW(_),r=t.__dx;l>d?(_.css("width",l),_.find("thead").css("width",l),r.css({position:"relative","z-index":2}),r.addClass("_zs_galleryke")):(_.css("width",d),_.find("thead").css("width",d),r.removeClass("_zs_galleryke"))},__dJ:function(){for(var t=this.__dA,e=this.__dw,_=t.find("tbody>tr"),i=e.find("tbody>tr"),l=0;l<i.length;l++){var r=Math.max(d(i[l]).height(),d(_[l]).height());d(i[l]).height(r),d(_[l]).height(r)}var a=t.find("thead>tr"),s=e.find("thead>tr"),o=function(t){for(var e=0,_=0;_<t.length;_++)e+=d(t[_]).height();return e},n=Math.max(o(a),o(s));1==a.length&&a.height(n),1==s.length&&s.height(n)},"$doc<htmlchanged>":function(t){t.vId==this.owner.pId&&this.__dX()},"$doc<navslidend,tableresize>":function(t){this.__dX()},"$win<resize>":function(t){this.__dX()},__dX:function(){var t=this;t.__dw&&(t.__dI(),t.__dJ(),t.__dL()),t.__dK()},__dG:function(t,e){var _=this,i=_.__dE,d=_.__dA.find("tbody>tr");if(0!=d.length){e=e+"Class";var l=d.eq(t);l&&l.length&&"none"!=l.css("display")||(t=0,_.__dv=t,_.__j.attr("data-hover",t),l=d.eq(t)),l[e](i);var r=l.next(".operation-tr"),a=r&&r.length;a&&(r[e]("operation-tr-open"),l[e]("next-operation-tr-open"));var s=_.__dw;if(s){var o=s.find("tbody>tr").eq(t);if(o[e](i),a)o.next(".operation-tr")[e]("operation-tr-open"),o[e]("next-operation-tr-open")}}},"$tbody>tr<mouseover>":function(t){var e=this,_=(e.__dE,t.eventTarget);if(!i.inside(t.relatedTarget,_)&&!d(_).hasClass("operation-tr")){e.__dG(e.__dv,"remove");var l=d(_).parents("tbody").find("tr").index(_);e.__dv=l,e.__dG(l,"add")}},__dY:function(t,e,_){var i=this,d=i.__dV,l=i.__dB,r=i.__dC,a=i.__dx,s=i.__dz;t.height();e?(l.css({paddingTop:d}),r.css({position:"absolute",zIndex:80,top:_}),s&&(a.css({paddingTop:d}),s.css({position:"absolute",zIndex:80,top:_}))):(l.css({paddingTop:0}),r.css({position:"initial",zIndex:"auto",top:"auto"}),s&&(a.css({paddingTop:0}),s.css({position:"initial",zIndex:"auto",top:"auto"})))},__dS:function(t){var e=this;if(e.__dD){var _=t.scrollTop(),i=(e.__dV,e.__j.height()-t.height());_>=0&&_<=i?e.__dY(t,!0,_):e.__dY(t,!1)}},__dT:function(t){var e=this;if(e.__dD){var _=t.scrollTop(),i=e.__dV,d=e.__j,l=d.offset(),r=l.top,a=l.top+d.height()-i;_>=r&&_<=a?e.__dY(t,!0,_-r):e.__dY(t,!1)}},__dN:function(t){if(this.__dP){var e,_=t.scrollTop(),i=this.__dx,l=this.__dA,r=d("#"+this.id+"_scrollbar"),a=r.find("._zs_gallerykc"),s=r.height(),o=(a.height(),i.width());e=l.height()>t.height()?t.height()-s+_:t.height()-s,r.css({display:"block",position:"absolute",left:o,top:e})}},__dO:function(t){if(this.__dP){var e,_=t.scrollTop(),i=t.height(),l=this.__dx,r=this.__dA.find("tbody"),a=d("#"+this.id+"_scrollbar"),s=a.find("._zs_gallerykc"),o=a.height(),n=s.height(),h=r.offset().top,c=h+r.height()+o-n;if(c<_||h>_+i)a.css({display:"none"});else if(_<=(e=c)&&e<=_+i){var f=l.width();a.css({display:"block",position:"absolute",left:f,bottom:n-o})}else{f=l.offset().left+l.width();a.css({display:"block",position:"fixed",left:f,bottom:0})}}}})});