define("mx-table/index",["magix","$"],(t,e,i)=>{var _=t("magix"),l=t("$"),r=/width\s*:\s*(\d+)px/;_.applyStyle("_zs_galleryaC",'[mx-view*="mx-table/excel"],[mx-view*="mx-table/index"]{position:relative}[mx-view*="mx-table/excel"] table,[mx-view*="mx-table/index"] table{table-layout:auto}[mx-view*="mx-table/excel"] ._zs_gallerykd,[mx-view*="mx-table/excel"] ._zs_galleryke,[mx-view*="mx-table/index"] ._zs_gallerykd,[mx-view*="mx-table/index"] ._zs_galleryke{position:absolute;left:0;right:0;overflow-x:scroll;overflow-y:hidden}[mx-view*="mx-table/excel"] ._zs_galleryke,[mx-view*="mx-table/index"] ._zs_galleryke{top:0;z-index:1;-ms-overflow-style:none;overflow:auto}[mx-view*="mx-table/excel"] ._zs_galleryke::-webkit-scrollbar,[mx-view*="mx-table/index"] ._zs_galleryke::-webkit-scrollbar{display:none;width:0;height:0}[mx-view*="mx-table/excel"] ._zs_galleryke::-webkit-scrollbar-thumb,[mx-view*="mx-table/index"] ._zs_galleryke::-webkit-scrollbar-thumb{background-color:transparent}[mx-view*="mx-table/excel"] ._zs_gallerykd,[mx-view*="mx-table/index"] ._zs_gallerykd{display:none;z-index:2;opacity:.3}[mx-view*="mx-table/excel"] ._zs_gallerykd ._zs_gallerykf,[mx-view*="mx-table/index"] ._zs_gallerykd ._zs_gallerykf{height:1px}[mx-view*="mx-table/excel"] ._zs_gallerykd::-webkit-scrollbar,[mx-view*="mx-table/index"] ._zs_gallerykd::-webkit-scrollbar{width:14px;height:14px}[mx-view*="mx-table/excel"] ._zs_gallerykd::-webkit-scrollbar-thumb,[mx-view*="mx-table/index"] ._zs_gallerykd::-webkit-scrollbar-thumb{background-color:var(--color-brand);border-radius:7px}[mx-view*="mx-table/excel"] ._zs_gallerykg,[mx-view*="mx-table/index"] ._zs_gallerykg{box-shadow:3px 0 4px rgba(0,0,0,.06)}'),i.exports=_.View.extend({init:function(t){var e=this;e.__dA=0;var i=l("#"+e.id);e.__a=i;var _=i.find('table[left="true"]');_&&_.length>0?(e.__dB=_,e.__dC=e.__dD(_,"left"),e.__dE=_.find("thead"),e.__dF=i.find('table[center="true"]')):e.__dF=i.find("table"),e.__dG=e.__dD(e.__dF,"main"),e.__dH=e.__dF.find("thead"),e.__dI=t.sticky+""=="true",e.__dJ=t.stickyEnd+""=="true",e.__dK=t.stickyInterval||0,e.__dL=t.rowHoverClass||"hover-tr",t.scrollWrapper&&(e.__bJ=l("#"+t.scrollWrapper)),e.assign()},assign:function(){return!0},render:function(){this.__dM(),this.__dN(this.__dA,"add")},__dD:function(t,e){e=this.id+"_"+e,t.attr("id",e+"_table");var i=t.parent("div");return i.attr(e,e),i},__dM:function(){var t=this,e=t.__dB;t.__dF;if(e){t.__dO();var i=t.__dG;i.addClass("_zs_galleryke"),i.css("left",e.outerWidth()),t.__dP(),t.__dQ()}t.__dR(),t.__dS(),t.__dT()},__dS:function(){var t,e,i=this,_=i.id,r=i.__dC;if(i.__bJ?(t=i.__bJ,e=function(){i.__dU(t)}):(t=l(window),e=function(){i.__dV(t)}),r&&r.length>0&&r.hasClass("_zs_gallerykg")){i.__dW=!0;var d=i.__dG,s=i.__dF,a=d.width(),o=s.width(),n=l("#"+_+"_scrollbar");if(n&&n.length)n.css({width:a}),n.find("._zs_gallerykf").width(o);else{var h='<div id="'+_+'_scrollbar" class="_zs_gallerykd" style="width:'+a+'px;"><div class="_zs_gallerykf" style="width:'+o+'px;"><div><div>';d.after(l(h)),n=l("#"+_+"_scrollbar")}var f=function(){d[0].scrollLeft=n[0].scrollLeft},c=function(){var t=d[0].scrollLeft;n[0].scrollLeft=t,i.__dX=t};n.off("scroll",f).on("scroll",f),d.off("scroll",c).on("scroll",c),i.on("destroy",function(){t.off("scroll.custombar",e)}),t.off("scroll.custombar",e).on("scroll.custombar",e),e(),i.__dX&&(d[0].scrollLeft=i.__dX,n[0].scrollLeft=i.__dX)}else{i.__dW=!1;var v=l("#"+_+"_scrollbar");v&&v.length&&v.remove()}},__dT:function(){var t=this,e=t.__a,i=t.__dH,_=t.__dE;if(t.__dI)if(t.__bJ){var r=t.__bJ,d=function(){var i=r.scrollTop(),_=e.height()-r.height();i>=0&&i<=_?t.__dY(r,i):t.__dZ(r)};t.on("destroy",function(){r.off("scroll.customsticky",d)}),r.on("scroll.customsticky",d),d()}else{var s=l(window),a=t.__dH.height(),o=+t.__dK,n=function(){var i=s.scrollTop(),_=e.offset().top-o,l=_+e.height()-a;i>=_&&i<=l?t.__dY(s,i-_):t.__dZ(s)};t.on("destroy",function(){s.off("scroll.sticky")}),t.__dJ?s.on("scroll.sticky",function(){t.__dZ(s),clearTimeout(t.__e_),t.__e_=setTimeout(t.wrapAsync(function(){var l=s.scrollTop(),r=e.offset().top-o,d=r+e.height()-a;if(l>=r&&l<=d){t.__dY(s,l-r-a);i.animate({top:l-r},200),_&&_.animate({top:l-r},200)}else t.__dZ(s)}),250)}):s.on("scroll.sticky",n),n()}},__dY:function(t,e){var i=this.__dG,_=this.__dH,l=this.__dC,r=this.__dE,d=_.height();i.css({paddingTop:d}),_.css({position:"absolute",zIndex:80,top:e}),r&&(l.css({paddingTop:d}),r.css({position:"absolute",zIndex:80,top:e}))},__dZ:function(t){var e=this.__dG,i=this.__dH,_=this.__dC,l=this.__dE;e.css({paddingTop:0}),i.css({position:"initial",zIndex:"auto",top:"auto"}),l&&(_.css({paddingTop:0}),l.css({position:"initial",zIndex:"auto",top:"auto"}))},__dR:function(){var t=function(t){var e=t.find("tbody>tr"),i=e.length,_=t.find("thead>tr"),r=[];if(i>0){for(var d=t.find("tbody>tr:first-child>td"),s=0;s<d.length;s++)for(var a=+(u=d.eq(s)).attr("colspan")||1,o=u.outerWidth(),n=0;n<a;n++)r.push(o/a);for(s=0;s<i;s++){var h=l(e[s]).find("td"),f=0;for(n=0;n<h.length;n++){a=+(u=h.eq(n)).attr("colspan")||1,o=0;for(var c=0;c<a;c++)o+=r[c+f];u.css("width",o),f+=a}}}else{var v=t.find("thead>tr:first-child>th");for(s=0;s<v.length;s++){var x=v.eq(s);for(a=+x.attr("colspan")||1,o=x.outerWidth(),n=0;n<a;n++)r.push(o/a)}}var g=[];for(s=0;s<_.length;s++){var b=l(_[s]).find("th"),p=(f=0,[]);for(n=0;n<b.length;n++){a=+(u=b.eq(n)).attr("colspan")||1;var u,m=+u.attr("rowspan")||1;p.push({x:f,y:s,colspan:a,rowspan:m,left:u.offset().left}),f+=a}g.push(p)}for(var w=0;w<g.length-1;w++){p=g[w];for(var y=0;y<p.length;y++){var k=p[y];if(k.rowspan>1)for(var z=w+1;z<g.length&&k.rowspan>z-w;z++)for(var C=g[z],T=0;T<C.length;T++){var F=C[T];F.left>k.left&&(F.x+=k.colspan)}}}for(s=0;s<_.length;s++){for(b=l(_[s]).find("th"),n=0;n<b.length;n++){o=0;var W=g[s][n];for(c=0;c<W.colspan;c++)o+=r[W.x+c];b.eq(n).css("width",o)}g.push(p)}};t(this.__dF);var e=this.__dB;e&&t(e)},__ea:function(t){var e=t.find("thead>tr:first-child>th"),i=t.attr("width");if(!i){i=0;for(var _=e.length;_--;){var l,d=e.eq(_),s=120,a=d.attr("style");if(a)(l=a.match(r))&&(s=parseInt(l[1]));else s=(l=d.attr("width"))?+l:d.outerWidth();i+=s}}return+i},__dO:function(){var t=this.__dB,e=this.__dC,i=this.__ea(t);t.css("width",i),t.find("thead").css("width",i),e.css("width",t.outerWidth())},__dP:function(){var t=this,e=t.__a,i=t.__dF,_=t.__dB,l=e.width()-_.outerWidth(),r=t.__ea(i),d=t.__dC;r>l?(i.css("width",r),i.find("thead").css("width",r),d.css({position:"relative","z-index":2}),d.addClass("_zs_gallerykg")):(i.css("width",l),i.find("thead").css("width",l),d.removeClass("_zs_gallerykg"))},__dQ:function(){for(var t=this.__dF,e=this.__dB,i=t.find("tbody>tr"),_=e.find("tbody>tr"),r=0;r<_.length;r++){var d=Math.max(l(_[r]).height(),l(i[r]).height());l(_[r]).height(d),l(i[r]).height(d)}var s=t.find("thead>tr"),a=e.find("thead>tr"),o=function(t){for(var e=0,i=0;i<t.length;i++)e+=l(t[i]).height();return e},n=Math.max(o(s),o(a));1==s.length&&s.height(n),1==a.length&&a.height(n)},"$doc<htmlchanged>":function(t){t.vId==this.owner.pId&&this.__eb()},"$doc<navslidend,tableresize>":function(t){this.__eb()},"$win<resize>":function(t){this.__eb()},__eb:function(){var t=this;t.__dB&&(t.__dP(),t.__dQ(),t.__dS()),t.__dR()},__dN:function(t,e){var i=this,_=i.__dL,l=i.__dF.find("tbody>tr");if(0!=l.length){e=e+"Class";var r=l.eq(t);r&&r.length&&"none"!=r.css("display")||(t=0,i.__dA=t,i.__a.attr("data-hover",t),r=l.eq(t)),r[e](_);var d=r.next(".operation-tr"),s=d&&d.length;s&&d[e]("operation-tr-open");var a=i.__dB;if(a){var o=a.find("tbody>tr").eq(t);if(o[e](_),s)o.next(".operation-tr")[e]("operation-tr-open")}}},"$tbody>tr<mouseover>":function(t){var e=this,i=(e.__dL,t.eventTarget);if(!_.inside(t.relatedTarget,i)&&!l(i).hasClass("operation-tr")){e.__dN(e.__dA,"remove");var r=l(i).parents("tbody").find("tr").index(i);e.__dA=r,e.__dN(r,"add")}},__dU:function(t){if(this.__dW){var e,i=t.scrollTop(),_=this.__dC,r=this.__dF,d=l("#"+this.id+"_scrollbar"),s=d.find("._zs_gallerykf"),a=d.height(),o=(s.height(),_.width());e=r.height()>t.height()?t.height()-a+i:t.height()-a,d.css({display:"block",position:"absolute",left:o,top:e})}},__dV:function(t){if(this.__dW){var e,i=t.scrollTop(),_=t.height(),r=this.__dC,d=this.__dF.find("tbody"),s=l("#"+this.id+"_scrollbar"),a=s.find("._zs_gallerykf"),o=s.height(),n=a.height(),h=d.offset().top,f=h+d.height()+o-n;if(f<i||h>i+_)s.css({display:"none"});else if(i<=(e=f)&&e<=i+_){var c=r.width();s.css({display:"block",position:"absolute",left:c,bottom:n-o})}else{c=r.offset().left+r.width();s.css({display:"block",position:"fixed",left:c,bottom:0})}}}})});