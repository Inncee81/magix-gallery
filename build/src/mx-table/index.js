define("mx-table/index",["magix","$"],(e,t,i)=>{var _=e("magix"),l=e("$"),r=/width\s*:\s*(\d+)px/;_.applyStyle("_zs_galleryaD",'._zs_gallerymi{box-shadow:0 1px 1px 0 rgba(0,0,0,.08);border:1px solid #f5f5f6}[mx-view*="mx-table/excel"],[mx-view*="mx-table/index"]{position:relative}[mx-view*="mx-table/excel"] table,[mx-view*="mx-table/index"] table{table-layout:auto}[mx-view*="mx-table/excel"] ._zs_gallerymj,[mx-view*="mx-table/excel"] ._zs_gallerymk,[mx-view*="mx-table/index"] ._zs_gallerymj,[mx-view*="mx-table/index"] ._zs_gallerymk{position:absolute;left:0;right:0;overflow-x:scroll;overflow-y:hidden}[mx-view*="mx-table/excel"] ._zs_gallerymk,[mx-view*="mx-table/index"] ._zs_gallerymk{top:0;z-index:1;-ms-overflow-style:none;overflow:auto}[mx-view*="mx-table/excel"] ._zs_gallerymk::-webkit-scrollbar,[mx-view*="mx-table/index"] ._zs_gallerymk::-webkit-scrollbar{display:none;width:0;height:0}[mx-view*="mx-table/excel"] ._zs_gallerymk::-webkit-scrollbar-thumb,[mx-view*="mx-table/index"] ._zs_gallerymk::-webkit-scrollbar-thumb{background-color:transparent}[mx-view*="mx-table/excel"] ._zs_gallerymj,[mx-view*="mx-table/index"] ._zs_gallerymj{display:none;z-index:2}[mx-view*="mx-table/excel"] ._zs_gallerymj ._zs_galleryml,[mx-view*="mx-table/index"] ._zs_gallerymj ._zs_galleryml{height:10px}[mx-view*="mx-table/excel"] ._zs_gallerymj::-webkit-scrollbar,[mx-view*="mx-table/index"] ._zs_gallerymj::-webkit-scrollbar{width:14px;height:14px}[mx-view*="mx-table/excel"] ._zs_gallerymj::-webkit-scrollbar-thumb,[mx-view*="mx-table/index"] ._zs_gallerymj::-webkit-scrollbar-thumb{background-color:#d8e3ff;border-radius:7px}[mx-view*="mx-table/excel"] ._zs_gallerymm,[mx-view*="mx-table/index"] ._zs_gallerymm{position:absolute;top:0;left:0;z-index:2;background-color:#fff;width:auto}[mx-view*="mx-table/excel"] ._zs_gallerymn,[mx-view*="mx-table/index"] ._zs_gallerymn{box-shadow:3px 0 4px rgba(0,0,0,.06)}'),i.exports=_.View.extend({init:function(e){var t=this;t.__dM=0;var i=l("#"+t.id);t.__k=i;var _=i.find('table[left="true"]');_&&_.length>0?(t.__dN=_,t.__dO=t.__dP(_,"left"),t.__dQ=_.find("thead"),t.__dR=i.find('table[center="true"]')):t.__dR=i.find("table"),t.__dS=t.__dP(t.__dR,"main"),t.__dT=t.__dR.find("thead"),t.__dU=e.sticky+""=="true",t.__dV=e.stickyEnd+""=="true",t.__dW=e.stickyInterval||0,t.__dX=e.rowHoverClass||"hover-tr",e.scrollWrapper&&(t.__bG=l("#"+e.scrollWrapper)),t.assign()},assign:function(){return!0},render:function(){this.__dY(),this.__dZ(this.__dM,"add")},__dP:function(e,t){t=this.id+"_"+t,e.attr("id",t+"_table");var i=e.parent("div");return i.attr(t,t),i},__dY:function(){var e=this,t=e.__dN;e.__dR;if(t){e.__e_();var i=e.__dS;i.addClass("_zs_gallerymk"),i.css("left",t.outerWidth()),e.__ea(),e.__eb()}e.__ec(),e.__ed(),e.__ee()},__ed:function(){var e,t,i=this,_=i.id,r=i.__dO;if(i.__bG?(e=i.__bG,t=function(){i.__ef(e)}):(e=l(window),t=function(){i.__eg(e)}),r&&r.length>0&&r.hasClass("_zs_gallerymn")){i.__eh=!0;var s=i.__dS,a=i.__dR,o=s.width(),n=a.width(),d=l("#"+_+"_scrollbar");if(d&&d.length)d.css({width:o}),d.find("._zs_galleryml").width(n);else{var h='<div id="'+_+'_scrollbar" class="_zs_gallerymj" style="width:'+o+'px;"><div class="_zs_galleryml" style="width:'+n+'px;"><div><div>';s.after(l(h)),d=l("#"+_+"_scrollbar")}var f=function(){s[0].scrollLeft=d[0].scrollLeft},c=function(){var e=s[0].scrollLeft;d[0].scrollLeft=e,i.__ei=e};d.off("scroll",f).on("scroll",f),s.off("scroll",c).on("scroll",c),i.on("destroy",function(){e.off("scroll.custombar",t)}),e.off("scroll.custombar",t).on("scroll.custombar",t),t(),i.__ei&&(s[0].scrollLeft=i.__ei,d[0].scrollLeft=i.__ei)}else{i.__eh=!1;var m=l("#"+_+"_scrollbar");m&&m.length&&m.remove()}},__ee:function(){var e=this,t=e.__k,i=e.__dT,_=e.__dQ;if(e.__dU)if(e.__bG){var r=e.__bG,s=function(){var i=r.scrollTop(),_=t.height()-r.height();i>=0&&i<=_?e.__ej(r,i):e.__ek(r)};e.on("destroy",function(){r.off("scroll.customsticky",s)}),r.on("scroll.customsticky",s),s()}else{var a=l(window),o=e.__dT.height(),n=+e.__dW,d=function(){var i=a.scrollTop(),_=t.offset().top-n,l=_+t.height()-o;i>=_&&i<=l?e.__ej(a,i-_):e.__ek(a)};e.on("destroy",function(){a.off("scroll.sticky")}),e.__dV?a.on("scroll.sticky",function(){e.__ek(a),clearTimeout(e.__el),e.__el=setTimeout(e.wrapAsync(function(){var l=a.scrollTop(),r=t.offset().top-n,s=r+t.height()-o;if(l>=r&&l<=s){e.__ej(a,l-r-o);i.animate({top:l-r},200),_&&_.animate({top:l-r},200)}else e.__ek(a)}),200)}):a.on("scroll.sticky",d),d()}},__ej:function(e,t){var i=this.__dS,_=this.__dT,l=this.__dO,r=this.__dQ,s=_.height();i.css({paddingTop:s}),_.css({position:"absolute",zIndex:80,top:t}),r&&(l.css({paddingTop:s}),r.css({position:"absolute",zIndex:80,top:t}))},__ek:function(e){var t=this.__dS,i=this.__dT,_=this.__dO,l=this.__dQ;t.css({paddingTop:0}),i.css({position:"initial",zIndex:"auto",top:"auto"}),l&&(_.css({paddingTop:0}),l.css({position:"initial",zIndex:"auto",top:"auto"}))},__ec:function(){var e=function(e){var t=e.find("tbody>tr"),i=t.length,_=e.find("thead>tr"),r=[];if(i>0){for(var s=e.find("tbody>tr:first-child>td"),a=0;a<s.length;a++)for(var o=+(p=s.eq(a)).attr("colspan")||1,n=p.outerWidth(),d=0;d<o;d++)r.push(n/o);for(a=0;a<i;a++){var h=l(t[a]).find("td"),f=0;for(d=0;d<h.length;d++){o=+(p=h.eq(d)).attr("colspan")||1,n=0;for(var c=0;c<o;c++)n+=r[c+f];p.css("width",n),f+=o}}}else{var m=e.find("thead>tr:first-child>th");for(a=0;a<m.length;a++){var x=m.eq(a);for(o=+x.attr("colspan")||1,n=x.outerWidth(),d=0;d<o;d++)r.push(n/o)}}var v=[];for(a=0;a<_.length;a++){var g=l(_[a]).find("th"),b=(f=0,[]);for(d=0;d<g.length;d++){o=+(p=g.eq(d)).attr("colspan")||1;var p,u=+p.attr("rowspan")||1;b.push({x:f,y:a,colspan:o,rowspan:u,left:p.offset().left}),f+=o}v.push(b)}for(var w=0;w<v.length-1;w++){b=v[w];for(var y=0;y<b.length;y++){var z=b[y];if(z.rowspan>1)for(var k=w+1;k<v.length&&z.rowspan>k-w;k++)for(var T=v[k],j=0;j<T.length;j++){var R=T[j];R.left>z.left&&(R.x+=z.colspan)}}}for(a=0;a<_.length;a++){for(g=l(_[a]).find("th"),d=0;d<g.length;d++){n=0;var W=v[a][d];for(c=0;c<W.colspan;c++)n+=r[W.x+c];g.eq(d).css("width",n)}v.push(b)}};e(this.__dR);var t=this.__dN;t&&e(t)},__em:function(e){var t=e.find("thead>tr:first-child>th"),i=e.attr("width");if(!i){i=0;for(var _=t.length;_--;){var l,s=t.eq(_),a=120,o=s.attr("style");if(o)(l=o.match(r))&&(a=parseInt(l[1]));else a=(l=s.attr("width"))?+l:s.outerWidth();i+=a}}return+i},__e_:function(){var e=this.__dN,t=this.__dO,i=this.__em(e);e.css("width",i),e.find("thead").css("width",i),t.css("width",e.outerWidth())},__ea:function(){var e=this,t=e.__k,i=e.__dR,_=e.__dN,l=t.width()-_.outerWidth(),r=e.__em(i),s=e.__dO;r>l?(i.css("width",r),i.find("thead").css("width",r),s.css({position:"relative","z-index":2}),s.addClass("_zs_gallerymn")):(i.css("width",l),i.find("thead").css("width",l),s.removeClass("_zs_gallerymn"))},__eb:function(){for(var e=this.__dR,t=this.__dN,i=e.find("tbody>tr"),_=t.find("tbody>tr"),r=0;r<_.length;r++){var s=Math.max(l(_[r]).height(),l(i[r]).height());l(_[r]).height(s),l(i[r]).height(s)}var a=e.find("thead>tr"),o=t.find("thead>tr"),n=function(e){for(var t=0,i=0;i<e.length;i++)t+=l(e[i]).height();return t},d=Math.max(n(a),n(o));1==a.length&&a.height(d),1==o.length&&o.height(d)},"$doc<htmlchanged>":function(e){e.vId==this.owner.pId&&this.__en()},"$doc<navslidend,tableresize>":function(e){this.__en()},"$win<resize>":function(e){this.__en()},__en:function(){var e=this;e.__dN&&(e.__ea(),e.__eb(),e.__ed()),e.__ec()},__dZ:function(e,t){var i=this,_=i.__dX,l=i.__dR.find("tbody>tr");if(0!=l.length){t=t+"Class";var r=l.eq(e);r&&r.length&&"none"!=r.css("display")||(e=0,i.__dM=e,i.__k.attr("data-hover",e),r=l.eq(e)),r[t](_);var s=r.next(".operation-tr"),a=s&&s.length;a&&s[t]("operation-tr-open");var o=i.__dN;if(o){var n=o.find("tbody>tr").eq(e);if(n[t](_),a)n.next(".operation-tr")[t]("operation-tr-open")}}},"$tbody>tr<mouseover>":function(e){var t=this,i=(t.__dX,e.eventTarget);if(!_.inside(e.relatedTarget,i)&&!l(i).hasClass("operation-tr")){t.__dZ(t.__dM,"remove");var r=l(i).parents("tbody").find("tr").index(i);t.__dM=r,t.__dZ(r,"add")}},__ef:function(e){if(this.__eh){var t,i=e.scrollTop(),_=this.__dO,r=this.__dR,s=l("#"+this.id+"_scrollbar"),a=s.find("._zs_galleryml"),o=s.height(),n=(a.height(),_.width());t=r.height()>e.height()?e.height()-o+i:e.height()-o,s.css({display:"block",position:"absolute",left:n,top:t})}},__eg:function(e){if(this.__eh){var t,i=e.scrollTop(),_=e.height(),r=this.__dO,s=this.__dR.find("tbody"),a=l("#"+this.id+"_scrollbar"),o=a.find("._zs_galleryml"),n=a.height(),d=o.height(),h=s.offset().top,f=h+s.height()+n-d;if(f<i||h>i+_)a.css({display:"none"});else if(i<=(t=f)&&t<=i+_){var c=r.width();a.css({display:"block",position:"absolute",left:c,bottom:d-n})}else{c=r.offset().left+r.width();a.css({display:"block",position:"fixed",left:c,bottom:0})}}}})});