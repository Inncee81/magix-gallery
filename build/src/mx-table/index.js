define("mx-table/index",["magix","$"],(t,e,i)=>{var _=t("magix"),l=t("$"),d=/width\s*:\s*(\d+)px/;_.applyStyle("_zs_galleryaz",'._zs_gallerymd{box-shadow:0 1px 1px 0 rgba(0,0,0,.08);border:1px solid #f5f5f6}[mx-view*="mx-table/excel"],[mx-view*="mx-table/index"]{position:relative}[mx-view*="mx-table/excel"] table,[mx-view*="mx-table/index"] table{table-layout:auto}[mx-view*="mx-table/excel"] ._zs_galleryme,[mx-view*="mx-table/excel"] ._zs_gallerymf,[mx-view*="mx-table/index"] ._zs_galleryme,[mx-view*="mx-table/index"] ._zs_gallerymf{position:absolute;left:0;right:0;overflow-x:scroll;overflow-y:hidden}[mx-view*="mx-table/excel"] ._zs_gallerymf,[mx-view*="mx-table/index"] ._zs_gallerymf{top:0;z-index:1;-ms-overflow-style:none;overflow:auto}[mx-view*="mx-table/excel"] ._zs_gallerymf::-webkit-scrollbar,[mx-view*="mx-table/index"] ._zs_gallerymf::-webkit-scrollbar{display:none;width:0;height:0}[mx-view*="mx-table/excel"] ._zs_gallerymf::-webkit-scrollbar-thumb,[mx-view*="mx-table/index"] ._zs_gallerymf::-webkit-scrollbar-thumb{background-color:transparent}[mx-view*="mx-table/excel"] ._zs_galleryme,[mx-view*="mx-table/index"] ._zs_galleryme{display:none;z-index:2}[mx-view*="mx-table/excel"] ._zs_galleryme ._zs_gallerymg,[mx-view*="mx-table/index"] ._zs_galleryme ._zs_gallerymg{height:10px}[mx-view*="mx-table/excel"] ._zs_galleryme::-webkit-scrollbar,[mx-view*="mx-table/index"] ._zs_galleryme::-webkit-scrollbar{width:14px;height:14px}[mx-view*="mx-table/excel"] ._zs_galleryme::-webkit-scrollbar-thumb,[mx-view*="mx-table/index"] ._zs_galleryme::-webkit-scrollbar-thumb{background-color:#d8e3ff;border-radius:7px}[mx-view*="mx-table/excel"] ._zs_gallerymh,[mx-view*="mx-table/index"] ._zs_gallerymh{position:absolute;top:0;left:0;z-index:2;background-color:#fff;width:auto}[mx-view*="mx-table/excel"] ._zs_gallerymi,[mx-view*="mx-table/index"] ._zs_gallerymi{box-shadow:3px 0 4px rgba(0,0,0,.06)}'),i.exports=_.View.extend({init:function(t){var e=this;e.__dw=0;var i=l("#"+e.id);e.__j=i;var _=i.find('table[left="true"]');_&&_.length>0?(e.__dx=_,e.__dy=e.__dz(_,"left"),e.__dA=_.find("thead"),e.__dB=i.find('table[center="true"]')):e.__dB=i.find("table"),e.__dC=e.__dz(e.__dB,"main"),e.__dD=e.__dB.find("thead"),e.__dE=t.sticky+""=="true",e.__dF=t.stickyInterval||0,e.__dG=t.rowHoverClass||"hover-tr",t.scrollWrapper&&(e.__bs=l("#"+t.scrollWrapper)),e.assign()},assign:function(){return!0},render:function(){this.__dH(),this.__dI(this.__dw,"add")},__dz:function(t,e){e=this.id+"_"+e,t.attr("id",e+"_table");var i=t.parent("div");return i.attr(e,e),i},__dH:function(){var t=this,e=t.__dx;t.__dB;if(e){t.__dJ();var i=t.__dC;i.addClass("_zs_gallerymf"),i.css("left",e.outerWidth()),t.__dK(),t.__dL()}t.__dM(),t.__dN(),t.__dO()},__dN:function(){var t,e,i=this,_=i.id,d=i.__dy;if(i.__bs?(t=i.__bs,e=function(){i.__dP(t)}):(t=l(window),e=function(){i.__dQ(t)}),d&&d.length>0&&d.hasClass("_zs_gallerymi")){i.__dR=!0;var r=i.__dC,s=i.__dB,a=r.width(),o=s.width(),n=l("#"+_+"_scrollbar");if(n&&n.length)n.css({width:a}),n.find("._zs_gallerymg").width(o);else{var h='<div id="'+_+'_scrollbar" class="_zs_galleryme" style="width:'+a+'px;"><div class="_zs_gallerymg" style="width:'+o+'px;"><div><div>';r.after(l(h)),n=l("#"+_+"_scrollbar")}var f=function(){r[0].scrollLeft=n[0].scrollLeft},c=function(){var t=r[0].scrollLeft;n[0].scrollLeft=t,i.__dS=t};n.off("scroll",f).on("scroll",f),r.off("scroll",c).on("scroll",c),i.on("destroy",function(){t.off("scroll.custombar",e)}),t.off("scroll.custombar",e).on("scroll.custombar",e),e(),i.__dS&&(r[0].scrollLeft=i.__dS,n[0].scrollLeft=i.__dS)}else{i.__dR=!1;var x=l("#"+_+"_scrollbar");x&&x.length&&x.remove()}},__dO:function(){var t,e,i=this;i.__dE&&(i.__bs?(t=i.__bs,e=function(){i.__dT(t)}):(t=l(window),e=function(){i.__dU(t)}),i.on("destroy",function(){t.off("scroll.customsticky",e)}),t.on("scroll.customsticky",e),i.__dV=i.__dD.height(),e())},__dM:function(){var t=function(t){for(var e=t.find("tbody>tr"),i=t.find("tbody>tr:first-child>td"),_=[],d=0;d<i.length;d++)for(var r=+(v=i.eq(d)).attr("colspan")||1,s=v.outerWidth(),a=0;a<r;a++)_.push(s/r);var o=e.length;for(d=0;d<o;d++){var n=l(e[d]).find("td"),h=0;for(a=0;a<n.length;a++){r=+(v=n.eq(a)).attr("colspan")||1,s=0;for(var f=0;f<r;f++)s+=_[f+h];v.css("width",s),h+=r}}var c=t.find("thead>tr");if(o>0)for(d=0;d<c.length;d++){var x=l(c[d]).find("th");for(h=0,a=0;a<x.length;a++){for(r=+(b=x.eq(a)).attr("colspan")||1,s=0,f=0;f<r;f++)s+=_[f+h];b.css("width",s),h+=r}}else{var m=t.find("thead>tr:first-child>th"),g=[];for(d=0;d<m.length;d++){var v;for(r=+(v=m.eq(d)).attr("colspan")||1,s=v.outerWidth(),a=0;a<r;a++)g.push(s/r)}for(d=0;d<c.length;d++)for(x=l(c[d]).find("th"),h=0,a=0;a<x.length;a++){var b;for(r=+(b=x.eq(a)).attr("colspan")||1,s=0,f=0;f<r;f++)s+=g[f+h];b.css("width",s),h+=r}}};t(this.__dB);var e=this.__dx;e&&t(e)},__dW:function(t){var e=t.find("thead>tr:first-child>th"),i=t.attr("width");if(!i){i=0;for(var _=e.length;_--;){var l,r=e.eq(_),s=120,a=r.attr("style");if(a)(l=a.match(d))&&(s=parseInt(l[1]));else s=(l=r.attr("width"))?+l:r.outerWidth();i+=s}}return+i},__dJ:function(){var t=this.__dx,e=this.__dy,i=this.__dW(t);t.css("width",i),t.find("thead").css("width",i),e.css("width",t.outerWidth())},__dK:function(){var t=this,e=t.__j,i=t.__dB,_=t.__dx,l=e.width()-_.outerWidth(),d=t.__dW(i),r=t.__dy;d>l?(i.css("width",d),i.find("thead").css("width",d),r.css({position:"relative","z-index":2}),r.addClass("_zs_gallerymi")):(i.css("width",l),i.find("thead").css("width",l),r.removeClass("_zs_gallerymi"))},__dL:function(){for(var t=this.__dB,e=this.__dx,i=t.find("tbody>tr"),_=e.find("tbody>tr"),d=0;d<_.length;d++){var r=Math.max(l(_[d]).height(),l(i[d]).height());l(_[d]).height(r),l(i[d]).height(r)}var s=t.find("thead>tr"),a=e.find("thead>tr"),o=function(t){for(var e=0,i=0;i<t.length;i++)e+=l(t[i]).height();return e},n=Math.max(o(s),o(a));1==s.length&&s.height(n),1==a.length&&a.height(n)},"$doc<htmlchanged>":function(t){t.vId==this.owner.pId&&this.__dX()},"$doc<navslidend,tableresize>":function(t){this.__dX()},"$win<resize>":function(t){this.__dX()},__dX:function(){var t=this;t.__dx&&(t.__dK(),t.__dL(),t.__dN()),t.__dM()},__dI:function(t,e){var i=this,_=i.__dG,l=i.__dB.find("tbody>tr");if(0!=l.length){e=e+"Class";var d=l.eq(t);d&&d.length&&"none"!=d.css("display")||(t=0,i.__dw=t,i.__j.attr("data-hover",t),d=l.eq(t)),d[e](_);var r=d.next(".operation-tr"),s=r&&r.length;s&&(r[e]("operation-tr-open"),d[e]("next-operation-tr-open"));var a=i.__dx;if(a){var o=a.find("tbody>tr").eq(t);if(o[e](_),s)o.next(".operation-tr")[e]("operation-tr-open"),o[e]("next-operation-tr-open")}}},"$tbody>tr<mouseover>":function(t){var e=this,i=(e.__dG,t.eventTarget);if(!_.inside(t.relatedTarget,i)&&!l(i).hasClass("operation-tr")){e.__dI(e.__dw,"remove");var d=l(i).parents("tbody").find("tr").index(i);e.__dw=d,e.__dI(d,"add")}},__dY:function(t,e,i){var _=this,l=_.__dV,d=_.__dC,r=_.__dD,s=_.__dy,a=_.__dA;t.height();e?(d.css({paddingTop:l}),r.css({position:"absolute",zIndex:80,top:i}),a&&(s.css({paddingTop:l}),a.css({position:"absolute",zIndex:80,top:i}))):(d.css({paddingTop:0}),r.css({position:"initial",zIndex:"auto",top:"auto"}),a&&(s.css({paddingTop:0}),a.css({position:"initial",zIndex:"auto",top:"auto"})))},__dT:function(t){var e=this;if(e.__dE){var i=t.scrollTop(),_=(e.__dV,e.__j.height()-t.height());i>=0&&i<=_?e.__dY(t,!0,i):e.__dY(t,!1)}},__dU:function(t){var e=this;if(e.__dE){var i=t.scrollTop(),_=e.__dV,l=e.__j,d=l.offset(),r=+e.__dF,s=d.top-r,a=s+l.height()-_;i>=s&&i<=a?e.__dY(t,!0,i-s):e.__dY(t,!1)}},__dP:function(t){if(this.__dR){var e,i=t.scrollTop(),_=this.__dy,d=this.__dB,r=l("#"+this.id+"_scrollbar"),s=r.find("._zs_gallerymg"),a=r.height(),o=(s.height(),_.width());e=d.height()>t.height()?t.height()-a+i:t.height()-a,r.css({display:"block",position:"absolute",left:o,top:e})}},__dQ:function(t){if(this.__dR){var e,i=t.scrollTop(),_=t.height(),d=this.__dy,r=this.__dB.find("tbody"),s=l("#"+this.id+"_scrollbar"),a=s.find("._zs_gallerymg"),o=s.height(),n=a.height(),h=r.offset().top,f=h+r.height()+o-n;if(f<i||h>i+_)s.css({display:"none"});else if(i<=(e=f)&&e<=i+_){var c=d.width();s.css({display:"block",position:"absolute",left:c,bottom:n-o})}else{c=d.offset().left+d.width();s.css({display:"block",position:"fixed",left:c,bottom:0})}}}})});