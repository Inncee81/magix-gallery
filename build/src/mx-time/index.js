define("mx-time/index",["magix","$"],(e,_,t)=>{var a=e("magix"),l=e("$");a.applyStyle("_zs_galleryap","._zs_gallerykI{box-shadow:0 2px 4px rgba(51,51,51,.08);border:1px solid #eee}._zs_gallerykJ{float:left;overflow:hidden}._zs_gallerykJ ._zs_gallerykK{width:52px;height:40px;font-size:24px;text-align:center}._zs_gallerykJ ._zs_gallerykL{width:24px;height:24px;padding:0}._zs_gallerykJ ._zs_gallerykL,._zs_gallerykJ ._zs_gallerykM{line-height:24px}._zs_gallerykN{float:left;width:24px;font-size:24px;height:40px;line-height:40px;font-weight:bolder;text-align:center}");var i=function(e){if(!e){var _=new Date;e=_.getHours()+":"+_.getMinutes()+":"+_.getSeconds()}var t=e.split(":");if(3!=t.length)throw new Error("bad time:"+e);return{__fc:parseInt(t[0],10)||0,__fd:parseInt(t[1],10)||0,__fe:parseInt(t[2],10)||0}},s=function(e){return e<10?"0"+e:e};t.exports=a.View.extend({tmpl:function(e,_,t,a,l,i,s,n){if(t||(t=e),!l){var r={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},f=/[&<>"'`]/g,d=function(e){return"&"+r[e]+";"};l=function(e){return""+(null==e?"":e)},a=function(e){return l(e).replace(f,d)}}if(!i){var c={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},o=function(e){return c[e]},m=/[!')(*]/g;i=function(e){return encodeURIComponent(l(e)).replace(m,o)}}if(!n){var u=/[\\'"]/g;n=function(e){return l(e).replace(u,"\\$&")}}var y="",g=e.format,p=e.time,x=e.types;return y+='<div mxv mxa="_zs_gallerydm:_" class="clearfix"><div mxv mxa="_zs_gallerydm:a" class="_zs_gallerykJ"><div mxv mxa="_zs_gallerydm:b" class="mb5"><input class="input _zs_gallerykK" value="'+a(g(p.__fc))+'" ',x.__fc?y+=' mx-change="'+_+"__fi({type:'__fc'})\" ":y+=" disabled",y+=' maxlength="2" mx-keydown="'+_+'__fn({type:\'__fc\'})" autocomplete="off"/></div><div mxa="_zs_gallerydm:c" class="clearfix"><button type="button" class="btn _zs_gallerykL fl" ',x.__fc?y+=' mx-click="'+_+"__fh({type:'__fc'})\" mx-mousedown=\""+_+"__fl({type:'__fc'})\" ":y+=" disabled",y+=' tabindex="-1"><i mxs="_zs_gallerydm:_" class="mc-iconfont _zs_gallerykM">&#xe6df;</i></button><button type="button" class="btn _zs_gallerykL fr" ',x.__fc?y+=' mx-click="'+_+"__fh({type:'__fc',inc:1})\" mx-mousedown=\""+_+"__fl({type:'__fc',inc:1})\" ":y+=" disabled",y+=' tabindex="-1"><i mxs="_zs_gallerydm:a" class="mc-iconfont _zs_gallerykM">&#xe661;</i></button></div></div><div mxs="_zs_gallerydm:b" class="_zs_gallerykN">:</div><div mxv mxa="_zs_gallerydm:d" class="_zs_gallerykJ"><div mxv mxa="_zs_gallerydm:e" class="mb5"><input class="input _zs_gallerykK" value="'+a(g(p.__fd))+'" ',x.__fd?y+=' mx-change="'+_+"__fi({type:'__fd'})\" ":y+=" disabled",y+=' maxlength="2" mx-keydown="'+_+'__fn({type:\'__fd\'})" autocomplete="off"/></div><div mxa="_zs_gallerydm:f" class="clearfix"><button type="button" class="btn _zs_gallerykL fl" ',x.__fd?y+=' mx-click="'+_+"__fh({type:'__fd'})\" mx-mousedown=\""+_+"__fl({type:'__fd'})\" ":y+=" disabled",y+=' tabindex="-1"><i mxs="_zs_gallerydm:_" class="mc-iconfont _zs_gallerykM">&#xe6df;</i></button><button type="button" class="btn _zs_gallerykL fr" ',x.__fd?y+=' mx-click="'+_+"__fh({type:'__fd',inc:1})\" mx-mousedown=\""+_+"__fl({type:'__fd',inc:1})\" ":y+=" disabled",y+=' tabindex="-1"><i mxs="_zs_gallerydm:a" class="mc-iconfont _zs_gallerykM">&#xe661;</i></button></div></div><div mxs="_zs_gallerydm:b" class="_zs_gallerykN">:</div><div mxv mxa="_zs_gallerydm:g" class="_zs_gallerykJ"><div mxv mxa="_zs_gallerydm:h" class="mb5"><input class="input _zs_gallerykK" value="'+a(g(p.__fe))+'" ',x.__fe?y+=' mx-change="'+_+"__fi({type:'__fe'})\" ":y+=" disabled",y+=' maxlength="2" mx-keydown="'+_+'__fn({type:\'__fe\'})" autocomplete="off"/></div><div mxa="_zs_gallerydm:i" class="clearfix"><button type="button" class="btn _zs_gallerykL fl" ',x.__fe?y+=' mx-click="'+_+"__fh({type:'__fe'})\" mx-mousedown=\""+_+"__fl({type:'__fe'})\" ":y+=" disabled",y+=' tabindex="-1"><i mxs="_zs_gallerydm:_" class="mc-iconfont _zs_gallerykM">&#xe6df;</i></button><button type="button" class="btn _zs_gallerykL fr" ',x.__fe?y+=' mx-click="'+_+"__fh({type:'__fe',inc:1})\" mx-mousedown=\""+_+"__fl({type:'__fe',inc:1})\" ":y+=" disabled",y+=' tabindex="-1"><i mxs="_zs_gallerydm:a" class="mc-iconfont _zs_gallerykM">&#xe661;</i></button></div></div></div>'},init:function(e){this.updater.snapshot(),this.assign(e)},assign:function(e){var _=this.updater.altered(),t=i(e.time),a=function(e){e||(e="all");var _={__fc:!0,__fd:!0,__fe:!0},t={hour:"__fc",minute:"__fd",second:"__fe"};if("all"!=e)for(var a in t)-1===e.indexOf(a)&&delete _[t[a]];return _}(e.types);return this.updater.set({format:s,time:t,types:a}),_||(_=this.updater.altered()),!!_&&(this.updater.snapshot(),!0)},render:function(){this.updater.digest()},val:function(e){var _=this.updater;if(e){var t=i(e);_.digest({time:t})}return _.get("time")},__ff:function(e,_){var t=this.updater.get("time"),a="__fc"==e?23:59;_?t[e]++:t[e]--,t[e]>a?t[e]=0:t[e]<0&&(t[e]=a),this.updater.digest({time:t})},__y:function(){var e=l("#"+this.id),_=this.updater.get("time");e.trigger({type:"change",time:s(_.__fc)+":"+s(_.__fd)+":"+s(_.__fe)})},"__fh<click>":function(e){if(!this.__fg){var _=e.params;this.__ff(_.type,_.inc),this.__y()}},"__fi<change>":function(e){e.stopPropagation();var _=e.params.type,t="__fc"==_?23:59,a=e.eventTarget,l=a.value,i=parseInt(l,10),n=this.updater.get("time");i||0===i?(i<0?i=0:i>t&&(i=t),i!==n[_]?(n[_]=i,this.updater.digest({time:n}),this.__y()):a.value=s(i)):a.value=s(n[_])},"__fl<mousedown>":function(e){var _=this,t=e.params;_.__fj=setTimeout(_.wrapAsync(function(){_.__fk=setInterval(_.wrapAsync(function(){_.__fg=!0,_.__ff(t.type,t.inc)}),50)}),300)},"__fn<keydown>":function(e){if(38==e.keyCode||40==e.keyCode){e.preventDefault();var _=this;_.__ff(e.params.type,38==e.keyCode),clearTimeout(_.__fm),_.__fm=setTimeout(_.wrapAsync(function(){_.__y()}),100)}},"$doc<mouseup>":function(){var e=this;clearTimeout(e.__fj),clearInterval(e.__fk),setTimeout(e.wrapAsync(function(){e.__fg&&e.__y(),delete e.__fg}),0)}})});