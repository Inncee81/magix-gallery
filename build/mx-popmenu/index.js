define("mx-popmenu/index",["magix","../mx-util/monitor","mx-popover/base","$"],(e,o,r)=>{var n=e("magix"),t=(n.Vframe,e("../mx-util/monitor")),i=e("mx-popover/base"),_=e("$");n.applyStyle("_zs_gallery_mx-popover_index_",'._zs_gallery_mx-popover_index_-bottom-left,\n._zs_gallery_mx-popover_index_-bottom-right,\n._zs_gallery_mx-popover_index_-bottom-center,\n._zs_gallery_mx-popover_index_-top-left,\n._zs_gallery_mx-popover_index_-top-right,\n._zs_gallery_mx-popover_index_-top-center,\n._zs_gallery_mx-popover_index_-right-top,\n._zs_gallery_mx-popover_index_-right-bottom,\n._zs_gallery_mx-popover_index_-right-center,\n._zs_gallery_mx-popover_index_-left-top,\n._zs_gallery_mx-popover_index_-left-bottom,\n._zs_gallery_mx-popover_index_-left-center {\n  opacity: 0;\n  transition: transform 0.15s, opacity 0.15s;\n  transform: scale(0);\n}\n/**\n * popover下左 初始隐藏状态\n * 注意使用opacity控制popover的显示和隐藏，不要设置display: none\n */\n._zs_gallery_mx-popover_index_-bottom-left,\n._zs_gallery_mx-popover_index_-right-top {\n  transform-origin: 0 0;\n}\n._zs_gallery_mx-popover_index_-bottom-right,\n._zs_gallery_mx-popover_index_-left-top {\n  transform-origin: 100% 0;\n}\n._zs_gallery_mx-popover_index_-bottom-center {\n  transform-origin: 50% 0;\n}\n._zs_gallery_mx-popover_index_-top-left,\n._zs_gallery_mx-popover_index_-right-bottom {\n  transform-origin: 0 100%;\n}\n._zs_gallery_mx-popover_index_-top-right,\n._zs_gallery_mx-popover_index_-left-bottom {\n  transform-origin: 100% 100%;\n}\n._zs_gallery_mx-popover_index_-top-center {\n  transform-origin: 50% 100%;\n}\n._zs_gallery_mx-popover_index_-left-center {\n  transform-origin: 100% 50%;\n}\n._zs_gallery_mx-popover_index_-right-center {\n  transform-origin: 0 50%;\n}\n._zs_gallery_mx-popover_index_-show-out {\n  opacity: 1;\n  transform: scale(1);\n}\n/**\n * popover显示\n */\n._zs_gallery_mx-popover_index_-popover-hide {\n  display: none;\n}\n._zs_gallery_mx-popover_index_-popover,\n._zs_gallery_mx-popover_index_-popover-dark {\n  position: absolute;\n  z-index: 9999;\n  height: auto;\n  border-radius: var(--border-radius);\n  font-size: 12px;\n  line-height: 22px;\n  white-space: normal;\n  font-weight: normal;\n  font-family: Helvetica, Arial, "Microsoft Yahei", "Hiragino Sans GB", "Heiti SC", "WenQuanYi Micro Hei", sans-serif;\n}\n._zs_gallery_mx-popover_index_-popover {\n  background-color: #fff;\n  color: #333;\n}\n._zs_gallery_mx-popover_index_-popover ._zs_gallery_mx-popover_index_-popover-content {\n  padding: 10px;\n  word-break: break-all;\n}\n._zs_gallery_mx-popover_index_-popover-dark {\n  background-color: rgba(33, 33, 33, 0.72);\n  color: #fff;\n}\n._zs_gallery_mx-popover_index_-popover-dark ._zs_gallery_mx-popover_index_-popover-content {\n  padding: 4px 10px;\n}\n'),r.exports=i.extend({tmpl:function(e,o,r,n,t,i,_,p){if(r||(r=e),!t){var a={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},l=/[&<>"'`]/g,s=function(e){return"&"+a[e]+";"};t=function(e){return""+(null==e?"":e)},function(e){return t(e).replace(l,s)}}if(!i){var d={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},m=function(e){return d[e]},x=/[!')(*]/g;i=function(e){return encodeURIComponent(t(e)).replace(x,m)}}if(!p){var g=/[\\'"]/g;p=function(e){return t(e).replace(g,"\\$&")}}var c,v,h,y="",u=e.trigger;try{h=1,v="!trigger",y+=(c="<%!trigger%>",t(u)+"")}catch(e){var f="render view error:"+(e.message||e);throw v&&(f+="\r\n\tsrc art:{{"+v+"}}\r\n\tat line:"+h),f+="\r\n\t"+(v?"translate to:":"expr:"),f+=c+"\r\n\tat file:mx-popover/index.html"}return y},init:function(e){var o=this;t["@{setup}"]();var r=_("#"+o.id);o["@{trigger.content}"]=r.html(),o["@{owner.node}"]=r,o["@{trigger.type}"]=e.triggerType||"hover";var n=function(){clearTimeout(o["@{dealy.hide.timer}"]),o["@{dealy.show.timer}"]=setTimeout(o.wrapAsync(function(){o["@{show}"]()}),o.constants.showDelay)},i=e.place||"bc";switch(o["@{trigger.type}"]){case"click":r.click(n);break;case"contextmenu":i="bl",o["@{pos.offset}"]={left:r.width()/2,top:0-r.height()/2-10},r.contextmenu(function(e){e.preventDefault(),n()});break;case"hover":r.hover(n,function(){o["@{delay.hide}"]()})}var p={t:"top",l:"left",r:"right",b:"bottom",c:"center"},a=i.split(""),l=p[a[0]],s=p[a[1]];o["@{pos.placement}"]=l,o["@{pos.align}"]=s,o["@{pos.class}"]=o.constants.classNames[[l,s].join("-")]+" _zs_gallery_mx-popover_index_-popover mx-shadow",o["@{pos.init}"]=!1,o["@{pos.cal}"]=!1,o["@{pos.show}"]=!1,o["@{scroll.wrapper}"]=e.scrollWrapper,o["@{menus}"]=e.menus||[],o["@{width}"]=e.width?e.width+"px":"auto",o["@{text.align}"]="left",o.bindScroll(),o.on("destroy",function(){o["@{dealy.show.timer}"]&&clearTimeout(o["@{dealy.show.timer}"]),o["@{dealy.hide.timer}"]&&clearTimeout(o["@{dealy.hide.timer}"]),_("#popover_"+o.id).remove(),t["@{remove}"](o),t["@{teardown}"]()})},render:function(){this.updater.digest({trigger:this["@{trigger.content}"]})},"@{init}":function(){var e=this,o=e["@{pos.class}"],r=e["@{width}"],n=e.id,t={menus:e["@{menus}"]},i='<div class="_zs_gallery_mx-popover_index_-popover-hide '+o+'" id="popover_'+n+'"\n                style="width: '+r+';"></div>';_(document.body).append(i);var p=e.owner.mountVframe("popover_"+n,"");p.on("created",function(){var o=e["@{setPos}"]();o.removeClass("_zs_gallery_mx-popover_index_-popover-hide"),"hover"==e["@{trigger.type}"]&&o.hover(function(){clearTimeout(e["@{dealy.hide.timer}"])},function(){e["@{delay.hide}"]()})}),p.mountView("mx-popmenu/content",{data:t,submit:function(o){e["@{hide}"](),e["@{owner.node}"].trigger({type:"change",selected:o})}})},"@{inside}":function(e){return n.inside(e,this.id)||n.inside(e,"popover_"+this.id)},"@{show}":function(){var e=this;(clearTimeout(e["@{dealy.show.timer}"]),e["@{pos.init}"]||(e["@{pos.init}"]=!0,e["@{init}"]()),e["@{pos.show}"])||(e["@{pos.show}"]=!0,e["@{setPos}"]().addClass("_zs_gallery_mx-popover_index_-show-out"),t["@{add}"](e))},"@{delay.hide}":function(){var e=this;clearTimeout(e["@{dealy.show.timer}"]),clearTimeout(e["@{dealy.hide.timer}"]),e["@{dealy.hide.timer}"]=setTimeout(e.wrapAsync(function(){e["@{hide}"]()}),e.constants.hideDelay),t["@{remove}"](e)},"@{hide}":function(){var e=this;(clearTimeout(e["@{dealy.hide.timer}"]),e["@{pos.show}"])&&(e["@{pos.show}"]=!1,_("#popover_"+e.id).removeClass("_zs_gallery_mx-popover_index_-show-out"),t["@{remove}"](e))}})});