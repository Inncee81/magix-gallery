define("mx-effects/progress",["magix","$","mx-util/color"],(e,r,s)=>{var _=e("magix"),t=e("$"),l=e("mx-util/color");_.applyStyle("_zs_gallery_mx-effects_progress_",'[mx-view*="mx-effects/progress"] {\n  display: inline-block;\n}\n._zs_gallery_mx-effects_progress_-line,\n._zs_gallery_mx-effects_progress_-gradient {\n  position: relative;\n  background: #f0f0f0;\n}\n._zs_gallery_mx-effects_progress_-line ._zs_gallery_mx-effects_progress_-on,\n._zs_gallery_mx-effects_progress_-gradient ._zs_gallery_mx-effects_progress_-on {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 0;\n  height: 100%;\n  transition: width var(--duration);\n}\n._zs_gallery_mx-effects_progress_-line ._zs_gallery_mx-effects_progress_-num,\n._zs_gallery_mx-effects_progress_-gradient ._zs_gallery_mx-effects_progress_-num {\n  position: absolute;\n  width: 60px;\n  height: 24px;\n  line-height: 24px;\n  font-family: "Tahoma";\n  color: #999;\n  transition: all var(--duration);\n}\n._zs_gallery_mx-effects_progress_-line ._zs_gallery_mx-effects_progress_-num-right,\n._zs_gallery_mx-effects_progress_-gradient ._zs_gallery_mx-effects_progress_-num-right {\n  top: -9px;\n  left: 100%;\n  padding-left: 10px;\n  text-align: left;\n}\n._zs_gallery_mx-effects_progress_-line ._zs_gallery_mx-effects_progress_-num-left,\n._zs_gallery_mx-effects_progress_-gradient ._zs_gallery_mx-effects_progress_-num-left {\n  top: -9px;\n  left: -60px;\n  padding-right: 10px;\n  text-align: right;\n}\n._zs_gallery_mx-effects_progress_-line ._zs_gallery_mx-effects_progress_-num-top,\n._zs_gallery_mx-effects_progress_-gradient ._zs_gallery_mx-effects_progress_-num-top {\n  top: -24px;\n  margin-left: -30px;\n  text-align: center;\n}\n._zs_gallery_mx-effects_progress_-line ._zs_gallery_mx-effects_progress_-num-bottom,\n._zs_gallery_mx-effects_progress_-gradient ._zs_gallery_mx-effects_progress_-num-bottom {\n  bottom: -24px;\n  margin-left: -30px;\n  text-align: center;\n}\n._zs_gallery_mx-effects_progress_-line {\n  height: 6px;\n  border-radius: 3px;\n}\n._zs_gallery_mx-effects_progress_-line ._zs_gallery_mx-effects_progress_-on {\n  border-radius: 3px;\n  background: var(--color-brand);\n}\n._zs_gallery_mx-effects_progress_-line._zs_gallery_mx-effects_progress_-line-vs ._zs_gallery_mx-effects_progress_-on {\n  border-top-left-radius: 3px;\n  border-bottom-left-radius: 3px;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n}\n._zs_gallery_mx-effects_progress_-gradient {\n  height: 12px;\n  border-radius: 6px;\n}\n._zs_gallery_mx-effects_progress_-gradient ._zs_gallery_mx-effects_progress_-on {\n  border-radius: 6px;\n  background: var(--color-brand);\n  background-size: 24px 12px;\n}\n._zs_gallery_mx-effects_progress_-degree-wrapper {\n  position: relative;\n}\n._zs_gallery_mx-effects_progress_-degree-wrapper ._zs_gallery_mx-effects_progress_-degree {\n  display: inline-block;\n  width: 4px;\n  height: 14px;\n  margin-right: 3px;\n  border-radius: 2px;\n}\n._zs_gallery_mx-effects_progress_-degree-wrapper ._zs_gallery_mx-effects_progress_-degree:last-child {\n  margin-right: 0;\n}\n._zs_gallery_mx-effects_progress_-degree-wrapper ._zs_gallery_mx-effects_progress_-degree-bg ._zs_gallery_mx-effects_progress_-degree {\n  background-color: #f0f0f0;\n}\n._zs_gallery_mx-effects_progress_-degree-wrapper ._zs_gallery_mx-effects_progress_-degree-on {\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n._zs_gallery_mx-effects_progress_-degree-wrapper ._zs_gallery_mx-effects_progress_-degree-on ._zs_gallery_mx-effects_progress_-degree {\n  background-color: var(--color-brand);\n}\n._zs_gallery_mx-effects_progress_-circle-wrapper {\n  position: relative;\n}\n._zs_gallery_mx-effects_progress_-circle-wrapper ._zs_gallery_mx-effects_progress_-circle-text,\n._zs_gallery_mx-effects_progress_-circle-wrapper ._zs_gallery_mx-effects_progress_-circle-bg {\n  position: absolute;\n  top: 0;\n  left: 50%;\n}\n._zs_gallery_mx-effects_progress_-circle-wrapper ._zs_gallery_mx-effects_progress_-circle-text {\n  z-index: 4;\n  text-align: center;\n  font-family: "Tahoma";\n  font-size: 14px;\n  color: #666;\n}\n._zs_gallery_mx-effects_progress_-circle-wrapper ._zs_gallery_mx-effects_progress_-circle-bg {\n  z-index: 2;\n  border-radius: 50%;\n}\n._zs_gallery_mx-effects_progress_-circle-wrapper ._zs_gallery_mx-effects_progress_-circle {\n  position: relative;\n  z-index: 3;\n}\n._zs_gallery_mx-effects_progress_-circle-wrapper ._zs_gallery_mx-effects_progress_-circle ._zs_gallery_mx-effects_progress_-progress {\n  border-radius: 50%;\n  position: absolute;\n  top: 0;\n  transform: rotate(-135deg);\n  text-indent: 1px;\n}\n._zs_gallery_mx-effects_progress_-circle-wrapper ._zs_gallery_mx-effects_progress_-circle ._zs_gallery_mx-effects_progress_-circle-half {\n  position: absolute;\n  top: 0;\n  overflow: hidden;\n}\n._zs_gallery_mx-effects_progress_-circle-wrapper ._zs_gallery_mx-effects_progress_-circle ._zs_gallery_mx-effects_progress_-circle-half._zs_gallery_mx-effects_progress_-circle-half-left {\n  left: 0;\n}\n._zs_gallery_mx-effects_progress_-circle-wrapper ._zs_gallery_mx-effects_progress_-circle ._zs_gallery_mx-effects_progress_-circle-half._zs_gallery_mx-effects_progress_-circle-half-right {\n  right: 0;\n}\n');var o={left:"_zs_gallery_mx-effects_progress_-num-left",right:"_zs_gallery_mx-effects_progress_-num-right",top:"_zs_gallery_mx-effects_progress_-num-top",bottom:"_zs_gallery_mx-effects_progress_-num-bottom"};s.exports=_.View.extend({tmpl:function(e,r,s,_,t,l,o,i){if(s||(s=e),!t){var n={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},a=/[&<>"'`]/g,g=function(e){return"&"+n[e]+";"};t=function(e){return""+(null==e?"":e)},_=function(e){return t(e).replace(a,g)}}if(!l){var f={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},c=function(e){return f[e]},p=/[!')(*]/g;l=function(e){return encodeURIComponent(t(e)).replace(p,c)}}if(!i){var d=/[\\'"]/g;i=function(e){return t(e).replace(d,"\\$&")}}var m,x,y,h="",z=e.type,u=e.width,b=e.border,w=e.viewId,v=e.color,k=e.text,V=e.num,I=e.vs,N=e.colorVs,G=e.numRemain,R=e.colorGradient,M=e.cName,P=e.placement,$=e.color1,C=e.color2,F=e.degree;try{if(y=1,x="if (type == 'circle')",m="<%if (type == 'circle') {%>","circle"==z&&(h+='<div mxa="_zs_galleryb#:_" class="_zs_gallery_mx-effects_progress_-circle-wrapper"><div class="_zs_gallery_mx-effects_progress_-circle-bg" style="width: ',y=3,x="=width",h+=(m="<%=width%>",_(u)+"px; height: "),y=3,x="=width",h+=(m="<%=width%>",_(u)+"px; margin-left: "),y=3,x="=(0 - width / 2)",h+=(m="<%=(0 - width / 2)%>",_(0-u/2)+"px; border: "),y=3,x="=border",h+=(m="<%=border%>",_(b)+'px solid #f0f0f0;"></div><div id="'),y=4,x="=viewId",h+=(m="<%=viewId%>",_(w)+'_circle" class="_zs_gallery_mx-effects_progress_-circle" style="width: '),y=4,x="=(width + 2 * border)",h+=(m="<%=(width + 2 * border)%>",_(u+2*b)+"px; height: "),y=4,x="=(width + 2 * border)",h+=(m="<%=(width + 2 * border)%>",_(u+2*b)+'px;"><div class="_zs_gallery_mx-effects_progress_-circle-half _zs_gallery_mx-effects_progress_-circle-half-left" style="width: '),y=5,x="=(width / 2) + border",h+=(m="<%=(width / 2) + border%>",_(u/2+b)+"px; height: "),y=5,x="=(width + 2 * border)",h+=(m="<%=(width + 2 * border)%>",_(u+2*b)+'px;"><div class="_zs_gallery_mx-effects_progress_-progress" style="left: '),y=6,x="=border",h+=(m="<%=border%>",_(b)+"px; width: "),y=6,x="=width",h+=(m="<%=width%>",_(u)+"px; height: "),y=6,x="=width",h+=(m="<%=width%>",_(u)+"px; border: "),y=6,x="=border",h+=(m="<%=border%>",_(b)+"px solid transparent; border-bottom: "),y=6,x="=border",h+=(m="<%=border%>",_(b)+"px solid "),y=6,x="=color",h+=(m="<%=color%>",_(v)+"; border-left: "),y=6,x="=border",h+=(m="<%=border%>",_(b)+"px solid "),y=6,x="=color",h+=(m="<%=color%>",_(v)+';"></div></div><div class="_zs_gallery_mx-effects_progress_-circle-half _zs_gallery_mx-effects_progress_-circle-half-right" style="width: '),y=8,x="=(width / 2) + border",h+=(m="<%=(width / 2) + border%>",_(u/2+b)+"px; height: "),y=8,x="=(width + 2 * border)",h+=(m="<%=(width + 2 * border)%>",_(u+2*b)+'px;"><div class="_zs_gallery_mx-effects_progress_-progress" style="right: '),y=9,x="=border",h+=(m="<%=border%>",_(b)+"px; width: "),y=9,x="=width",h+=(m="<%=width%>",_(u)+"px; height: "),y=9,x="=width",h+=(m="<%=width%>",_(u)+"px; border: "),y=9,x="=border",h+=(m="<%=border%>",_(b)+"px solid transparent; border-top: "),y=9,x="=border",h+=(m="<%=border%>",_(b)+"px solid "),y=9,x="=color",h+=(m="<%=color%>",_(v)+"; border-right: "),y=9,x="=border",h+=(m="<%=border%>",_(b)+"px solid "),y=9,x="=color",h+=(m="<%=color%>",_(v)+';"></div></div></div>'),y=12,x="if text",m="<%if (text) {%>",k&&(h+='<div class="_zs_gallery_mx-effects_progress_-circle-text" style="width: ',y=13,x="=width",h+=(m="<%=width%>",_(u)+"px; height: "),y=13,x="=width",h+=(m="<%=width%>",_(u)+"px; margin-left: "),y=13,x="=(0 - width / 2)",h+=(m="<%=(0 - width / 2)%>",_(0-u/2)+"px; line-height: "),y=13,x="=width",h+=(m="<%=width%>",_(u)+'px;">'),y=13,x="=num",h+=(m="<%=num%>",_(V)+"</div>"),y=14,x="/if",m="<%}%>"),h+="</div>",y=16,x="/if",m="<%}%>"),h+=" ",y=18,x="if (type == 'line')",m="<%if (type == 'line') {%>","line"==z&&(h+=" ",y=19,x="if vs",m="<%if (vs) {%>",I?(h+='<div class="_zs_gallery_mx-effects_progress_-line _zs_gallery_mx-effects_progress_-line-vs" style="width: ',y=20,x="=width",h+=(m="<%=width%>",_(u)+"px; "),y=20,x="if colorVs",m="<%if (colorVs) {%>",N&&(h+=" background: ",y=20,x="=colorVs",h+=(m="<%=colorVs%>",_(N)+"; "),y=20,x="/if",m="<%}%>"),h+='"><div class="_zs_gallery_mx-effects_progress_-on" style="width: ',y=21,x="=num",h+=(m="<%=num%>",_(V)+"; background: "),y=21,x="=color",h+=(m="<%=color%>",_(v)+';"></div><div mxa="_zs_galleryb#:a" class="_zs_gallery_mx-effects_progress_-num _zs_gallery_mx-effects_progress_-num-left">'),y=22,x="=num",h+=(m="<%=num%>",_(V)+'</div><div mxa="_zs_galleryb#:b" class="_zs_gallery_mx-effects_progress_-num _zs_gallery_mx-effects_progress_-num-right">'),y=23,x="=numRemain",h+=(m="<%=numRemain%>",_(G)+"</div></div>"),y=25,x="else",m="<%}    else {%>"):(h+='<div class="_zs_gallery_mx-effects_progress_-line" style="width: ',y=26,x="=width",h+=(m="<%=width%>",_(u)+'px;"><div class="_zs_gallery_mx-effects_progress_-on" style="width: '),y=27,x="=num",h+=(m="<%=num%>",_(V)+"; "),y=27,x="if colorGradient",m="<%if (colorGradient) {%>",R?(h+=" background: linear-gradient(to right, ",y=27,x="=color",h+=(m="<%=color%>",_(v)+", "),y=27,x="=colorGradient",h+=(m="<%=colorGradient%>",_(R)+"); "),y=27,x="else",m="<%}        else {%>"):(h+=" background: ",y=27,x="=color",h+=(m="<%=color%>",_(v)+"; "),y=27,x="/if",m="<%}%>"),h+='"></div>',y=28,x="if text",m="<%if (text) {%>",k&&(h+='<div class="_zs_gallery_mx-effects_progress_-num ',y=29,x="=cName",h+=(m="<%=cName%>",_(M)+'" '),y=29,x="if (placement == 'top' || placement == 'bottom')",m="<%if (placement == 'top' || placement == 'bottom') {%>","top"!=P&&"bottom"!=P||(h+=' style="left: ',y=29,x="=num",h+=(m="<%=num%>",_(V)+';" '),y=29,x="/if",m="<%}%>"),h+=">",y=29,x="=num",h+=(m="<%=num%>",_(V)+"</div>"),y=30,x="/if",m="<%}%>"),h+="</div>",y=32,x="/if",m="<%}%>"),h+=" ",y=33,x="/if",m="<%}%>"),h+=" ",y=35,x="if (type == 'gradient')",m="<%if (type == 'gradient') {%>","gradient"==z&&(h+='<div class="_zs_gallery_mx-effects_progress_-gradient" style="width: ',y=36,x="=width",h+=(m="<%=width%>",_(u)+'px;"><div class="_zs_gallery_mx-effects_progress_-on" style="width: '),y=37,x="=num",h+=(m="<%=num%>",_(V)+"; background: linear-gradient(45deg, "),y=37,x="=color1",h+=(m="<%=color1%>",_($)+" 33%, "),y=37,x="=color2",h+=(m="<%=color2%>",_(C)+" 34%, "),y=37,x="=color2",h+=(m="<%=color2%>",_(C)+" 59%, "),y=37,x="=color1",h+=(m="<%=color1%>",_($)+' 60%); background-size: 24px 12px;"></div>'),y=38,x="if text",m="<%if (text) {%>",k&&(h+='<div class="_zs_gallery_mx-effects_progress_-num ',y=39,x="=cName",h+=(m="<%=cName%>",_(M)+'" '),y=39,x="if (placement == 'top' || placement == 'bottom')",m="<%if (placement == 'top' || placement == 'bottom') {%>","top"!=P&&"bottom"!=P||(h+=' style="left: ',y=39,x="=num",h+=(m="<%=num%>",_(V)+';" '),y=39,x="/if",m="<%}%>"),h+=">",y=39,x="=num",h+=(m="<%=num%>",_(V)+"</div>"),y=40,x="/if",m="<%}%>"),h+="</div>",y=42,x="/if",m="<%}%>"),h+=" ",y=45,x="if (type == 'degree')",m="<%if (type == 'degree') {%>","degree"==z){h+='<div mxa="_zs_galleryb#:c" class="_zs_gallery_mx-effects_progress_-degree-wrapper"><div mxa="_zs_galleryb#:d" class="_zs_gallery_mx-effects_progress_-degree-bg">',y=48,x="for (let i=0;i<10;i+=1)",m="<%for (var i = 0; i < 10; i += 1) {%>";for(var S=0;S<10;S+=1)h+='<span mxs="_zs_galleryb#:_" class="_zs_gallery_mx-effects_progress_-degree"></span>',y=50,x="/for",m="<%}%>";h+='</div><div mxa="_zs_galleryb#:e" class="_zs_gallery_mx-effects_progress_-degree-on">',y=53,x="for (let i=0;i<degree;i+=1)",m="<%for (var i = 0; i < degree; i += 1) {%>";for(S=0;S<F;S+=1)h+='<span class="_zs_gallery_mx-effects_progress_-degree" style="opacity: ',y=54,x="=(i / 10 + 0.08)",h+=(m="<%=(i / 10 + 0.08)%>",_(S/10+.08)+"; "),y=54,x="if color",m="<%if (color) {%>",v&&(h+=" background-color: ",y=54,x="=color",h+=(m="<%=color%>",_(v)+"; "),y=54,x="/if",m="<%}%>"),h+='"></span>',y=55,x="/for",m="<%}%>";h+="</div></div>",y=58,x="/if",m="<%}%>"}}catch(e){var T="render view error:"+(e.message||e);throw x&&(T+="\r\n\tsrc art:{{"+x+"}}\r\n\tat line:"+y),T+="\r\n\t"+(x?"translate to:":"expr:"),T+=m+"\r\n\tat file:mx-effects/progress.html"}return h},init:function(e){this.updater.snapshot(),this.assign(e)},assign:function(e){var r=this.updater.altered(),s=+e.num||0,_=s+"",t=_.indexOf(".");(t=t>=0?_.slice(t+1).length:0)>2&&(t=2),s<0&&(s=0),s>100&&(s=100);var i,n,a,g=e.type||"line",f=e.textPlacement||"top",c=0,p=e.border||8,d=e.color||"",m=e.colorGradient||"",x=e.colorVs||"",y=getComputedStyle(document.documentElement),h=document.body.style.getPropertyValue("--color-brand").trim()||y.getPropertyValue("--color-brand").trim();switch(g){case"degree":c=parseInt(s/10);break;case"circle":d||(d=h),i=e.width||120;break;case"gradient":if(d=d||h){var z=l.toRgb(d);n="rgba("+z.r+", "+z.g+", "+z.b+", 0.4)",a="rgba("+z.r+", "+z.g+", "+z.b+", 0.2)"}case"line":i=e.width||200}return this.updater.set({viewId:this.id,placement:f,originNum:s,num:s.toFixed(t)+"%",numRemain:(100-s).toFixed(t)+"%",cName:o[f],color:d,colorGradient:m,colorVs:x,color1:n,color2:a,type:g,text:e.text+""!="false",vs:e.vs+""=="true",degree:c,width:+i,border:+p,gradient:"gradient"==g}),r||(r=this.updater.altered()),!!r&&(this.updater.snapshot(),!0)},render:function(){this.updater.digest();var e=this.updater.get("type"),r=this.updater.get("originNum");if("circle"==e){var s,_,l=t("#"+this.id+"_circle"),o=l.find("._zs_gallery_mx-effects_progress_-circle-half-right ._zs_gallery_mx-effects_progress_-progress"),i=l.find("._zs_gallery_mx-effects_progress_-circle-half-left ._zs_gallery_mx-effects_progress_-progress"),n=Math.ceil(360*r/100);n>180?_=n-(s=180):(s=n,_=0);var a=Math.ceil(1e3*r/100),g=Math.floor(a*s/n),f=Math.floor(a*_/n);o.animate({textIndent:0},{step:function(e,r){var _=(1-e)*s-135;t(this).css({"-webkit-transform":"rotate("+_+"deg)",transform:"rotate("+_+"deg)"})},duration:g,done:function(){_>0&&i.animate({textIndent:0},{step:function(e,r){var s=(1-e)*_-135;t(this).css({"-webkit-transform":"rotate("+s+"deg)",transform:"rotate("+s+"deg)"})},duration:f},"linear")}},"linear")}}})});